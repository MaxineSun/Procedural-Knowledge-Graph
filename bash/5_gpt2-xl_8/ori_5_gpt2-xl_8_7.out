Repo card metadata block was not found. Setting CardData to empty.
[2024-01-18 13:55:27,366] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 22%|██▏       | 28/128 [00:00<00:00, 274.95it/s] 45%|████▍     | 57/128 [00:00<00:00, 279.66it/s] 66%|██████▋   | 85/128 [00:00<00:00, 277.24it/s] 88%|████████▊ | 113/128 [00:00<00:00, 278.00it/s]100%|██████████| 128/128 [00:00<00:00, 275.72it/s]
[2024-01-18 13:55:27,959] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<01:15,  1.69it/s]  2%|▏         | 2/128 [00:00<00:39,  3.23it/s]  3%|▎         | 4/128 [00:00<00:21,  5.81it/s]  5%|▍         | 6/128 [00:01<00:16,  7.32it/s]  6%|▋         | 8/128 [00:01<00:14,  8.28it/s]  8%|▊         | 10/128 [00:01<00:13,  8.79it/s]  9%|▉         | 12/128 [00:01<00:11,  9.83it/s] 11%|█         | 14/128 [00:01<00:11,  9.73it/s] 12%|█▎        | 16/128 [00:02<00:11,  9.86it/s] 14%|█▍        | 18/128 [00:02<00:10, 10.01it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.16it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.81it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.82it/s] 20%|██        | 26/128 [00:03<00:10, 10.02it/s] 22%|██▏       | 28/128 [00:03<00:09, 10.44it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.55it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.90it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.65it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.38it/s] 30%|██▉       | 38/128 [00:04<00:08, 10.34it/s] 31%|███▏      | 40/128 [00:04<00:08, 10.09it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.86it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.77it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.75it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.18it/s] 38%|███▊      | 48/128 [00:05<00:07, 10.19it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.14it/s] 41%|████      | 52/128 [00:05<00:07, 10.17it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.76it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.68it/s] 45%|████▍     | 57/128 [00:06<00:07, 10.12it/s] 46%|████▌     | 59/128 [00:06<00:06, 10.14it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.21it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.40it/s] 51%|█████     | 65/128 [00:06<00:05, 10.65it/s] 52%|█████▏    | 67/128 [00:07<00:05, 10.51it/s] 54%|█████▍    | 69/128 [00:07<00:05, 10.35it/s] 55%|█████▌    | 71/128 [00:07<00:05, 11.01it/s] 57%|█████▋    | 73/128 [00:07<00:04, 11.43it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.91it/s] 60%|██████    | 77/128 [00:07<00:04, 10.92it/s] 62%|██████▏   | 79/128 [00:08<00:04, 10.70it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.83it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.61it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.64it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.65it/s] 70%|██████▉   | 89/128 [00:09<00:03, 10.24it/s] 71%|███████   | 91/128 [00:09<00:03, 10.44it/s] 73%|███████▎  | 93/128 [00:09<00:03, 11.11it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.74it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.47it/s] 77%|███████▋  | 99/128 [00:10<00:02, 10.33it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.04it/s] 80%|████████  | 103/128 [00:10<00:02, 10.70it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.79it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.45it/s] 85%|████████▌ | 109/128 [00:11<00:01, 10.27it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.42it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.31it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.25it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.60it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.43it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.34it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.40it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.41it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.36it/s]100%|██████████| 128/128 [00:12<00:00,  9.98it/s]
[2024-01-18 13:55:40,791] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.67it/s]  2%|▏         | 2/128 [00:00<00:14,  8.70it/s]  3%|▎         | 4/128 [00:00<00:12,  9.76it/s]  4%|▍         | 5/128 [00:00<00:12,  9.72it/s]  5%|▍         | 6/128 [00:00<00:13,  9.14it/s]  5%|▌         | 7/128 [00:00<00:12,  9.32it/s]  7%|▋         | 9/128 [00:00<00:11, 10.07it/s]  8%|▊         | 10/128 [00:01<00:12,  9.74it/s]  9%|▉         | 12/128 [00:01<00:11, 10.51it/s] 11%|█         | 14/128 [00:01<00:11,  9.85it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.97it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.77it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.22it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.21it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.81it/s] 19%|█▉        | 24/128 [00:02<00:11,  9.42it/s] 20%|██        | 26/128 [00:02<00:10,  9.50it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.84it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.78it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.82it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.76it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.71it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.32it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.26it/s] 31%|███▏      | 40/128 [00:04<00:08,  9.90it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.83it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.99it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.91it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.23it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.21it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.06it/s] 41%|████      | 52/128 [00:05<00:07, 10.18it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.91it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.83it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.86it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.93it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.27it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.26it/s] 50%|█████     | 64/128 [00:06<00:06, 10.61it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.57it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.45it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.71it/s] 56%|█████▋    | 72/128 [00:07<00:05, 11.19it/s] 58%|█████▊    | 74/128 [00:07<00:04, 11.17it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.91it/s] 61%|██████    | 78/128 [00:07<00:04, 10.61it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.65it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.54it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.67it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.79it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.61it/s] 70%|███████   | 90/128 [00:08<00:03, 10.26it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.91it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.99it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.69it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.26it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.22it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.05it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.73it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.44it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.63it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.49it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.49it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.08it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.33it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.59it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.70it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.38it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.49it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.32it/s]100%|██████████| 128/128 [00:12<00:00, 10.22it/s]100%|██████████| 128/128 [00:12<00:00, 10.26it/s]
[2024-01-18 13:55:53,275] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.25it/s]  3%|▎         | 4/128 [00:00<00:11, 10.71it/s]  5%|▍         | 6/128 [00:00<00:12, 10.16it/s]  6%|▋         | 8/128 [00:00<00:11, 10.55it/s]  8%|▊         | 10/128 [00:00<00:11, 10.38it/s]  9%|▉         | 12/128 [00:01<00:10, 11.10it/s] 11%|█         | 14/128 [00:01<00:10, 10.73it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.39it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.27it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.51it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.13it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.18it/s] 20%|██        | 26/128 [00:02<00:10, 10.19it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.32it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.49it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.06it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.76it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.60it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.26it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.01it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.98it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.87it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.28it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.04it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.99it/s] 41%|████      | 52/128 [00:05<00:07, 10.05it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.82it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.76it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.16it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.00it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.07it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.33it/s] 51%|█████     | 65/128 [00:06<00:05, 10.68it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.54it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.24it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.83it/s] 57%|█████▋    | 73/128 [00:07<00:04, 11.22it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.90it/s] 60%|██████    | 77/128 [00:07<00:04, 10.96it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.76it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.61it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.44it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.55it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.68it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.30it/s] 71%|███████   | 91/128 [00:08<00:03, 10.36it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.91it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.70it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.45it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.36it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.12it/s] 80%|████████  | 103/128 [00:09<00:02, 10.44it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.61it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.42it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.33it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.53it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.37it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.19it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.54it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.58it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.45it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.59it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.33it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.25it/s]100%|██████████| 128/128 [00:12<00:00, 10.39it/s]
[2024-01-18 13:56:05,603] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.18it/s]  3%|▎         | 4/128 [00:00<00:11, 10.69it/s]  5%|▍         | 6/128 [00:00<00:11, 10.41it/s]  6%|▋         | 8/128 [00:00<00:11, 10.51it/s]  8%|▊         | 10/128 [00:00<00:11, 10.42it/s]  9%|▉         | 12/128 [00:01<00:10, 11.05it/s] 11%|█         | 14/128 [00:01<00:10, 10.68it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.52it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.24it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.52it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.10it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.14it/s] 20%|██        | 26/128 [00:02<00:09, 10.23it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.38it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.48it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.01it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.71it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.55it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.38it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.89it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.94it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.78it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.21it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.22it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.03it/s] 41%|████      | 52/128 [00:05<00:07, 10.10it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.81it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.75it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.18it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.14it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.07it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.39it/s] 51%|█████     | 65/128 [00:06<00:05, 10.67it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.53it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.37it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.79it/s] 57%|█████▋    | 73/128 [00:07<00:04, 11.24it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.89it/s] 60%|██████    | 77/128 [00:07<00:04, 10.93it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.75it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.78it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.39it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.60it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.63it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.24it/s] 71%|███████   | 91/128 [00:08<00:03, 10.49it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.94it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.68it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.42it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.33it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.09it/s] 80%|████████  | 103/128 [00:09<00:02, 10.65it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.64it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.45it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.32it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.53it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.39it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.09it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.48it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.52it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.40it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.55it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.31it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.22it/s]100%|██████████| 128/128 [00:12<00:00, 10.39it/s]
[2024-01-18 13:56:17,926] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.77it/s]  3%|▎         | 4/128 [00:00<00:11, 10.50it/s]  5%|▍         | 6/128 [00:00<00:11, 10.42it/s]  6%|▋         | 8/128 [00:00<00:11, 10.46it/s]  8%|▊         | 10/128 [00:00<00:11, 10.35it/s]  9%|▉         | 12/128 [00:01<00:10, 10.94it/s] 11%|█         | 14/128 [00:01<00:10, 10.60it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.46it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.26it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.45it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.05it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.09it/s] 20%|██        | 26/128 [00:02<00:10, 10.19it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.52it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.45it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.07it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.68it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.53it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.42it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.94it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.98it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.76it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.19it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.21it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.98it/s] 41%|████      | 52/128 [00:05<00:07, 10.05it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.74it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.68it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.12it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.17it/s] 48%|████▊     | 61/128 [00:05<00:06,  9.96it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.32it/s] 51%|█████     | 65/128 [00:06<00:05, 10.58it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.46it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.33it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.81it/s] 57%|█████▋    | 73/128 [00:07<00:04, 11.15it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.88it/s] 60%|██████    | 77/128 [00:07<00:04, 10.87it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.70it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.82it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.37it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.59it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.60it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.23it/s] 71%|███████   | 91/128 [00:08<00:03, 10.47it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.89it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.61it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.42it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.29it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.06it/s] 80%|████████  | 103/128 [00:09<00:02, 10.65it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.47it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.38it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.20it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.43it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.35it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.03it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.42it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.46it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.34it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.51it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.33it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.14it/s]100%|██████████| 128/128 [00:12<00:00, 10.35it/s]
[2024-01-18 13:56:47,926] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 24%|██▍       | 31/128 [00:00<00:00, 306.71it/s] 48%|████▊     | 62/128 [00:00<00:00, 299.79it/s] 72%|███████▏  | 92/128 [00:00<00:00, 277.18it/s] 98%|█████████▊| 125/128 [00:00<00:00, 293.61it/s]100%|██████████| 128/128 [00:00<00:00, 293.90it/s]
[2024-01-18 13:56:48,486] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.95it/s]  2%|▏         | 3/128 [00:00<00:12, 10.24it/s]  4%|▍         | 5/128 [00:00<00:12, 10.17it/s]  5%|▌         | 7/128 [00:00<00:11, 10.66it/s]  7%|▋         | 9/128 [00:00<00:11, 10.40it/s]  9%|▊         | 11/128 [00:01<00:10, 10.77it/s] 10%|█         | 13/128 [00:01<00:10, 10.66it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.14it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.38it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.19it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.45it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.98it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.04it/s] 21%|██        | 27/128 [00:02<00:10,  9.74it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.04it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.15it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.45it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.26it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.24it/s] 30%|███       | 39/128 [00:03<00:08, 10.48it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.08it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.33it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.25it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.18it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.84it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.72it/s] 41%|████      | 52/128 [00:05<00:07, 10.28it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.89it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.21it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.49it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.69it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.79it/s] 50%|█████     | 64/128 [00:06<00:05, 10.99it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.69it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.48it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.41it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.69it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.82it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.71it/s] 60%|██████    | 77/128 [00:07<00:05, 10.00it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.03it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.29it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.51it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.04it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.31it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.25it/s] 71%|███████   | 91/128 [00:08<00:03, 10.47it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.69it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.63it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.52it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.75it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.78it/s] 80%|████████  | 103/128 [00:09<00:02, 10.84it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.93it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.42it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.34it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.13it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.50it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.39it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.15it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.01it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.00it/s] 96%|█████████▌| 123/128 [00:11<00:00,  9.74it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.10it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.04it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.07it/s]100%|██████████| 128/128 [00:12<00:00,  9.15it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]
[2024-01-18 13:57:01,045] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.71it/s]  2%|▏         | 3/128 [00:00<00:12, 10.16it/s]  3%|▎         | 4/128 [00:00<00:12,  9.70it/s]  5%|▍         | 6/128 [00:00<00:11, 10.34it/s]  6%|▋         | 8/128 [00:00<00:11, 10.81it/s]  8%|▊         | 10/128 [00:00<00:10, 10.85it/s]  9%|▉         | 12/128 [00:01<00:11, 10.12it/s] 11%|█         | 14/128 [00:01<00:11,  9.85it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.57it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.55it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.64it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.78it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.36it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.74it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.57it/s] 20%|██        | 26/128 [00:02<00:10,  9.36it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.91it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.32it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.60it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.20it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.41it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.20it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.47it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.34it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.29it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.20it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.74it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.89it/s] 41%|████      | 52/128 [00:05<00:07, 10.61it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.10it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.36it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.54it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.70it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.88it/s] 50%|█████     | 64/128 [00:06<00:05, 11.32it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.82it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.58it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.47it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.72it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.14it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.03it/s] 61%|██████    | 78/128 [00:07<00:05,  9.96it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.27it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.41it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.34it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.43it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.59it/s] 70%|███████   | 90/128 [00:08<00:03, 10.48it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.59it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.74it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.83it/s] 77%|███████▋  | 98/128 [00:09<00:02, 11.30it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.85it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.92it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.99it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.74it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.37it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.29it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.48it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.69it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.31it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.16it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.31it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.51it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.76it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.72it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.87it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]
[2024-01-18 13:57:13,467] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.91it/s]  2%|▏         | 3/128 [00:00<00:12, 10.37it/s]  4%|▍         | 5/128 [00:00<00:12, 10.10it/s]  5%|▌         | 7/128 [00:00<00:11, 10.59it/s]  7%|▋         | 9/128 [00:00<00:10, 10.84it/s]  9%|▊         | 11/128 [00:01<00:10, 11.00it/s] 10%|█         | 13/128 [00:01<00:10, 10.74it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.17it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.33it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.39it/s] 16%|█▋        | 21/128 [00:01<00:09, 10.71it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.02it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.09it/s] 21%|██        | 27/128 [00:02<00:10,  9.70it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.10it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.43it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.46it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.27it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.20it/s] 30%|███       | 39/128 [00:03<00:08, 10.42it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.31it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.53it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.26it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.21it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.79it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.73it/s] 41%|████      | 52/128 [00:05<00:07, 10.56it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.99it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.16it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.44it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.56it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.81it/s] 50%|█████     | 64/128 [00:06<00:05, 11.26it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.68it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.47it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.35it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.63it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.08it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.95it/s] 61%|██████    | 78/128 [00:07<00:05,  9.83it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.12it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.27it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.24it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.44it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.39it/s] 70%|███████   | 90/128 [00:08<00:03, 10.36it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.43it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.63it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.82it/s] 77%|███████▋  | 98/128 [00:09<00:02, 11.30it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.72it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.85it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.84it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.63it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.45it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.14it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.42it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.56it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.21it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.24it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.26it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.45it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.66it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.64it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.79it/s]100%|██████████| 128/128 [00:12<00:00, 10.34it/s]
[2024-01-18 13:57:25,858] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.52it/s]  2%|▏         | 2/128 [00:00<00:12,  9.77it/s]  3%|▎         | 4/128 [00:00<00:12,  9.78it/s]  5%|▍         | 6/128 [00:00<00:11, 10.22it/s]  6%|▋         | 8/128 [00:00<00:11, 10.67it/s]  8%|▊         | 10/128 [00:00<00:10, 10.84it/s]  9%|▉         | 12/128 [00:01<00:10, 10.98it/s] 11%|█         | 14/128 [00:01<00:11, 10.34it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.19it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.42it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.73it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.18it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.73it/s] 20%|██        | 26/128 [00:02<00:10,  9.49it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.89it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.26it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.53it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.23it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.36it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.21it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.41it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.27it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.31it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.04it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.63it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.77it/s] 41%|████      | 52/128 [00:05<00:07, 10.49it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.04it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.18it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.42it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.53it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.78it/s] 50%|█████     | 64/128 [00:06<00:05, 11.22it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.75it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.44it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.36it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.58it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.03it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.02it/s] 61%|██████    | 78/128 [00:07<00:05,  9.80it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.16it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.25it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.21it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.41it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.42it/s] 70%|███████   | 90/128 [00:08<00:03, 10.33it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.39it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.56it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.75it/s] 77%|███████▋  | 98/128 [00:09<00:02, 11.29it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.62it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.79it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.74it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.56it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.40it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.17it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.37it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.54it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.15it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.17it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.34it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.45it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.68it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.62it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.76it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]
[2024-01-18 13:57:38,302] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.67it/s]  2%|▏         | 3/128 [00:00<00:12, 10.39it/s]  4%|▍         | 5/128 [00:00<00:12, 10.08it/s]  5%|▌         | 7/128 [00:00<00:11, 10.51it/s]  7%|▋         | 9/128 [00:00<00:11, 10.72it/s]  9%|▊         | 11/128 [00:01<00:10, 10.97it/s] 10%|█         | 13/128 [00:01<00:10, 10.89it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.10it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.31it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.27it/s] 16%|█▋        | 21/128 [00:01<00:10, 10.62it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.12it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.97it/s] 21%|██        | 27/128 [00:02<00:10,  9.62it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.00it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.34it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.57it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.23it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.19it/s] 30%|███       | 39/128 [00:03<00:08, 10.36it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.25it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.45it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.23it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.15it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.75it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.68it/s] 41%|████      | 52/128 [00:05<00:07, 10.51it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.98it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.23it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.47it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.61it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.83it/s] 50%|█████     | 64/128 [00:06<00:05, 11.27it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.67it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.52it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.36it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.62it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.06it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.99it/s] 61%|██████    | 78/128 [00:07<00:05,  9.87it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.19it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.30it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.25it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.43it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.43it/s] 70%|███████   | 90/128 [00:08<00:03, 10.36it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.42it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.60it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.78it/s] 77%|███████▋  | 98/128 [00:09<00:02, 11.25it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.67it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.78it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.80it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.59it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.41it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.11it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.41it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.53it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.18it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.20it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.22it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.42it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.63it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.61it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.77it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 13:58:07,400] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 265.91it/s] 42%|████▏     | 54/128 [00:00<00:00, 246.00it/s] 62%|██████▎   | 80/128 [00:00<00:00, 248.16it/s] 84%|████████▎ | 107/128 [00:00<00:00, 254.00it/s]100%|██████████| 128/128 [00:00<00:00, 250.05it/s]
[2024-01-18 13:58:08,036] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.17it/s]  3%|▎         | 4/128 [00:00<00:12, 10.10it/s]  5%|▍         | 6/128 [00:00<00:12,  9.62it/s]  6%|▋         | 8/128 [00:00<00:11, 10.01it/s]  8%|▊         | 10/128 [00:00<00:11, 10.00it/s]  9%|▉         | 12/128 [00:01<00:11, 10.34it/s] 11%|█         | 14/128 [00:01<00:11,  9.63it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.58it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.71it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.15it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.82it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.23it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.23it/s] 21%|██        | 27/128 [00:02<00:10,  9.98it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.68it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.98it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.02it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.06it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.22it/s] 30%|███       | 39/128 [00:03<00:08,  9.98it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.92it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.91it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.76it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.08it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.86it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.15it/s] 41%|████      | 52/128 [00:05<00:07, 10.35it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.54it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.71it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.91it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.34it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.51it/s] 50%|█████     | 64/128 [00:06<00:06, 10.56it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.69it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.48it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.35it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.41it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.29it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.13it/s] 61%|██████    | 78/128 [00:07<00:04, 10.39it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.63it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.19it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.46it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.43it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.58it/s] 70%|███████   | 90/128 [00:08<00:03, 10.68it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.69it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.33it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.28it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.90it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.25it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.45it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.10it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.68it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.84it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.76it/s] 88%|████████▊ | 112/128 [00:11<00:01,  9.64it/s] 89%|████████▉ | 114/128 [00:11<00:01,  9.78it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.16it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.67it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.94it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.80it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.59it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.00it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.12it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.27it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]
[2024-01-18 13:58:20,756] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.76it/s]  2%|▏         | 3/128 [00:00<00:12, 10.14it/s]  4%|▍         | 5/128 [00:00<00:12,  9.83it/s]  5%|▍         | 6/128 [00:00<00:12,  9.72it/s]  6%|▋         | 8/128 [00:00<00:11, 10.02it/s]  7%|▋         | 9/128 [00:00<00:12,  9.81it/s]  9%|▊         | 11/128 [00:01<00:11, 10.29it/s] 10%|█         | 13/128 [00:01<00:11, 10.19it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.48it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.92it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.09it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.89it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.16it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.16it/s] 21%|██        | 27/128 [00:02<00:09, 10.18it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.72it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.06it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.04it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.06it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.34it/s] 30%|███       | 39/128 [00:03<00:08, 10.17it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.99it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.97it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.79it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.13it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.15it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.26it/s] 41%|████      | 52/128 [00:05<00:07, 10.49it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.59it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.73it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.93it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.60it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.50it/s] 50%|█████     | 64/128 [00:06<00:05, 10.71it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.77it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.53it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.60it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.50it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.33it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.14it/s] 61%|██████    | 78/128 [00:07<00:04, 10.39it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.61it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.38it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.51it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.59it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.62it/s] 70%|███████   | 90/128 [00:08<00:03, 10.73it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.77it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.35it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.31it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.90it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.24it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.47it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.51it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.09it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.37it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.37it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.29it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.44it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.83it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.08it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.01it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.06it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.37it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.66it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.64it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]
[2024-01-18 13:58:33,276] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.90it/s]  3%|▎         | 4/128 [00:00<00:12, 10.04it/s]  5%|▍         | 6/128 [00:00<00:12,  9.73it/s]  6%|▋         | 8/128 [00:00<00:11, 10.06it/s]  8%|▊         | 10/128 [00:00<00:11, 10.05it/s]  9%|▉         | 12/128 [00:01<00:11, 10.33it/s] 11%|█         | 14/128 [00:01<00:11,  9.62it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.56it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.83it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.15it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.86it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.20it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.20it/s] 21%|██        | 27/128 [00:02<00:09, 10.13it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.76it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.11it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.04it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.07it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.32it/s] 30%|███       | 39/128 [00:03<00:08, 10.00it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.93it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.90it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.74it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.09it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.03it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.13it/s] 41%|████      | 52/128 [00:05<00:07, 10.40it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.51it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.67it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.87it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.39it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.46it/s] 50%|█████     | 64/128 [00:06<00:06, 10.61it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.69it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.47it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.56it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.39it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.32it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.13it/s] 61%|██████    | 78/128 [00:07<00:04, 10.37it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.59it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.44it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.52it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.61it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.64it/s] 70%|███████   | 90/128 [00:08<00:03, 10.74it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.78it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.42it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.32it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.95it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.28it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.50it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.53it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.13it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.41it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.41it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.31it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.35it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.84it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.06it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.03it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.06it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.22it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.71it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.62it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]
[2024-01-18 13:58:45,817] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.08it/s]  3%|▎         | 4/128 [00:00<00:12, 10.09it/s]  5%|▍         | 6/128 [00:00<00:12,  9.51it/s]  6%|▋         | 8/128 [00:00<00:11, 10.11it/s]  8%|▊         | 10/128 [00:00<00:11, 10.01it/s]  9%|▉         | 12/128 [00:01<00:11, 10.37it/s] 11%|█         | 14/128 [00:01<00:11,  9.62it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.56it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.76it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.19it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.83it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.22it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.20it/s] 21%|██        | 27/128 [00:02<00:10, 10.03it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.77it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.03it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.06it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.08it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.20it/s] 30%|███       | 39/128 [00:03<00:08, 10.04it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.92it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.97it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.80it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.12it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.87it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.20it/s] 41%|████      | 52/128 [00:05<00:07, 10.34it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.57it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.70it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.79it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.33it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.47it/s] 50%|█████     | 64/128 [00:06<00:06, 10.60it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.75it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.50it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.37it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.52it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.28it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.20it/s] 61%|██████    | 78/128 [00:07<00:04, 10.42it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.49it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.30it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.49it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.56it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.66it/s] 70%|███████   | 90/128 [00:08<00:03, 10.73it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.54it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.38it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.26it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.97it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.29it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.29it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.53it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.06it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.41it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.40it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.12it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.27it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.77it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.04it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.02it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.99it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.00it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.58it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.50it/s]100%|██████████| 128/128 [00:12<00:00, 10.18it/s]
[2024-01-18 13:58:58,401] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.12it/s]  3%|▎         | 4/128 [00:00<00:12, 10.04it/s]  5%|▍         | 6/128 [00:00<00:12,  9.43it/s]  6%|▋         | 8/128 [00:00<00:11, 10.03it/s]  8%|▊         | 10/128 [00:01<00:11,  9.98it/s]  9%|▉         | 12/128 [00:01<00:11, 10.37it/s] 11%|█         | 14/128 [00:01<00:11,  9.59it/s] 12%|█▏        | 15/128 [00:01<00:12,  9.35it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.81it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.15it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.90it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.26it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.09it/s] 21%|██        | 27/128 [00:02<00:10, 10.01it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.76it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.09it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.11it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.02it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.11it/s] 30%|███       | 39/128 [00:03<00:08, 10.05it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.94it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.99it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.89it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.90it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.93it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.20it/s] 41%|████      | 52/128 [00:05<00:07, 10.45it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.63it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.70it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.67it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.44it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.48it/s] 50%|█████     | 64/128 [00:06<00:05, 10.68it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.81it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.34it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.44it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.46it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.36it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.25it/s] 61%|██████    | 78/128 [00:07<00:04, 10.29it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.45it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.34it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.53it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.62it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.69it/s] 70%|███████   | 90/128 [00:08<00:03, 10.50it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.59it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.39it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.34it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.00it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.09it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.32it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.47it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.12it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.45it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.29it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.11it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.35it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.85it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.13it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.00it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.90it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.22it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.70it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.65it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]
[2024-01-18 13:59:26,932] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 22%|██▏       | 28/128 [00:00<00:00, 276.80it/s] 45%|████▍     | 57/128 [00:00<00:00, 282.10it/s] 67%|██████▋   | 86/128 [00:00<00:00, 269.60it/s] 89%|████████▉ | 114/128 [00:00<00:00, 265.64it/s]100%|██████████| 128/128 [00:00<00:00, 270.01it/s]
[2024-01-18 13:59:27,530] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.86it/s]  3%|▎         | 4/128 [00:00<00:12,  9.85it/s]  5%|▍         | 6/128 [00:00<00:12,  9.82it/s]  6%|▋         | 8/128 [00:00<00:11, 10.72it/s]  8%|▊         | 10/128 [00:00<00:11, 10.54it/s]  9%|▉         | 12/128 [00:01<00:10, 10.69it/s] 11%|█         | 14/128 [00:01<00:11,  9.83it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.13it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.28it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.17it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.89it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.68it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.94it/s] 20%|██        | 26/128 [00:02<00:10,  9.92it/s] 21%|██        | 27/128 [00:02<00:10,  9.37it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.38it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.28it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.16it/s] 24%|██▍       | 31/128 [00:03<00:10,  8.92it/s] 25%|██▌       | 32/128 [00:03<00:10,  9.16it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.80it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.69it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.59it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.45it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.38it/s] 30%|███       | 39/128 [00:03<00:09,  9.35it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.62it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.33it/s] 34%|███▎      | 43/128 [00:04<00:09,  9.19it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.67it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.93it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.82it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.72it/s] 41%|████      | 52/128 [00:05<00:07,  9.89it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.70it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.54it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.08it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.82it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.81it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.88it/s] 50%|█████     | 64/128 [00:06<00:05, 10.86it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.56it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.63it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.63it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.26it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.95it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.88it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.65it/s] 60%|██████    | 77/128 [00:07<00:05,  9.30it/s] 62%|██████▏   | 79/128 [00:07<00:05,  9.65it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.23it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.97it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.43it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.24it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.78it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.88it/s] 71%|███████   | 91/128 [00:09<00:03, 10.28it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.17it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.73it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.73it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.49it/s] 77%|███████▋  | 99/128 [00:09<00:02,  9.79it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.93it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.65it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.08it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.08it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.05it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.07it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.35it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.13it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.21it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.80it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.68it/s] 93%|█████████▎| 119/128 [00:12<00:00,  9.63it/s] 94%|█████████▍| 120/128 [00:12<00:00,  9.56it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.47it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.65it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.82it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.60it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.48it/s]100%|██████████| 128/128 [00:12<00:00,  9.48it/s]100%|██████████| 128/128 [00:12<00:00,  9.89it/s]
[2024-01-18 13:59:40,486] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.86it/s]  3%|▎         | 4/128 [00:00<00:12,  9.98it/s]  5%|▍         | 6/128 [00:00<00:12,  9.92it/s]  6%|▋         | 8/128 [00:00<00:11, 10.81it/s]  8%|▊         | 10/128 [00:00<00:11, 10.42it/s]  9%|▉         | 12/128 [00:01<00:10, 10.64it/s] 11%|█         | 14/128 [00:01<00:11,  9.80it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.06it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.31it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.10it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.85it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.79it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.22it/s] 21%|██        | 27/128 [00:02<00:10, 10.03it/s] 23%|██▎       | 29/128 [00:02<00:09,  9.92it/s] 23%|██▎       | 30/128 [00:02<00:09,  9.81it/s] 24%|██▍       | 31/128 [00:03<00:10,  9.67it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.14it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.10it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.77it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.62it/s] 30%|███       | 39/128 [00:03<00:09,  9.46it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.91it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.78it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.71it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.13it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.12it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.15it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.80it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.66it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.06it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.77it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.71it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.91it/s] 50%|█████     | 64/128 [00:06<00:05, 10.98it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.61it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.60it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.68it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.27it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.16it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.94it/s] 60%|██████    | 77/128 [00:07<00:05,  9.73it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.16it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.81it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.56it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.39it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.58it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.35it/s] 71%|███████   | 91/128 [00:08<00:03, 10.54it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.43it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.28it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.26it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.35it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.44it/s] 80%|████████  | 103/128 [00:10<00:02, 10.28it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.49it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.38it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.22it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.39it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.18it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.18it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.89it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.83it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.74it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.46it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.32it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.59it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.70it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.58it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.56it/s]100%|██████████| 128/128 [00:12<00:00,  9.55it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]
[2024-01-18 13:59:53,130] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.43it/s]  3%|▎         | 4/128 [00:00<00:12,  9.63it/s]  5%|▍         | 6/128 [00:00<00:12,  9.68it/s]  6%|▋         | 8/128 [00:00<00:11, 10.64it/s]  8%|▊         | 10/128 [00:00<00:11, 10.51it/s]  9%|▉         | 12/128 [00:01<00:10, 10.70it/s] 11%|█         | 14/128 [00:01<00:11,  9.57it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.94it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.23it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.12it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.89it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.64it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.95it/s] 21%|██        | 27/128 [00:02<00:10,  9.89it/s] 23%|██▎       | 29/128 [00:02<00:09,  9.93it/s] 23%|██▎       | 30/128 [00:03<00:09,  9.85it/s] 24%|██▍       | 31/128 [00:03<00:10,  9.68it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.06it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.93it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.79it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.68it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.55it/s] 30%|███       | 39/128 [00:03<00:09,  9.46it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.98it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.82it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.61it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.98it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.26it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.08it/s] 39%|███▉      | 50/128 [00:05<00:07,  9.93it/s] 41%|████      | 52/128 [00:05<00:07, 10.07it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.73it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.48it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.04it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.82it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.81it/s] 48%|████▊     | 62/128 [00:06<00:05, 11.01it/s] 50%|█████     | 64/128 [00:06<00:05, 10.97it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.50it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.56it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.71it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.32it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.15it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.82it/s] 60%|██████    | 77/128 [00:07<00:05,  9.70it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.12it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.87it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.63it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.32it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.52it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.33it/s] 71%|███████   | 91/128 [00:08<00:03, 10.55it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.47it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.18it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.11it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.28it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.44it/s] 80%|████████  | 103/128 [00:10<00:02, 10.33it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.48it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.24it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.17it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.38it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.21it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.20it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.76it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.72it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.58it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.51it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.44it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.70it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.75it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.46it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.43it/s]100%|██████████| 128/128 [00:12<00:00,  9.44it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 14:00:05,838] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.66it/s]  3%|▎         | 4/128 [00:00<00:12,  9.88it/s]  5%|▍         | 6/128 [00:00<00:12,  9.94it/s]  6%|▋         | 8/128 [00:00<00:11, 10.55it/s]  8%|▊         | 10/128 [00:00<00:11, 10.40it/s]  9%|▉         | 12/128 [00:01<00:11, 10.51it/s] 11%|█         | 14/128 [00:01<00:11,  9.72it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.07it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.15it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.00it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.73it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.69it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.14it/s] 21%|██        | 27/128 [00:02<00:10, 10.04it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.84it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.77it/s] 24%|██▍       | 31/128 [00:03<00:10,  9.62it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.01it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.01it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.86it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.76it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.41it/s] 30%|███       | 39/128 [00:03<00:09,  9.22it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.82it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.64it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.54it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.07it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.39it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.07it/s] 39%|███▉      | 50/128 [00:05<00:07,  9.82it/s] 41%|████      | 52/128 [00:05<00:07,  9.97it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.68it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.54it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.07it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.89it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.65it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.86it/s] 50%|█████     | 64/128 [00:06<00:05, 10.87it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.54it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.62it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.66it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.16it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.00it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.81it/s] 60%|██████    | 77/128 [00:07<00:05,  9.70it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.20it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.70it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.47it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.24it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.51it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.37it/s] 71%|███████   | 91/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.25it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.11it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.09it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.31it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.49it/s] 80%|████████  | 103/128 [00:10<00:02, 10.15it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.41it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.23it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.21it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.44it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.06it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.11it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.78it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.73it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.64it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.59it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.50it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.49it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.72it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.51it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.46it/s]100%|██████████| 128/128 [00:12<00:00,  9.45it/s]100%|██████████| 128/128 [00:12<00:00, 10.05it/s]
[2024-01-18 14:00:18,578] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.84it/s]  3%|▎         | 4/128 [00:00<00:12,  9.73it/s]  5%|▍         | 6/128 [00:00<00:12,  9.75it/s]  6%|▋         | 8/128 [00:00<00:11, 10.63it/s]  8%|▊         | 10/128 [00:00<00:11, 10.44it/s]  9%|▉         | 12/128 [00:01<00:10, 10.64it/s] 11%|█         | 14/128 [00:01<00:11,  9.72it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.75it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.09it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.32it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.92it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.77it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.00it/s] 21%|██        | 27/128 [00:02<00:10,  9.93it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.87it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.77it/s] 24%|██▍       | 31/128 [00:03<00:10,  9.62it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.08it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.98it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.81it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.64it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.52it/s] 30%|███       | 39/128 [00:03<00:09,  9.42it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.89it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.78it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.70it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.07it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.27it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.12it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.12it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.79it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.65it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.98it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.67it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.71it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.89it/s] 50%|█████     | 64/128 [00:06<00:05, 10.92it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.52it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.47it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.65it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.22it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.15it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.86it/s] 60%|██████    | 77/128 [00:07<00:05,  9.66it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.07it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.79it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.56it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.39it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.51it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.29it/s] 71%|███████   | 91/128 [00:08<00:03, 10.50it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.38it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.14it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.15it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.10it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.29it/s] 80%|████████  | 103/128 [00:10<00:02, 10.13it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.39it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.30it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.10it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.26it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.07it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.13it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.85it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.79it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.58it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.38it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.34it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.52it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.72it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.56it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.53it/s]100%|██████████| 128/128 [00:12<00:00,  9.48it/s]100%|██████████| 128/128 [00:12<00:00, 10.06it/s]
[2024-01-18 14:00:49,087] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 16%|█▌        | 20/128 [00:00<00:00, 196.85it/s] 44%|████▍     | 56/128 [00:00<00:00, 289.86it/s] 72%|███████▏  | 92/128 [00:00<00:00, 320.90it/s]100%|██████████| 128/128 [00:00<00:00, 320.04it/s]
[2024-01-18 14:00:49,611] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.56it/s]  2%|▏         | 2/128 [00:00<00:13,  9.53it/s]  3%|▎         | 4/128 [00:00<00:12,  9.77it/s]  4%|▍         | 5/128 [00:00<00:12,  9.70it/s]  5%|▍         | 6/128 [00:00<00:12,  9.75it/s]  6%|▋         | 8/128 [00:00<00:11, 10.48it/s]  8%|▊         | 10/128 [00:00<00:11, 10.54it/s]  9%|▉         | 12/128 [00:01<00:11, 10.44it/s] 11%|█         | 14/128 [00:01<00:11,  9.63it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.51it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.00it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.98it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.99it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.99it/s] 20%|██        | 26/128 [00:02<00:09, 10.29it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.38it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.65it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.66it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.47it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.42it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.89it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.03it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.37it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.46it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.24it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.16it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.35it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.33it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.36it/s] 41%|████      | 52/128 [00:05<00:07,  9.80it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.72it/s] 42%|████▏     | 54/128 [00:05<00:08,  8.82it/s] 43%|████▎     | 55/128 [00:05<00:08,  8.72it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.01it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.10it/s] 46%|████▌     | 59/128 [00:06<00:07,  8.92it/s] 47%|████▋     | 60/128 [00:06<00:07,  8.96it/s] 48%|████▊     | 61/128 [00:06<00:07,  8.90it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.56it/s] 50%|█████     | 64/128 [00:06<00:06,  9.53it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.04it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.87it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.68it/s] 55%|█████▍    | 70/128 [00:07<00:05,  9.85it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.11it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.40it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.35it/s] 61%|██████    | 78/128 [00:07<00:04, 10.60it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.38it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.39it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.26it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.53it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.00it/s] 70%|███████   | 90/128 [00:09<00:03,  9.77it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.88it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.19it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.92it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.16it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.41it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.84it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.87it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.67it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.01it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.92it/s] 86%|████████▌ | 110/128 [00:11<00:01, 10.04it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.60it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.76it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.73it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.57it/s] 94%|█████████▍| 120/128 [00:12<00:00, 10.84it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.56it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.51it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.97it/s]100%|██████████| 128/128 [00:12<00:00,  9.76it/s]100%|██████████| 128/128 [00:12<00:00,  9.95it/s]
[2024-01-18 14:01:02,478] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.53it/s]  2%|▏         | 2/128 [00:00<00:13,  9.52it/s]  3%|▎         | 4/128 [00:00<00:12,  9.62it/s]  5%|▍         | 6/128 [00:00<00:12,  9.96it/s]  6%|▋         | 8/128 [00:00<00:11, 10.50it/s]  8%|▊         | 10/128 [00:00<00:11, 10.63it/s]  9%|▉         | 12/128 [00:01<00:11, 10.51it/s] 11%|█         | 14/128 [00:01<00:11,  9.61it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.59it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.10it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.08it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.12it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.05it/s] 20%|██        | 26/128 [00:02<00:10, 10.18it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.54it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.63it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.79it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.53it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.50it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.22it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.38it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.03it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.08it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.70it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.75it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.63it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.57it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.45it/s] 41%|████      | 52/128 [00:05<00:07, 10.07it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.94it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.19it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.19it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.38it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.18it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.49it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.36it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.36it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.95it/s] 50%|█████     | 64/128 [00:06<00:06,  9.84it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.23it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.65it/s] 55%|█████▍    | 70/128 [00:07<00:05,  9.79it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.09it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.36it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.36it/s] 61%|██████    | 78/128 [00:07<00:04, 10.37it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.22it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.35it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.27it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.58it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.91it/s] 70%|███████   | 90/128 [00:08<00:03,  9.70it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.84it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.14it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.91it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.18it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.13it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.83it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.80it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.66it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.02it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.93it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.78it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.63it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.78it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.80it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.65it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.83it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.28it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.50it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.94it/s]100%|██████████| 128/128 [00:12<00:00,  9.79it/s]100%|██████████| 128/128 [00:12<00:00, 10.06it/s]
[2024-01-18 14:01:15,215] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.45it/s]  2%|▏         | 2/128 [00:00<00:13,  9.22it/s]  3%|▎         | 4/128 [00:00<00:13,  9.36it/s]  5%|▍         | 6/128 [00:00<00:12,  9.96it/s]  6%|▋         | 8/128 [00:00<00:11, 10.44it/s]  8%|▊         | 10/128 [00:00<00:11, 10.63it/s]  9%|▉         | 12/128 [00:01<00:11, 10.51it/s] 11%|█         | 14/128 [00:01<00:11,  9.51it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.66it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.06it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.12it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.13it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.87it/s] 20%|██        | 26/128 [00:02<00:09, 10.26it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.51it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.72it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.83it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.49it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.41it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.26it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.38it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.06it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.09it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.63it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.75it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.61it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.56it/s] 41%|████      | 52/128 [00:05<00:07, 10.09it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.35it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.18it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.40it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.48it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.48it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.48it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.97it/s] 50%|█████     | 64/128 [00:06<00:06,  9.83it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.01it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.82it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.71it/s] 55%|█████▍    | 70/128 [00:07<00:05,  9.76it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.20it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.47it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.19it/s] 61%|██████    | 78/128 [00:07<00:04, 10.46it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.29it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.49it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.37it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.53it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.92it/s] 70%|███████   | 90/128 [00:08<00:03,  9.70it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.86it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.19it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.86it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.08it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.23it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.89it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.91it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.75it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.99it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.84it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.89it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.69it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.89it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.84it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.59it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.74it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.50it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.64it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00,  9.71it/s]100%|██████████| 128/128 [00:12<00:00, 10.06it/s]
[2024-01-18 14:01:27,944] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.17it/s]  2%|▏         | 2/128 [00:00<00:13,  9.16it/s]  3%|▎         | 4/128 [00:00<00:12,  9.56it/s]  5%|▍         | 6/128 [00:00<00:12, 10.11it/s]  6%|▋         | 8/128 [00:00<00:11, 10.63it/s]  8%|▊         | 10/128 [00:00<00:11, 10.65it/s]  9%|▉         | 12/128 [00:01<00:11, 10.40it/s] 11%|█         | 14/128 [00:01<00:11,  9.58it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.71it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.19it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.09it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.03it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.96it/s] 20%|██        | 26/128 [00:02<00:09, 10.33it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.65it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.75it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.76it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.47it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.55it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.37it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.56it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.00it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.01it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.72it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.83it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.75it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.68it/s] 41%|████      | 52/128 [00:05<00:07,  9.93it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.80it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.13it/s] 43%|████▎     | 55/128 [00:05<00:08,  9.09it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.42it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.59it/s] 47%|████▋     | 60/128 [00:05<00:07,  9.54it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.33it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.84it/s] 50%|█████     | 64/128 [00:06<00:06,  9.73it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.10it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.90it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.78it/s] 55%|█████▍    | 70/128 [00:07<00:05,  9.91it/s] 56%|█████▋    | 72/128 [00:07<00:05,  9.98it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.23it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.17it/s] 61%|██████    | 78/128 [00:07<00:04, 10.45it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.36it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.38it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.19it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.45it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.87it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.80it/s] 70%|███████   | 90/128 [00:08<00:03,  9.73it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.84it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.11it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.82it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.08it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.34it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.93it/s] 80%|████████  | 103/128 [00:10<00:02,  9.92it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.69it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.57it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.89it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.81it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.95it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.78it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.78it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.69it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.46it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.73it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.54it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.64it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.89it/s]100%|██████████| 128/128 [00:12<00:00,  9.70it/s]100%|██████████| 128/128 [00:12<00:00, 10.06it/s]
[2024-01-18 14:01:40,679] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.29it/s]  2%|▏         | 2/128 [00:00<00:13,  9.40it/s]  3%|▎         | 4/128 [00:00<00:12,  9.71it/s]  5%|▍         | 6/128 [00:00<00:12, 10.06it/s]  6%|▋         | 8/128 [00:00<00:11, 10.42it/s]  8%|▊         | 10/128 [00:00<00:11, 10.62it/s]  9%|▉         | 12/128 [00:01<00:11, 10.41it/s] 11%|█         | 14/128 [00:01<00:11,  9.60it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.65it/s] 14%|█▍        | 18/128 [00:01<00:11, 10.00it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.06it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.02it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.99it/s] 20%|██        | 26/128 [00:02<00:09, 10.36it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.44it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.65it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.67it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.45it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.58it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.23it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.39it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.96it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.01it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.77it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.72it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.60it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.55it/s] 41%|████      | 52/128 [00:05<00:07,  9.97it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.84it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.15it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.16it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.45it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.50it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.32it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.36it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.33it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.84it/s] 50%|█████     | 64/128 [00:06<00:06,  9.73it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.21it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.69it/s] 55%|█████▍    | 70/128 [00:07<00:05,  9.76it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.06it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.30it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.31it/s] 61%|██████    | 78/128 [00:07<00:04, 10.53it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.16it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.36it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.18it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.48it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.94it/s] 70%|███████   | 90/128 [00:09<00:03,  9.58it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.80it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.06it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.83it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.11it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.16it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.79it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.76it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.65it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.99it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.90it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.77it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.54it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.74it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.74it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.61it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.84it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.34it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.52it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.94it/s]100%|██████████| 128/128 [00:12<00:00,  9.77it/s]100%|██████████| 128/128 [00:12<00:00, 10.03it/s]
[2024-01-18 14:02:09,603] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 25%|██▌       | 32/128 [00:00<00:00, 314.82it/s] 50%|█████     | 64/128 [00:00<00:00, 313.39it/s] 77%|███████▋  | 99/128 [00:00<00:00, 326.47it/s]100%|██████████| 128/128 [00:00<00:00, 324.70it/s]
[2024-01-18 14:02:10,121] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.62it/s]  2%|▏         | 2/128 [00:00<00:14,  8.68it/s]  3%|▎         | 4/128 [00:00<00:12, 10.08it/s]  4%|▍         | 5/128 [00:00<00:12,  9.60it/s]  5%|▍         | 6/128 [00:00<00:12,  9.55it/s]  6%|▋         | 8/128 [00:00<00:11, 10.19it/s]  7%|▋         | 9/128 [00:00<00:11,  9.96it/s]  8%|▊         | 10/128 [00:01<00:11,  9.90it/s]  9%|▊         | 11/128 [00:01<00:11,  9.84it/s]  9%|▉         | 12/128 [00:01<00:11,  9.82it/s] 10%|█         | 13/128 [00:01<00:11,  9.84it/s] 11%|█         | 14/128 [00:01<00:11,  9.58it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.42it/s] 13%|█▎        | 17/128 [00:01<00:12,  9.00it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.54it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.63it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.31it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.07it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.21it/s] 21%|██        | 27/128 [00:02<00:10, 10.06it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.16it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.27it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.98it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.48it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.99it/s] 30%|███       | 39/128 [00:03<00:08,  9.94it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.68it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.82it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.65it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.69it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.82it/s] 38%|███▊      | 49/128 [00:05<00:07, 10.13it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.02it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.14it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.18it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.20it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.22it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.06it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.38it/s] 51%|█████     | 65/128 [00:06<00:05, 10.54it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.12it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.42it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.85it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.91it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.64it/s] 60%|██████    | 77/128 [00:07<00:04, 10.62it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.91it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.70it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.42it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.62it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.48it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.05it/s] 71%|███████   | 91/128 [00:09<00:03, 10.71it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.51it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.98it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.78it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.81it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.26it/s] 80%|████████  | 103/128 [00:10<00:02, 10.49it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.88it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.89it/s] 85%|████████▌ | 109/128 [00:10<00:01, 11.43it/s] 87%|████████▋ | 111/128 [00:10<00:01, 11.35it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.43it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.29it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.89it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.28it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.29it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.25it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.52it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.59it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 14:02:22,635] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.59it/s]  2%|▏         | 2/128 [00:00<00:13,  9.48it/s]  3%|▎         | 4/128 [00:00<00:11, 10.40it/s]  5%|▍         | 6/128 [00:00<00:12,  9.61it/s]  6%|▋         | 8/128 [00:00<00:11, 10.12it/s]  8%|▊         | 10/128 [00:01<00:11,  9.99it/s]  9%|▉         | 12/128 [00:01<00:11, 10.44it/s] 11%|█         | 14/128 [00:01<00:11, 10.35it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.09it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.15it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.33it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.86it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.79it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.64it/s] 21%|██        | 27/128 [00:02<00:09, 10.21it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.48it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.50it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.42it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.33it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.47it/s] 30%|███       | 39/128 [00:03<00:08, 10.31it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.85it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.95it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.84it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.15it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.08it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.95it/s] 41%|████      | 52/128 [00:05<00:07, 10.24it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.10it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.31it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.50it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.29it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.16it/s] 50%|█████     | 64/128 [00:06<00:06, 10.37it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.55it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.31it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.46it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.99it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.59it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.77it/s] 61%|██████    | 78/128 [00:07<00:04, 10.78it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.85it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.61it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.62it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.51it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.63it/s] 70%|███████   | 90/128 [00:08<00:03, 10.70it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.77it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.55it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.78it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.89it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.57it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.46it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.63it/s] 83%|████████▎ | 106/128 [00:10<00:01, 11.07it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.15it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.60it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.09it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.60it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.14it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.12it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.44it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.33it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.44it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.61it/s]100%|██████████| 128/128 [00:12<00:00, 10.65it/s]100%|██████████| 128/128 [00:12<00:00, 10.43it/s]
[2024-01-18 14:02:34,913] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.54it/s]  2%|▏         | 2/128 [00:00<00:13,  9.39it/s]  3%|▎         | 4/128 [00:00<00:11, 10.43it/s]  5%|▍         | 6/128 [00:00<00:12,  9.68it/s]  6%|▋         | 8/128 [00:00<00:11, 10.07it/s]  8%|▊         | 10/128 [00:01<00:11,  9.93it/s]  9%|▉         | 12/128 [00:01<00:11, 10.39it/s] 11%|█         | 14/128 [00:01<00:11, 10.33it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.23it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.08it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.35it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.82it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.75it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.61it/s] 21%|██        | 27/128 [00:02<00:09, 10.25it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.41it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.49it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.34it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.28it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.61it/s] 30%|███       | 39/128 [00:03<00:08, 10.23it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.85it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.87it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.78it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.13it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.99it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.87it/s] 41%|████      | 52/128 [00:05<00:07, 10.14it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.09it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.31it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.58it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.19it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.13it/s] 50%|█████     | 64/128 [00:06<00:06, 10.28it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.49it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.34it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.40it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.87it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.48it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.69it/s] 61%|██████    | 78/128 [00:07<00:04, 10.73it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.94it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.47it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.58it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.35it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.51it/s] 70%|███████   | 90/128 [00:08<00:03, 10.72it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.75it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.47it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.70it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.76it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.49it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.56it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.46it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.98it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.01it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.44it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.11it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.67it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.96it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.00it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.29it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.29it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.50it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.47it/s]100%|██████████| 128/128 [00:12<00:00, 10.38it/s]
[2024-01-18 14:02:47,256] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.32it/s]  2%|▏         | 2/128 [00:00<00:13,  9.15it/s]  3%|▎         | 4/128 [00:00<00:12, 10.31it/s]  5%|▍         | 6/128 [00:00<00:12,  9.87it/s]  6%|▋         | 8/128 [00:00<00:11, 10.14it/s]  8%|▊         | 10/128 [00:01<00:11,  9.97it/s]  9%|▉         | 12/128 [00:01<00:11, 10.34it/s] 11%|█         | 14/128 [00:01<00:11, 10.22it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.26it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.26it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.23it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.78it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.63it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.50it/s] 21%|██        | 27/128 [00:02<00:09, 10.38it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.54it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.39it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.34it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.18it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.55it/s] 30%|███       | 39/128 [00:03<00:08, 10.42it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.79it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.88it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.72it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.05it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.11it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.01it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.91it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.00it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.13it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.35it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.37it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.11it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.24it/s] 51%|█████     | 65/128 [00:06<00:06, 10.41it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.21it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.48it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.00it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.78it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.46it/s] 60%|██████    | 77/128 [00:07<00:04, 10.50it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.99it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.77it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.45it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.39it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.29it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.11it/s] 71%|███████   | 91/128 [00:08<00:03, 10.73it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.64it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.87it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.60it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.61it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.37it/s] 80%|████████  | 103/128 [00:09<00:02, 10.57it/s] 82%|████████▏ | 105/128 [00:10<00:02, 11.00it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.77it/s] 85%|████████▌ | 109/128 [00:10<00:01, 11.34it/s] 87%|████████▋ | 111/128 [00:10<00:01, 11.14it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.54it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.39it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.79it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.10it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.08it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.36it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.58it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.65it/s]100%|██████████| 128/128 [00:12<00:00, 10.36it/s]
[2024-01-18 14:02:59,617] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.21it/s]  2%|▏         | 2/128 [00:00<00:13,  9.22it/s]  3%|▎         | 4/128 [00:00<00:12, 10.24it/s]  5%|▍         | 6/128 [00:00<00:12,  9.78it/s]  6%|▋         | 8/128 [00:00<00:11, 10.24it/s]  8%|▊         | 10/128 [00:01<00:11, 10.02it/s]  9%|▉         | 12/128 [00:01<00:11, 10.37it/s] 11%|█         | 14/128 [00:01<00:11, 10.25it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.22it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.24it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.42it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.82it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.71it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.55it/s] 21%|██        | 27/128 [00:02<00:09, 10.38it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.60it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.58it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.37it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.25it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.56it/s] 30%|███       | 39/128 [00:03<00:08, 10.45it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.93it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.88it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.76it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.09it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.11it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.99it/s] 41%|████      | 52/128 [00:05<00:07, 10.24it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.10it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.28it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.53it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.37it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.19it/s] 50%|█████     | 64/128 [00:06<00:06, 10.25it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.44it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.23it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.50it/s] 56%|█████▋    | 72/128 [00:07<00:05, 11.03it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.43it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.66it/s] 61%|██████    | 78/128 [00:07<00:04, 10.63it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.86it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.66it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.62it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.32it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.47it/s] 70%|███████   | 90/128 [00:08<00:03, 10.63it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.86it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.61it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.62it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.76it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.45it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.52it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.70it/s] 83%|████████▎ | 106/128 [00:10<00:01, 11.09it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.98it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.46it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.02it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.67it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.18it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.98it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.34it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.21it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.45it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.66it/s]100%|██████████| 128/128 [00:12<00:00, 10.62it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]
[2024-01-18 14:03:28,221] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 265.66it/s] 47%|████▋     | 60/128 [00:00<00:00, 298.55it/s] 70%|███████   | 90/128 [00:00<00:00, 268.62it/s] 92%|█████████▏| 118/128 [00:00<00:00, 263.81it/s]100%|██████████| 128/128 [00:00<00:00, 268.12it/s]
[2024-01-18 14:03:28,823] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.25it/s]  2%|▏         | 3/128 [00:00<00:12,  9.87it/s]  3%|▎         | 4/128 [00:00<00:13,  9.38it/s]  5%|▍         | 6/128 [00:00<00:12,  9.39it/s]  6%|▋         | 8/128 [00:00<00:13,  9.16it/s]  7%|▋         | 9/128 [00:00<00:13,  8.89it/s]  9%|▊         | 11/128 [00:01<00:12,  9.61it/s] 10%|█         | 13/128 [00:01<00:11,  9.77it/s] 11%|█         | 14/128 [00:01<00:11,  9.61it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.53it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.39it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.08it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.00it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.21it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.08it/s] 20%|██        | 26/128 [00:02<00:09, 10.30it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.32it/s] 23%|██▎       | 30/128 [00:03<00:09,  9.84it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.82it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.09it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.70it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.60it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.78it/s] 30%|███       | 39/128 [00:03<00:09,  9.65it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.50it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.38it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.62it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.46it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.96it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.30it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.38it/s] 41%|████      | 52/128 [00:05<00:07, 10.59it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.16it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.12it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.43it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.27it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.78it/s] 50%|█████     | 64/128 [00:06<00:05, 10.82it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.61it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.48it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.70it/s] 56%|█████▋    | 72/128 [00:07<00:05, 11.14it/s] 58%|█████▊    | 74/128 [00:07<00:04, 10.83it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.71it/s] 61%|██████    | 78/128 [00:07<00:04, 10.31it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.90it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.62it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.39it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.63it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.83it/s] 70%|███████   | 90/128 [00:08<00:03, 10.56it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.47it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.53it/s] 75%|███████▌  | 96/128 [00:09<00:02, 11.05it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.99it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.73it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.72it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.50it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.65it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.79it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.48it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.06it/s] 89%|████████▉ | 114/128 [00:11<00:01, 11.45it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.95it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.01it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.97it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.65it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.73it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.12it/s]100%|██████████| 128/128 [00:12<00:00, 10.36it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:03:41,238] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.58it/s]  2%|▏         | 3/128 [00:00<00:11, 10.42it/s]  4%|▍         | 5/128 [00:00<00:12, 10.22it/s]  5%|▌         | 7/128 [00:00<00:11, 10.28it/s]  7%|▋         | 9/128 [00:00<00:12,  9.81it/s]  9%|▊         | 11/128 [00:01<00:11, 10.31it/s] 10%|█         | 13/128 [00:01<00:10, 10.46it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.07it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.08it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.36it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.25it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.13it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.75it/s] 21%|██        | 27/128 [00:02<00:09, 10.53it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.52it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.38it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.60it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.11it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.07it/s] 30%|███       | 39/128 [00:03<00:09,  9.79it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.71it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.62it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.76it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.60it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.05it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.30it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.44it/s] 41%|████      | 52/128 [00:05<00:07, 10.73it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.20it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.16it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.45it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.27it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.75it/s] 50%|█████     | 64/128 [00:06<00:05, 10.67it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.42it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.16it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.16it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.63it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.50it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.59it/s] 61%|██████    | 78/128 [00:07<00:04, 10.24it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.72it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.28it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.08it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.21it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.43it/s] 70%|███████   | 90/128 [00:08<00:03, 10.31it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.24it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.42it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.88it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.88it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.66it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.65it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.30it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.59it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.62it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.41it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.01it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.24it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.76it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.85it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.86it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.57it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.65it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.97it/s]100%|██████████| 128/128 [00:12<00:00, 10.26it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]
[2024-01-18 14:03:53,587] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.16it/s]  2%|▏         | 3/128 [00:00<00:11, 10.42it/s]  4%|▍         | 5/128 [00:00<00:12, 10.21it/s]  5%|▌         | 7/128 [00:00<00:12, 10.06it/s]  7%|▋         | 9/128 [00:00<00:12,  9.69it/s]  9%|▊         | 11/128 [00:01<00:11, 10.13it/s] 10%|█         | 13/128 [00:01<00:11, 10.35it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.01it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.91it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.18it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.08it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.01it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.67it/s] 21%|██        | 27/128 [00:02<00:09, 10.44it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.32it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.25it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.44it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.00it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.97it/s] 30%|███       | 39/128 [00:03<00:09,  9.61it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.56it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.49it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.50it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.41it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.92it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.09it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.20it/s] 41%|████      | 52/128 [00:05<00:07, 10.53it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.08it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.04it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.38it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.09it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.73it/s] 50%|█████     | 64/128 [00:06<00:05, 10.71it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.59it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.48it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.51it/s] 56%|█████▋    | 72/128 [00:07<00:05, 11.01it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.73it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.69it/s] 61%|██████    | 78/128 [00:07<00:04, 10.30it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.87it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.41it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.24it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.43it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.69it/s] 70%|███████   | 90/128 [00:08<00:03, 10.48it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.30it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.36it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.89it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.80it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.61it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.65it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.23it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.53it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.60it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.37it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.98it/s] 89%|████████▉ | 114/128 [00:11<00:01, 11.40it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.66it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.84it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.77it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.52it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.61it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.94it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]100%|██████████| 128/128 [00:12<00:00, 10.34it/s]
[2024-01-18 14:04:05,978] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.43it/s]  2%|▏         | 3/128 [00:00<00:12, 10.31it/s]  4%|▍         | 5/128 [00:00<00:12, 10.15it/s]  5%|▌         | 7/128 [00:00<00:11, 10.23it/s]  7%|▋         | 9/128 [00:00<00:12,  9.61it/s]  9%|▊         | 11/128 [00:01<00:11, 10.15it/s] 10%|█         | 13/128 [00:01<00:11, 10.28it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.95it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.00it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.19it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.03it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.92it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.59it/s] 21%|██        | 27/128 [00:02<00:09, 10.40it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.40it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.23it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.49it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.96it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.94it/s] 30%|███       | 39/128 [00:03<00:09,  9.73it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.45it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.36it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.56it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.42it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.89it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.21it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.35it/s] 41%|████      | 52/128 [00:05<00:07, 10.55it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.11it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.04it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.37it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.23it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.71it/s] 50%|█████     | 64/128 [00:06<00:05, 10.77it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.57it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.46it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.69it/s] 56%|█████▋    | 72/128 [00:07<00:05, 11.10it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.71it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.69it/s] 61%|██████    | 78/128 [00:07<00:04, 10.27it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.85it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.61it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.21it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.49it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.61it/s] 70%|███████   | 90/128 [00:08<00:03, 10.43it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.38it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.42it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.85it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.86it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.54it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.59it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.42it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.45it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.63it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.32it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.92it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.33it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.86it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.80it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.84it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.49it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.60it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.05it/s]100%|██████████| 128/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00, 10.34it/s]
[2024-01-18 14:04:18,362] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.54it/s]  2%|▏         | 3/128 [00:00<00:12, 10.35it/s]  4%|▍         | 5/128 [00:00<00:12, 10.09it/s]  5%|▌         | 7/128 [00:00<00:11, 10.20it/s]  7%|▋         | 9/128 [00:00<00:12,  9.79it/s]  9%|▊         | 11/128 [00:01<00:11,  9.99it/s] 10%|█         | 13/128 [00:01<00:11, 10.23it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.87it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.73it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.22it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.08it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.21it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.04it/s] 20%|██        | 26/128 [00:02<00:09, 10.38it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.54it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.35it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.39it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.24it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.84it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.90it/s] 30%|███       | 39/128 [00:03<00:09,  9.81it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.65it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.37it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.63it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.42it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.90it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.23it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.43it/s] 41%|████      | 52/128 [00:05<00:07, 10.46it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.08it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.96it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.30it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.27it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.66it/s] 50%|█████     | 64/128 [00:06<00:05, 10.67it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.48it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.36it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.62it/s] 56%|█████▋    | 72/128 [00:07<00:05, 11.20it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.57it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.62it/s] 61%|██████    | 78/128 [00:07<00:04, 10.14it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.74it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.58it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.22it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.44it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.60it/s] 70%|███████   | 90/128 [00:08<00:03, 10.34it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.32it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.44it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.73it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.70it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.44it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.53it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.37it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.46it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.56it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.30it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.88it/s] 89%|████████▉ | 114/128 [00:11<00:01, 11.31it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.91it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.77it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.82it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.47it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.58it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.06it/s]100%|██████████| 128/128 [00:12<00:00, 10.16it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:04:47,020] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 30/128 [00:00<00:00, 291.85it/s] 47%|████▋     | 60/128 [00:00<00:00, 275.35it/s] 69%|██████▉   | 88/128 [00:00<00:00, 275.19it/s] 91%|█████████ | 116/128 [00:00<00:00, 271.55it/s]100%|██████████| 128/128 [00:00<00:00, 269.41it/s]
[2024-01-18 14:04:47,620] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.14it/s]  2%|▏         | 2/128 [00:00<00:13,  9.02it/s]  3%|▎         | 4/128 [00:00<00:12,  9.99it/s]  5%|▍         | 6/128 [00:00<00:12,  9.83it/s]  5%|▌         | 7/128 [00:00<00:12,  9.79it/s]  6%|▋         | 8/128 [00:00<00:12,  9.63it/s]  8%|▊         | 10/128 [00:01<00:11,  9.84it/s]  9%|▉         | 12/128 [00:01<00:11,  9.90it/s] 11%|█         | 14/128 [00:01<00:11,  9.74it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.67it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.85it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.61it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.44it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.41it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.36it/s] 18%|█▊        | 23/128 [00:02<00:12,  8.63it/s] 20%|█▉        | 25/128 [00:02<00:11,  9.33it/s] 21%|██        | 27/128 [00:02<00:10,  9.68it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.69it/s] 23%|██▎       | 29/128 [00:03<00:10,  9.33it/s] 24%|██▍       | 31/128 [00:03<00:10,  9.58it/s] 25%|██▌       | 32/128 [00:03<00:10,  9.40it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.90it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.25it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.49it/s] 31%|███▏      | 40/128 [00:04<00:08, 10.44it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.36it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.50it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.61it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.87it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.49it/s] 41%|████      | 52/128 [00:05<00:07, 10.29it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.85it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.18it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.39it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.47it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.33it/s] 50%|█████     | 64/128 [00:06<00:06, 10.25it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.17it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.07it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.36it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.39it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.50it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.33it/s] 61%|██████    | 78/128 [00:07<00:04, 10.34it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.52it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.53it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.70it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.75it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.55it/s] 70%|███████   | 90/128 [00:08<00:03, 10.69it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.35it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.58it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.63it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.20it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.46it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.17it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.88it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.23it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.09it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.70it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.70it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.31it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.26it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.92it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.01it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.23it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.24it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.41it/s]100%|██████████| 128/128 [00:12<00:00, 10.03it/s]100%|██████████| 128/128 [00:12<00:00, 10.15it/s]
[2024-01-18 14:05:00,242] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.20it/s]  2%|▏         | 2/128 [00:00<00:13,  9.15it/s]  3%|▎         | 4/128 [00:00<00:12, 10.21it/s]  5%|▍         | 6/128 [00:00<00:12, 10.16it/s]  6%|▋         | 8/128 [00:00<00:11, 10.59it/s]  8%|▊         | 10/128 [00:00<00:11, 10.65it/s]  9%|▉         | 12/128 [00:01<00:10, 10.84it/s] 11%|█         | 14/128 [00:01<00:10, 10.66it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.34it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.96it/s] 16%|█▌        | 20/128 [00:01<00:11,  9.73it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.82it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.30it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.86it/s] 20%|██        | 26/128 [00:02<00:10,  9.88it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.19it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.08it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.77it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.10it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.25it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.32it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.47it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.33it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.53it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.64it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.64it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.48it/s] 41%|████      | 52/128 [00:05<00:07, 10.23it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.87it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.19it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.29it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.43it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.30it/s] 50%|█████     | 64/128 [00:06<00:06, 10.27it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.19it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.99it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.26it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.49it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.52it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.38it/s] 61%|██████    | 78/128 [00:07<00:04, 10.36it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.34it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.58it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.66it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.81it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.58it/s] 70%|███████   | 90/128 [00:08<00:03, 10.58it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.34it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.60it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.64it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.25it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.46it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.05it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.01it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.27it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.13it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.74it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.57it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.25it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.16it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.86it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.97it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.18it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.32it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.43it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]100%|██████████| 128/128 [00:12<00:00, 10.27it/s]
[2024-01-18 14:05:12,716] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.19it/s]  2%|▏         | 2/128 [00:00<00:13,  9.13it/s]  3%|▎         | 4/128 [00:00<00:12, 10.09it/s]  5%|▍         | 6/128 [00:00<00:11, 10.25it/s]  6%|▋         | 8/128 [00:00<00:11, 10.61it/s]  8%|▊         | 10/128 [00:00<00:10, 10.73it/s]  9%|▉         | 12/128 [00:01<00:10, 10.86it/s] 11%|█         | 14/128 [00:01<00:10, 10.66it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.34it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.99it/s] 16%|█▌        | 20/128 [00:01<00:11,  9.78it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.87it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.34it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.80it/s] 21%|██        | 27/128 [00:02<00:10, 10.04it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.04it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.07it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.00it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.14it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.24it/s] 30%|███       | 39/128 [00:03<00:08, 10.45it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.28it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.53it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.65it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.59it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.48it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.23it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.15it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.09it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.15it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.23it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.43it/s] 51%|█████     | 65/128 [00:06<00:06, 10.11it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.00it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.11it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.43it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.51it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.35it/s] 60%|██████    | 77/128 [00:07<00:04, 10.29it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.38it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.54it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.58it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.82it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.55it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.62it/s] 71%|███████   | 91/128 [00:08<00:03, 10.30it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.93it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.54it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.44it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.36it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.00it/s] 80%|████████  | 103/128 [00:10<00:02,  9.99it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.17it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.42it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.62it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.62it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.32it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.13it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.15it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.12it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.06it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.18it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.39it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.22it/s]100%|██████████| 128/128 [00:12<00:00, 10.27it/s]
[2024-01-18 14:05:25,186] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.17it/s]  2%|▏         | 2/128 [00:00<00:13,  9.09it/s]  3%|▎         | 4/128 [00:00<00:12,  9.82it/s]  5%|▍         | 6/128 [00:00<00:12, 10.16it/s]  6%|▋         | 8/128 [00:00<00:11, 10.53it/s]  8%|▊         | 10/128 [00:00<00:11, 10.68it/s]  9%|▉         | 12/128 [00:01<00:10, 10.86it/s] 11%|█         | 14/128 [00:01<00:10, 10.62it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.23it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.94it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.78it/s] 16%|█▌        | 20/128 [00:01<00:11,  9.70it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.83it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.22it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.63it/s] 21%|██        | 27/128 [00:02<00:10,  9.93it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.86it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.97it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.76it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.13it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.02it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.16it/s] 30%|███       | 39/128 [00:03<00:08, 10.40it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.20it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.48it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.64it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.52it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.45it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.16it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.11it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.05it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.07it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.17it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.45it/s] 51%|█████     | 65/128 [00:06<00:06, 10.08it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.87it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.09it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.36it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.50it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.35it/s] 60%|██████    | 77/128 [00:07<00:04, 10.26it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.29it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.52it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.56it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.80it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.53it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.53it/s] 71%|███████   | 91/128 [00:08<00:03, 10.33it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.90it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.54it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.44it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.32it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.98it/s] 80%|████████  | 103/128 [00:10<00:02,  9.96it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.15it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.39it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.58it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.46it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.27it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.07it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.11it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.08it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.90it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.14it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.30it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.21it/s]100%|██████████| 128/128 [00:12<00:00, 10.22it/s]
[2024-01-18 14:05:37,725] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.18it/s]  2%|▏         | 2/128 [00:00<00:13,  9.04it/s]  2%|▏         | 3/128 [00:00<00:13,  9.34it/s]  4%|▍         | 5/128 [00:00<00:12, 10.00it/s]  5%|▌         | 7/128 [00:00<00:11, 10.34it/s]  7%|▋         | 9/128 [00:00<00:11, 10.67it/s]  9%|▊         | 11/128 [00:01<00:10, 10.83it/s] 10%|█         | 13/128 [00:01<00:10, 10.91it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.10it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.10it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.80it/s] 16%|█▌        | 20/128 [00:01<00:11,  9.73it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.84it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.23it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.64it/s] 21%|██        | 27/128 [00:02<00:10,  9.98it/s] 23%|██▎       | 29/128 [00:02<00:09,  9.94it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.03it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.81it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.00it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.18it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.39it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.45it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.37it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.53it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.44it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.70it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.43it/s] 41%|████      | 52/128 [00:05<00:07, 10.26it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.87it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.98it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.24it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.37it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.34it/s] 50%|█████     | 64/128 [00:06<00:06, 10.28it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.10it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.91it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.25it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.46it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.57it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.40it/s] 61%|██████    | 78/128 [00:07<00:04, 10.19it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.41it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.57it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.72it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.84it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.50it/s] 70%|███████   | 90/128 [00:08<00:03, 10.51it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.41it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.59it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.68it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.26it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.25it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.11it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.98it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.31it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.14it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.54it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.60it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.31it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.27it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.94it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.95it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.95it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.25it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.41it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.28it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 14:06:06,940] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|█▉        | 25/128 [00:00<00:00, 248.50it/s] 41%|████▏     | 53/128 [00:00<00:00, 265.67it/s] 62%|██████▎   | 80/128 [00:00<00:00, 259.91it/s] 86%|████████▌ | 110/128 [00:00<00:00, 272.27it/s]100%|██████████| 128/128 [00:00<00:00, 270.31it/s]
[2024-01-18 14:06:07,548] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.92it/s]  2%|▏         | 2/128 [00:00<00:14,  8.84it/s]  3%|▎         | 4/128 [00:00<00:13,  9.31it/s]  4%|▍         | 5/128 [00:00<00:13,  9.13it/s]  5%|▍         | 6/128 [00:00<00:13,  8.91it/s]  5%|▌         | 7/128 [00:00<00:13,  8.78it/s]  6%|▋         | 8/128 [00:00<00:13,  8.93it/s]  8%|▊         | 10/128 [00:01<00:12,  9.73it/s]  9%|▉         | 12/128 [00:01<00:11, 10.51it/s] 11%|█         | 14/128 [00:01<00:11, 10.35it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.95it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.72it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.30it/s] 15%|█▍        | 19/128 [00:02<00:11,  9.33it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.18it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.51it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.19it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.76it/s] 20%|██        | 26/128 [00:02<00:10,  9.61it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.17it/s] 23%|██▎       | 30/128 [00:03<00:09,  9.83it/s] 24%|██▍       | 31/128 [00:03<00:10,  9.64it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.17it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.12it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.09it/s] 30%|███       | 39/128 [00:04<00:08, 10.12it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.89it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.27it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.35it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.53it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.44it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.19it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.18it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.09it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.12it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.35it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.18it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.36it/s] 51%|█████     | 65/128 [00:06<00:05, 10.55it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.40it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.96it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.66it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.30it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.01it/s] 60%|██████    | 77/128 [00:07<00:05,  9.75it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.18it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.42it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.23it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.31it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.32it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.49it/s] 71%|███████   | 91/128 [00:09<00:03, 10.46it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.70it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.71it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.81it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.79it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.29it/s] 80%|████████  | 103/128 [00:10<00:02, 10.49it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.26it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.16it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.79it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.53it/s] 88%|████████▊ | 113/128 [00:11<00:01, 11.06it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.67it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.37it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.04it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.68it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.11it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.32it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.16it/s]
[2024-01-18 14:06:20,160] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.86it/s]  3%|▎         | 4/128 [00:00<00:12, 10.03it/s]  5%|▍         | 6/128 [00:00<00:12,  9.75it/s]  6%|▋         | 8/128 [00:00<00:11, 10.07it/s]  8%|▊         | 10/128 [00:00<00:11, 10.24it/s]  9%|▉         | 12/128 [00:01<00:10, 10.89it/s] 11%|█         | 14/128 [00:01<00:10, 10.53it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.13it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.18it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.92it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.18it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.08it/s] 20%|██        | 26/128 [00:02<00:10, 10.06it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.37it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.19it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.09it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.38it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.01it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.26it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.90it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.18it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.38it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.50it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.59it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.16it/s] 41%|████      | 52/128 [00:05<00:07, 10.34it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.97it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.27it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.24it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.34it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.17it/s] 50%|█████     | 64/128 [00:06<00:06, 10.41it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.58it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.81it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.59it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.32it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.23it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.94it/s] 60%|██████    | 77/128 [00:07<00:05,  9.83it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.27it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.37it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.19it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.35it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.32it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.52it/s] 71%|███████   | 91/128 [00:08<00:03, 10.40it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.62it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.70it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.83it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.84it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.34it/s] 80%|████████  | 103/128 [00:09<00:02, 10.41it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.27it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.18it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.82it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.58it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.99it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.57it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.40it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.07it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.72it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.10it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.24it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.14it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 14:06:32,595] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.07it/s]  3%|▎         | 4/128 [00:00<00:12, 10.12it/s]  5%|▍         | 6/128 [00:00<00:12,  9.60it/s]  6%|▋         | 8/128 [00:00<00:11, 10.08it/s]  8%|▊         | 10/128 [00:00<00:11, 10.31it/s]  9%|▉         | 12/128 [00:01<00:10, 10.91it/s] 11%|█         | 14/128 [00:01<00:10, 10.61it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.08it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.05it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.05it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.24it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.18it/s] 20%|██        | 26/128 [00:02<00:10, 10.06it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.29it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.19it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.15it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.47it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.02it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.17it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.88it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.20it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.42it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.49it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.51it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.14it/s] 41%|████      | 52/128 [00:05<00:07, 10.36it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.03it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.29it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.14it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.31it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.18it/s] 50%|█████     | 64/128 [00:06<00:06, 10.44it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.61it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.72it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.49it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.30it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.28it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.97it/s] 61%|██████    | 78/128 [00:07<00:05,  9.94it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.21it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.41it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.30it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.56it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.34it/s] 70%|███████   | 90/128 [00:08<00:03, 10.50it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.41it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.68it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.80it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.80it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.44it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.27it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.49it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.12it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.34it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.85it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.91it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.91it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.36it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.27it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.15it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.71it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.08it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]
[2024-01-18 14:06:45,021] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.73it/s]  3%|▎         | 4/128 [00:00<00:12,  9.80it/s]  4%|▍         | 5/128 [00:00<00:12,  9.66it/s]  5%|▍         | 6/128 [00:00<00:12,  9.54it/s]  6%|▋         | 8/128 [00:00<00:11, 10.16it/s]  8%|▊         | 10/128 [00:00<00:11, 10.43it/s]  9%|▉         | 12/128 [00:01<00:10, 10.99it/s] 11%|█         | 14/128 [00:01<00:10, 10.55it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.10it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.11it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.12it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.32it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.02it/s] 20%|██        | 26/128 [00:02<00:10, 10.03it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.23it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.17it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.16it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.31it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.93it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.09it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.85it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.22it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.27it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.36it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.46it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.09it/s] 41%|████      | 52/128 [00:05<00:07, 10.38it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.98it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.09it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.09it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.24it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.18it/s] 50%|█████     | 64/128 [00:06<00:06, 10.45it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.42it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.62it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.41it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.28it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.27it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.90it/s] 60%|██████    | 77/128 [00:07<00:05,  9.75it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.12it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.35it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.24it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.42it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.32it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.41it/s] 71%|███████   | 91/128 [00:08<00:03, 10.35it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.59it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.74it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.84it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.71it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.21it/s] 80%|████████  | 103/128 [00:10<00:02, 10.38it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.31it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.19it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.75it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.46it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.97it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.63it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.47it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.96it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.57it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.99it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.25it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.23it/s]100%|██████████| 128/128 [00:12<00:00, 10.26it/s]
[2024-01-18 14:06:57,508] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.78it/s]  3%|▎         | 4/128 [00:00<00:12,  9.70it/s]  4%|▍         | 5/128 [00:00<00:12,  9.57it/s]  5%|▍         | 6/128 [00:00<00:12,  9.49it/s]  6%|▋         | 8/128 [00:00<00:11, 10.16it/s]  8%|▊         | 10/128 [00:00<00:11, 10.33it/s]  9%|▉         | 12/128 [00:01<00:10, 10.93it/s] 11%|█         | 14/128 [00:01<00:10, 10.53it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.06it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.12it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.07it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.17it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.11it/s] 20%|██        | 26/128 [00:02<00:10, 10.04it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.36it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.19it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.06it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.36it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.97it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.23it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.91it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.15it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.32it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.43it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.53it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.17it/s] 41%|████      | 52/128 [00:05<00:07, 10.29it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.91it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.19it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.14it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.36it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.13it/s] 50%|█████     | 64/128 [00:06<00:06, 10.35it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.51it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.72it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.55it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.29it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.19it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.89it/s] 60%|██████    | 77/128 [00:07<00:05,  9.77it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.24it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.48it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.14it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.32it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.28it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.48it/s] 71%|███████   | 91/128 [00:08<00:03, 10.43it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.56it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.62it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.71it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.73it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.26it/s] 80%|████████  | 103/128 [00:10<00:02, 10.37it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.17it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.10it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.74it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.43it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.94it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.46it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.32it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.99it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.65it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.05it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.12it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.08it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]
[2024-01-18 14:07:26,601] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 260.17it/s] 45%|████▍     | 57/128 [00:00<00:00, 281.15it/s] 67%|██████▋   | 86/128 [00:00<00:00, 270.03it/s] 89%|████████▉ | 114/128 [00:00<00:00, 261.85it/s]100%|██████████| 128/128 [00:00<00:00, 260.43it/s]
[2024-01-18 14:07:27,215] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.50it/s]  2%|▏         | 2/128 [00:00<00:16,  7.87it/s]  2%|▏         | 3/128 [00:00<00:14,  8.54it/s]  4%|▍         | 5/128 [00:00<00:13,  9.16it/s]  5%|▍         | 6/128 [00:00<00:14,  8.67it/s]  6%|▋         | 8/128 [00:00<00:12,  9.96it/s]  8%|▊         | 10/128 [00:01<00:10, 10.84it/s]  9%|▉         | 12/128 [00:01<00:10, 10.92it/s] 11%|█         | 14/128 [00:01<00:11, 10.31it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.14it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.42it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.63it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.53it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.71it/s] 20%|██        | 26/128 [00:02<00:09, 10.28it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.28it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.11it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.72it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.54it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.16it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.09it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.20it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.44it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.39it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.66it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.56it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.16it/s] 41%|████      | 52/128 [00:05<00:07, 10.65it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.21it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.43it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.37it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.22it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.26it/s] 50%|█████     | 64/128 [00:06<00:05, 10.86it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.64it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.71it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.94it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.96it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.66it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.52it/s] 61%|██████    | 78/128 [00:07<00:04, 10.39it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.39it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.58it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.63it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.76it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.59it/s] 70%|███████   | 90/128 [00:08<00:03, 11.07it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.68it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.72it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.51it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.49it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.18it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.42it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.93it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.61it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.75it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.57it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.20it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.22it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.06it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.88it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.80it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.72it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.85it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.92it/s]100%|██████████| 128/128 [00:12<00:00, 10.11it/s]100%|██████████| 128/128 [00:12<00:00, 10.36it/s]
[2024-01-18 14:07:39,577] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.45it/s]  2%|▏         | 2/128 [00:00<00:13,  9.17it/s]  3%|▎         | 4/128 [00:00<00:12, 10.29it/s]  5%|▍         | 6/128 [00:00<00:12,  9.49it/s]  6%|▋         | 8/128 [00:00<00:11, 10.53it/s]  8%|▊         | 10/128 [00:00<00:10, 11.12it/s]  9%|▉         | 12/128 [00:01<00:10, 11.05it/s] 11%|█         | 14/128 [00:01<00:10, 10.63it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.46it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.54it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.75it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.49it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.66it/s] 20%|██        | 26/128 [00:02<00:09, 10.55it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.24it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.13it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.65it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.45it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.30it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.17it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.21it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.42it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.30it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.61it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.77it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.04it/s] 41%|████      | 52/128 [00:04<00:07, 10.65it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.09it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.35it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.52it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.32it/s] 50%|█████     | 64/128 [00:06<00:05, 10.90it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.54it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.64it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.18it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.92it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.69it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.46it/s] 61%|██████    | 78/128 [00:07<00:04, 10.34it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.56it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.66it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.57it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.74it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.49it/s] 70%|███████   | 90/128 [00:08<00:03, 11.01it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.73it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.54it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.63it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.35it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.38it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.27it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.37it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.77it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.56it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.62it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.49it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.35it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.24it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.07it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.79it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.72it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.66it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.05it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.89it/s]100%|██████████| 128/128 [00:12<00:00, 10.12it/s]100%|██████████| 128/128 [00:12<00:00, 10.42it/s]
[2024-01-18 14:07:51,864] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.29it/s]  2%|▏         | 2/128 [00:00<00:13,  9.02it/s]  3%|▎         | 4/128 [00:00<00:12, 10.18it/s]  4%|▍         | 5/128 [00:00<00:12,  9.82it/s]  5%|▍         | 6/128 [00:00<00:12,  9.69it/s]  6%|▋         | 8/128 [00:00<00:11, 10.72it/s]  8%|▊         | 10/128 [00:00<00:10, 11.20it/s]  9%|▉         | 12/128 [00:01<00:10, 11.11it/s] 11%|█         | 14/128 [00:01<00:10, 10.62it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.47it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.69it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.65it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.51it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.61it/s] 20%|██        | 26/128 [00:02<00:09, 10.51it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.44it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.09it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.64it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.40it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.25it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.24it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.37it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.37it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.28it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.53it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.71it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.26it/s] 41%|████      | 52/128 [00:04<00:07, 10.63it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.12it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.28it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.43it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.35it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.33it/s] 50%|█████     | 64/128 [00:06<00:05, 10.75it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.52it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.56it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.11it/s] 56%|█████▋    | 72/128 [00:06<00:05, 11.06it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.65it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.47it/s] 61%|██████    | 78/128 [00:07<00:04, 10.27it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.51it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.77it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.69it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.69it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.49it/s] 70%|███████   | 90/128 [00:08<00:03, 10.93it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.68it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.81it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.66it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.44it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.33it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.23it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.53it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.94it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.54it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.66it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.41it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.30it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.31it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.99it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.81it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.67it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.61it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.99it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.01it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.99it/s]100%|██████████| 128/128 [00:12<00:00, 10.43it/s]
[2024-01-18 14:08:04,149] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.49it/s]  2%|▏         | 2/128 [00:00<00:13,  9.11it/s]  3%|▎         | 4/128 [00:00<00:12, 10.10it/s]  4%|▍         | 5/128 [00:00<00:12,  9.76it/s]  5%|▍         | 6/128 [00:00<00:12,  9.63it/s]  6%|▋         | 8/128 [00:00<00:11, 10.86it/s]  8%|▊         | 10/128 [00:00<00:10, 11.16it/s]  9%|▉         | 12/128 [00:01<00:10, 11.02it/s] 11%|█         | 14/128 [00:01<00:10, 10.51it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.38it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.69it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.78it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.37it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.56it/s] 20%|██        | 26/128 [00:02<00:09, 10.41it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.35it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.24it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.60it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.39it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.14it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.17it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.32it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.35it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.22it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.49it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.62it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.19it/s] 41%|████      | 52/128 [00:04<00:07, 10.74it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.03it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.28it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.34it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.28it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.41it/s] 50%|█████     | 64/128 [00:06<00:05, 10.81it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.43it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.50it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.00it/s] 56%|█████▋    | 72/128 [00:06<00:05, 11.00it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.79it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.34it/s] 61%|██████    | 78/128 [00:07<00:04, 10.24it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.41it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.69it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.74it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.75it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.43it/s] 70%|███████   | 90/128 [00:08<00:03, 10.92it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.57it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.73it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.84it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.37it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.31it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.11it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.45it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.98it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.65it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.50it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.39it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.21it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.24it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.14it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.74it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.68it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.61it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.92it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.97it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]
[2024-01-18 14:08:16,459] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.98it/s]  2%|▏         | 2/128 [00:00<00:14,  8.71it/s]  3%|▎         | 4/128 [00:00<00:12, 10.05it/s]  4%|▍         | 5/128 [00:00<00:12,  9.64it/s]  5%|▍         | 6/128 [00:00<00:12,  9.51it/s]  6%|▋         | 8/128 [00:00<00:11, 10.78it/s]  8%|▊         | 10/128 [00:00<00:10, 11.42it/s]  9%|▉         | 12/128 [00:01<00:10, 11.12it/s] 11%|█         | 14/128 [00:01<00:10, 10.53it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.35it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.60it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.76it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.59it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.45it/s] 20%|██        | 26/128 [00:02<00:09, 10.39it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.25it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.16it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.75it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.41it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.16it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.09it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.24it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.47it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.36it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.44it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.62it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.12it/s] 41%|████      | 52/128 [00:04<00:07, 10.70it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.19it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.25it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.35it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.23it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.36it/s] 50%|█████     | 64/128 [00:06<00:05, 10.94it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.55it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.44it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.00it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.91it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.73it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.58it/s] 61%|██████    | 78/128 [00:07<00:04, 10.18it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.42it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.61it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.67it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.82it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.50it/s] 70%|███████   | 90/128 [00:08<00:03, 10.87it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.61it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.66it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.79it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.53it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.25it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.17it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.38it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.83it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.60it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.59it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.34it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.19it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.18it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.11it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.76it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.60it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.50it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.91it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.92it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]100%|██████████| 128/128 [00:12<00:00, 10.40it/s]
[2024-01-18 14:08:45,327] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|██        | 26/128 [00:00<00:00, 259.89it/s] 43%|████▎     | 55/128 [00:00<00:00, 276.39it/s] 70%|██████▉   | 89/128 [00:00<00:00, 303.72it/s] 95%|█████████▌| 122/128 [00:00<00:00, 313.43it/s]100%|██████████| 128/128 [00:00<00:00, 300.21it/s]
[2024-01-18 14:08:45,879] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.11it/s]  2%|▏         | 3/128 [00:00<00:12, 10.25it/s]  4%|▍         | 5/128 [00:00<00:13,  8.83it/s]  5%|▍         | 6/128 [00:00<00:13,  9.10it/s]  6%|▋         | 8/128 [00:00<00:12,  9.71it/s]  7%|▋         | 9/128 [00:00<00:12,  9.35it/s]  8%|▊         | 10/128 [00:01<00:12,  9.38it/s]  9%|▉         | 12/128 [00:01<00:11,  9.93it/s] 11%|█         | 14/128 [00:01<00:11,  9.97it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.85it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.05it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.94it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.75it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.53it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.25it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.86it/s] 20%|██        | 26/128 [00:02<00:10,  9.69it/s] 21%|██        | 27/128 [00:02<00:10,  9.73it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.48it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.53it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.38it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.30it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.43it/s] 30%|███       | 39/128 [00:03<00:08, 10.16it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.88it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.19it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.85it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.07it/s] 38%|███▊      | 49/128 [00:04<00:07,  9.96it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.40it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.22it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.19it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.20it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.98it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.95it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.23it/s] 51%|█████     | 65/128 [00:06<00:06, 10.14it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.12it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.31it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.54it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.19it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.13it/s] 60%|██████    | 77/128 [00:07<00:05, 10.10it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.08it/s] 63%|██████▎   | 81/128 [00:08<00:04,  9.97it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.96it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.17it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.16it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.37it/s] 71%|███████   | 91/128 [00:09<00:03, 10.34it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.27it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.18it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.96it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.31it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.14it/s] 80%|████████  | 103/128 [00:10<00:02, 10.40it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.04it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.27it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.28it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.32it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.43it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.05it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.32it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.27it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.05it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.30it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.51it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.04it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 14:08:58,588] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  9.07it/s]  2%|▏         | 3/128 [00:00<00:11, 10.43it/s]  4%|▍         | 5/128 [00:00<00:12,  9.52it/s]  5%|▌         | 7/128 [00:00<00:11, 10.09it/s]  7%|▋         | 9/128 [00:00<00:11, 10.04it/s]  9%|▊         | 11/128 [00:01<00:11, 10.30it/s] 10%|█         | 13/128 [00:01<00:10, 10.54it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.97it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.28it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.12it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.81it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.47it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.76it/s] 20%|██        | 26/128 [00:02<00:10,  9.66it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.99it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.59it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.77it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.18it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.21it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.17it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.12it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.09it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.08it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.90it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.18it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.52it/s] 41%|████      | 52/128 [00:05<00:07, 10.41it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.30it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.84it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.17it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.88it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.17it/s] 50%|█████     | 64/128 [00:06<00:06, 10.49it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.14it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.83it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.50it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.29it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.45it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.02it/s] 61%|██████    | 78/128 [00:07<00:05,  9.92it/s] 62%|██████▎   | 80/128 [00:07<00:04,  9.93it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.21it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.11it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.29it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.10it/s] 70%|███████   | 90/128 [00:08<00:03, 10.31it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.44it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.12it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.14it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.00it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.34it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.20it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.24it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.18it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.26it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.16it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.32it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.30it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.21it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.38it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.12it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.06it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.40it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.24it/s]100%|██████████| 128/128 [00:12<00:00,  9.93it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]
[2024-01-18 14:09:11,216] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:15,  8.43it/s]  2%|▏         | 3/128 [00:00<00:12, 10.12it/s]  3%|▎         | 4/128 [00:00<00:12,  9.74it/s]  4%|▍         | 5/128 [00:00<00:13,  9.40it/s]  5%|▌         | 7/128 [00:00<00:11, 10.15it/s]  7%|▋         | 9/128 [00:00<00:11, 10.16it/s]  9%|▊         | 11/128 [00:01<00:11, 10.24it/s] 10%|█         | 13/128 [00:01<00:11, 10.23it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.89it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.20it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.09it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.77it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.70it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.04it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.72it/s] 20%|██        | 26/128 [00:02<00:10,  9.58it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.99it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.68it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.74it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.96it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.24it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.13it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.15it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.11it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.85it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.79it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.01it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.06it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.51it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.30it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.02it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.05it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.06it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.02it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.37it/s] 51%|█████     | 65/128 [00:06<00:06, 10.02it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.02it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.29it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.56it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.31it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.08it/s] 60%|██████    | 77/128 [00:07<00:05, 10.00it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.99it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.01it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.99it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.14it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.01it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.24it/s] 71%|███████   | 91/128 [00:09<00:03, 10.37it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.33it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.26it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.79it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.17it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.11it/s] 80%|████████  | 103/128 [00:10<00:02, 10.38it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.09it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.09it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.13it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.28it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.47it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.14it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.23it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.06it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.95it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.29it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.53it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.03it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 14:09:23,920] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.80it/s]  2%|▏         | 3/128 [00:00<00:12, 10.22it/s]  3%|▎         | 4/128 [00:00<00:12,  9.70it/s]  4%|▍         | 5/128 [00:00<00:12,  9.57it/s]  5%|▌         | 7/128 [00:00<00:11, 10.23it/s]  7%|▋         | 9/128 [00:00<00:11, 10.21it/s]  9%|▊         | 11/128 [00:01<00:11, 10.09it/s] 10%|█         | 13/128 [00:01<00:11, 10.39it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.93it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.27it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.13it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.74it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.34it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.79it/s] 20%|██        | 26/128 [00:02<00:10,  9.70it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.03it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.63it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.64it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.09it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.29it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.23it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.13it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.97it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.97it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.86it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.11it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.12it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.54it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.18it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.08it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.00it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.07it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.01it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.20it/s] 51%|█████     | 65/128 [00:06<00:06,  9.96it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.91it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.78it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.60it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.36it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.25it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.83it/s] 61%|██████    | 78/128 [00:07<00:05,  9.81it/s] 62%|██████▎   | 80/128 [00:07<00:04,  9.89it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.20it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.90it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.13it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.04it/s] 70%|███████   | 90/128 [00:08<00:03, 10.25it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.47it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.09it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.89it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.82it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.17it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.16it/s] 80%|████████  | 103/128 [00:10<00:02, 10.43it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.01it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.10it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.12it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.31it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.50it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.13it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.12it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.12it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.98it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.34it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.56it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.90it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 14:09:36,628] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  9.04it/s]  2%|▏         | 3/128 [00:00<00:12, 10.14it/s]  3%|▎         | 4/128 [00:00<00:12,  9.78it/s]  4%|▍         | 5/128 [00:00<00:12,  9.62it/s]  5%|▌         | 7/128 [00:00<00:11, 10.26it/s]  7%|▋         | 9/128 [00:00<00:11, 10.03it/s]  9%|▊         | 11/128 [00:01<00:11, 10.25it/s] 10%|█         | 13/128 [00:01<00:11, 10.38it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.00it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.34it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.06it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.66it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.32it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.78it/s] 20%|██        | 26/128 [00:02<00:10,  9.72it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.04it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.48it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.59it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.99it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.29it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.22it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.07it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.97it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.93it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.82it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.12it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.15it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.38it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.19it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.05it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.09it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.13it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.87it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.12it/s] 51%|█████     | 65/128 [00:06<00:06, 10.00it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.98it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.86it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.66it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.23it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.32it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.86it/s] 61%|██████    | 78/128 [00:07<00:05,  9.92it/s] 62%|██████▎   | 80/128 [00:07<00:04,  9.97it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.07it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.94it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.17it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.10it/s] 70%|███████   | 90/128 [00:08<00:03, 10.32it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.50it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.94it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.98it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.01it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.34it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.27it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.09it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.04it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.23it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.16it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.41it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.14it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.00it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.23it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.15it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.11it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.42it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.87it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.73it/s]100%|██████████| 128/128 [00:12<00:00,  9.57it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]
[2024-01-18 14:10:05,858] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 19%|█▉        | 24/128 [00:00<00:00, 232.16it/s] 39%|███▉      | 50/128 [00:00<00:00, 246.94it/s] 62%|██████▎   | 80/128 [00:00<00:00, 268.16it/s] 84%|████████▎ | 107/128 [00:00<00:00, 267.86it/s]100%|██████████| 128/128 [00:00<00:00, 260.30it/s]
[2024-01-18 14:10:06,475] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.11it/s]  3%|▎         | 4/128 [00:00<00:12, 10.00it/s]  5%|▍         | 6/128 [00:00<00:12, 10.10it/s]  6%|▋         | 8/128 [00:00<00:10, 10.98it/s]  8%|▊         | 10/128 [00:00<00:10, 10.93it/s]  9%|▉         | 12/128 [00:01<00:10, 11.01it/s] 11%|█         | 14/128 [00:01<00:11,  9.94it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.06it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.71it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.85it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.63it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.11it/s] 20%|██        | 26/128 [00:02<00:09, 11.06it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.75it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.57it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.70it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.50it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.42it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.21it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.84it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.02it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.05it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.33it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.43it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.51it/s] 41%|████      | 52/128 [00:04<00:07, 10.67it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.65it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.78it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.63it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.22it/s] 48%|████▊     | 62/128 [00:05<00:06,  9.97it/s] 50%|█████     | 64/128 [00:06<00:06, 10.24it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.40it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.65it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.59it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.29it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.18it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.35it/s] 61%|██████    | 78/128 [00:07<00:04, 10.34it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.34it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.25it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.47it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.63it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.56it/s] 70%|███████   | 90/128 [00:08<00:03, 10.74it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.64it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.47it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.55it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.35it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.34it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.56it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.93it/s] 83%|████████▎ | 106/128 [00:10<00:01, 11.01it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.62it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.71it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.29it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.02it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.30it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.15it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.36it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.29it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.09it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.97it/s]100%|██████████| 128/128 [00:12<00:00,  9.56it/s]100%|██████████| 128/128 [00:12<00:00, 10.40it/s]
[2024-01-18 14:10:18,790] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.03it/s]  3%|▎         | 4/128 [00:00<00:12, 10.02it/s]  5%|▍         | 6/128 [00:00<00:11, 10.19it/s]  6%|▋         | 8/128 [00:00<00:11, 10.91it/s]  8%|▊         | 10/128 [00:00<00:10, 11.00it/s]  9%|▉         | 12/128 [00:01<00:10, 10.95it/s] 11%|█         | 14/128 [00:01<00:11,  9.90it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.23it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.66it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.87it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.60it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.08it/s] 20%|██        | 26/128 [00:02<00:09, 11.02it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.92it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.55it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.76it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.45it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.37it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.30it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.77it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.05it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.01it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.28it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.53it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.45it/s] 41%|████      | 52/128 [00:04<00:07, 10.57it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.56it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.72it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.60it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.30it/s] 48%|████▊     | 62/128 [00:05<00:06,  9.91it/s] 50%|█████     | 64/128 [00:06<00:06, 10.28it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.37it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.63it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.70it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.26it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.16it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.28it/s] 61%|██████    | 78/128 [00:07<00:04, 10.29it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.31it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.29it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.43it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.59it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.49it/s] 70%|███████   | 90/128 [00:08<00:03, 10.71it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.74it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.44it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.51it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.30it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.28it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.56it/s] 81%|████████▏ | 104/128 [00:09<00:02, 11.05it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.92it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.62it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.69it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.28it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.14it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.24it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.18it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.30it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.24it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.23it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.96it/s]100%|██████████| 128/128 [00:12<00:00,  9.57it/s]100%|██████████| 128/128 [00:12<00:00, 10.40it/s]
[2024-01-18 14:10:31,112] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.75it/s]  3%|▎         | 4/128 [00:00<00:12,  9.91it/s]  5%|▍         | 6/128 [00:00<00:11, 10.33it/s]  6%|▋         | 8/128 [00:00<00:10, 10.92it/s]  8%|▊         | 10/128 [00:00<00:10, 10.92it/s]  9%|▉         | 12/128 [00:01<00:10, 10.90it/s] 11%|█         | 14/128 [00:01<00:11,  9.82it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.17it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.81it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.89it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.58it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.04it/s] 20%|██        | 26/128 [00:02<00:09, 10.95it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.93it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.62it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.76it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.47it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.35it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.28it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.86it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.06it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.01it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.26it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.50it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.59it/s] 41%|████      | 52/128 [00:04<00:07, 10.65it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.58it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.73it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.56it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.39it/s] 48%|████▊     | 62/128 [00:05<00:06,  9.99it/s] 50%|█████     | 64/128 [00:06<00:06, 10.25it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.39it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.60it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.70it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.41it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.20it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.37it/s] 61%|██████    | 78/128 [00:07<00:04, 10.31it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.31it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.38it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.48it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.67it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.55it/s] 70%|███████   | 90/128 [00:08<00:03, 10.74it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.70it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.58it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.37it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.34it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.57it/s] 81%|████████▏ | 104/128 [00:09<00:02, 11.06it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.94it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.63it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.70it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.30it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.13it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.29it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.18it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.36it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.29it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.16it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.02it/s]100%|██████████| 128/128 [00:12<00:00,  9.61it/s]100%|██████████| 128/128 [00:12<00:00, 10.42it/s]
[2024-01-18 14:10:43,405] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.85it/s]  3%|▎         | 4/128 [00:00<00:12,  9.93it/s]  5%|▍         | 6/128 [00:00<00:11, 10.18it/s]  6%|▋         | 8/128 [00:00<00:10, 10.93it/s]  8%|▊         | 10/128 [00:00<00:10, 10.95it/s]  9%|▉         | 12/128 [00:01<00:10, 10.97it/s] 11%|█         | 14/128 [00:01<00:11,  9.90it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.10it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.72it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.90it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.64it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.08it/s] 20%|██        | 26/128 [00:02<00:09, 10.99it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.93it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.53it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.75it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.44it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.35it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.28it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.79it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.07it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.05it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.31it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.53it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.62it/s] 41%|████      | 52/128 [00:04<00:07, 10.72it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.73it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.81it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.65it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.43it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.03it/s] 50%|█████     | 64/128 [00:06<00:06, 10.38it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.48it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.68it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.72it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.43it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.30it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.43it/s] 61%|██████    | 78/128 [00:07<00:04, 10.38it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.36it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.36it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.54it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.73it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.61it/s] 70%|███████   | 90/128 [00:08<00:03, 10.76it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.72it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.56it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.64it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.39it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.38it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.59it/s] 81%|████████▏ | 104/128 [00:09<00:02, 11.08it/s] 83%|████████▎ | 106/128 [00:10<00:01, 11.09it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.71it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.74it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.31it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.12it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.39it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.24it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.43it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.31it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.14it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00,  9.64it/s]100%|██████████| 128/128 [00:12<00:00, 10.45it/s]
[2024-01-18 14:10:55,658] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.00it/s]  3%|▎         | 4/128 [00:00<00:12,  9.97it/s]  5%|▍         | 6/128 [00:00<00:12, 10.17it/s]  6%|▋         | 8/128 [00:00<00:10, 10.97it/s]  8%|▊         | 10/128 [00:00<00:10, 10.98it/s]  9%|▉         | 12/128 [00:01<00:10, 11.03it/s] 11%|█         | 14/128 [00:01<00:11,  9.93it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.11it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.78it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.93it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.68it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.03it/s] 20%|██        | 26/128 [00:02<00:09, 10.91it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.86it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.62it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.83it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.56it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.38it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.23it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.88it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.12it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.06it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.14it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.17it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.27it/s] 41%|████      | 52/128 [00:04<00:07, 10.19it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.19it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.32it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.25it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.15it/s] 48%|████▊     | 62/128 [00:05<00:06,  9.90it/s] 50%|█████     | 64/128 [00:06<00:06, 10.19it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.25it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.28it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.28it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.16it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.08it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.31it/s] 61%|██████    | 78/128 [00:07<00:04, 10.27it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.12it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.33it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.49it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.59it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.48it/s] 70%|███████   | 90/128 [00:08<00:03, 10.63it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.61it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.48it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.50it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.30it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.24it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.44it/s] 81%|████████▏ | 104/128 [00:09<00:02, 11.00it/s] 83%|████████▎ | 106/128 [00:10<00:01, 11.01it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.56it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.68it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.17it/s] 89%|████████▉ | 114/128 [00:10<00:01,  9.87it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.14it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.84it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.10it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.00it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.87it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.87it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.81it/s]100%|██████████| 128/128 [00:12<00:00,  8.99it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]
[2024-01-18 14:11:25,025] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 282.43it/s] 46%|████▌     | 59/128 [00:00<00:00, 289.37it/s] 70%|███████   | 90/128 [00:00<00:00, 297.43it/s] 94%|█████████▍| 120/128 [00:00<00:00, 284.13it/s]100%|██████████| 128/128 [00:00<00:00, 284.27it/s]
[2024-01-18 14:11:25,604] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.28it/s]  3%|▎         | 4/128 [00:00<00:12, 10.28it/s]  5%|▍         | 6/128 [00:00<00:12, 10.02it/s]  6%|▋         | 8/128 [00:00<00:11, 10.39it/s]  8%|▊         | 10/128 [00:00<00:11, 10.15it/s]  9%|▉         | 12/128 [00:01<00:11, 10.44it/s] 11%|█         | 14/128 [00:01<00:11, 10.33it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.55it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.34it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.36it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.23it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.37it/s] 20%|██        | 26/128 [00:02<00:09, 10.27it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.14it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.28it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.17it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.07it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.45it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.02it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.97it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.13it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.36it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.24it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.19it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.10it/s] 41%|████      | 52/128 [00:05<00:07,  9.83it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.15it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.17it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.80it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.01it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.23it/s] 50%|█████     | 64/128 [00:06<00:06, 10.38it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.29it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.17it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.41it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.58it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.46it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.71it/s] 61%|██████    | 78/128 [00:07<00:04, 10.82it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.79it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.51it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.63it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.72it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.89it/s] 70%|███████   | 90/128 [00:08<00:03, 10.78it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.83it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.31it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.48it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.64it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.65it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.08it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.73it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.65it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.52it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.09it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.36it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.26it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.82it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.85it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.84it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.61it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.72it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.29it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.90it/s]100%|██████████| 128/128 [00:12<00:00, 10.11it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:11:38,021] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.23it/s]  3%|▎         | 4/128 [00:00<00:12, 10.29it/s]  5%|▍         | 6/128 [00:00<00:12,  9.77it/s]  6%|▋         | 8/128 [00:00<00:11, 10.21it/s]  8%|▊         | 10/128 [00:00<00:11, 10.14it/s]  9%|▉         | 12/128 [00:01<00:11, 10.43it/s] 11%|█         | 14/128 [00:01<00:11, 10.35it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.37it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.19it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.29it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.19it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.44it/s] 20%|██        | 26/128 [00:02<00:09, 10.29it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.04it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.28it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.17it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.09it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.47it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.95it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.97it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.12it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.39it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.26it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.07it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.04it/s] 41%|████      | 52/128 [00:05<00:07,  9.80it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.16it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.18it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.72it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.96it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.18it/s] 50%|█████     | 64/128 [00:06<00:06, 10.37it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.27it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.20it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.28it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.54it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.38it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.66it/s] 61%|██████    | 78/128 [00:07<00:04, 10.79it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.78it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.44it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.54it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.68it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.85it/s] 70%|███████   | 90/128 [00:08<00:03, 10.81it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.72it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.24it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.39it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.57it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.67it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.98it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.70it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.58it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.44it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.04it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.39it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.17it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.73it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.77it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.81it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.55it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.69it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.26it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.89it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.27it/s]
[2024-01-18 14:11:50,489] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.24it/s]  3%|▎         | 4/128 [00:00<00:12, 10.24it/s]  5%|▍         | 6/128 [00:00<00:12,  9.78it/s]  6%|▋         | 8/128 [00:00<00:11, 10.22it/s]  8%|▊         | 10/128 [00:00<00:11, 10.12it/s]  9%|▉         | 12/128 [00:01<00:11, 10.41it/s] 11%|█         | 14/128 [00:01<00:11, 10.32it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.34it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.12it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.22it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.13it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.40it/s] 20%|██        | 26/128 [00:02<00:09, 10.21it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.02it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.22it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.12it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.05it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.42it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.91it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.94it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.11it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.36it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.23it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.04it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.01it/s] 41%|████      | 52/128 [00:05<00:07,  9.76it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.15it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.14it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.67it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.93it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.16it/s] 50%|█████     | 64/128 [00:06<00:06, 10.36it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.27it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.11it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.27it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.54it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.38it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.59it/s] 61%|██████    | 78/128 [00:07<00:04, 10.74it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.64it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.44it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.47it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.64it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.83it/s] 70%|███████   | 90/128 [00:08<00:03, 10.76it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.66it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.21it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.36it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.55it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.64it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.92it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.67it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.54it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.42it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.01it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.33it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.14it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.66it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.76it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.80it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.56it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.69it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.32it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.92it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 14:12:02,992] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.17it/s]  3%|▎         | 4/128 [00:00<00:12, 10.19it/s]  5%|▍         | 6/128 [00:00<00:12,  9.73it/s]  6%|▋         | 8/128 [00:00<00:11, 10.20it/s]  8%|▊         | 10/128 [00:00<00:11, 10.12it/s]  9%|▉         | 12/128 [00:01<00:11, 10.40it/s] 11%|█         | 14/128 [00:01<00:11, 10.32it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.35it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.22it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.29it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.18it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.44it/s] 20%|██        | 26/128 [00:02<00:09, 10.22it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.06it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.27it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.14it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.06it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.43it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.91it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.94it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.12it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.37it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.21it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.13it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.03it/s] 41%|████      | 52/128 [00:05<00:07,  9.84it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.19it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.18it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.78it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.97it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.23it/s] 50%|█████     | 64/128 [00:06<00:06, 10.38it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.28it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.14it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.38it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.57it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.45it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.71it/s] 61%|██████    | 78/128 [00:07<00:04, 10.76it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.80it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.51it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.64it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.72it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.87it/s] 70%|███████   | 90/128 [00:08<00:03, 10.74it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.78it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.27it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.47it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.61it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.59it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.03it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.69it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.61it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.48it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.06it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.26it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.19it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.73it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.82it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.85it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.59it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.60it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.31it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.88it/s]100%|██████████| 128/128 [00:12<00:00, 10.15it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 14:12:15,449] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.19it/s]  3%|▎         | 4/128 [00:00<00:12, 10.00it/s]  5%|▍         | 6/128 [00:00<00:12,  9.80it/s]  6%|▋         | 8/128 [00:00<00:11, 10.09it/s]  8%|▊         | 10/128 [00:00<00:11, 10.14it/s]  9%|▉         | 12/128 [00:01<00:11, 10.43it/s] 11%|█         | 14/128 [00:01<00:11, 10.27it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.34it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.21it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.33it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.22it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.41it/s] 20%|██        | 26/128 [00:02<00:10, 10.13it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.09it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.24it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.20it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.08it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.20it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.93it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.87it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.13it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.37it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.11it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.01it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.95it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.87it/s] 41%|████      | 52/128 [00:05<00:07,  9.78it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.24it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.12it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.69it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.92it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.20it/s] 50%|█████     | 64/128 [00:06<00:06, 10.40it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.27it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.01it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.33it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.51it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.41it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.69it/s] 61%|██████    | 78/128 [00:07<00:04, 10.61it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.65it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.43it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.55it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.69it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.83it/s] 70%|███████   | 90/128 [00:08<00:03, 10.43it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.64it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.01it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.26it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.44it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.28it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.74it/s] 80%|████████  | 103/128 [00:10<00:02,  9.61it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.30it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.26it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.18it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.89it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.05it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.65it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.12it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.70it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.74it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.76it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.38it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.18it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.96it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.78it/s]100%|██████████| 128/128 [00:12<00:00, 10.03it/s]100%|██████████| 128/128 [00:12<00:00, 10.17it/s]
[2024-01-18 14:12:44,313] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 30/128 [00:00<00:00, 294.63it/s] 48%|████▊     | 61/128 [00:00<00:00, 302.17it/s] 72%|███████▏  | 92/128 [00:00<00:00, 301.48it/s] 96%|█████████▌| 123/128 [00:00<00:00, 301.13it/s]100%|██████████| 128/128 [00:00<00:00, 302.23it/s]
[2024-01-18 14:12:44,860] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.40it/s]  2%|▏         | 2/128 [00:00<00:13,  9.21it/s]  3%|▎         | 4/128 [00:00<00:12,  9.63it/s]  4%|▍         | 5/128 [00:00<00:12,  9.58it/s]  5%|▍         | 6/128 [00:00<00:12,  9.52it/s]  6%|▋         | 8/128 [00:00<00:11, 10.82it/s]  8%|▊         | 10/128 [00:00<00:10, 10.87it/s]  9%|▉         | 12/128 [00:01<00:10, 10.61it/s] 11%|█         | 14/128 [00:01<00:11, 10.22it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.48it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.65it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.54it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.93it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.14it/s] 20%|██        | 26/128 [00:02<00:10, 10.15it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.77it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.82it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.36it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.12it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.35it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.47it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.04it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.96it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.91it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.78it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.64it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.69it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.16it/s] 41%|████      | 52/128 [00:05<00:07, 10.44it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.08it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.33it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.46it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.40it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.63it/s] 50%|█████     | 64/128 [00:06<00:06, 10.61it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.47it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.97it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.45it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.57it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.38it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.48it/s] 61%|██████    | 78/128 [00:07<00:04, 10.39it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.52it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.12it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.99it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.17it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.37it/s] 70%|███████   | 90/128 [00:08<00:03, 10.53it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.70it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.85it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.77it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.63it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.72it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.81it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.64it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.70it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.10it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.72it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.83it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.64it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.41it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.19it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.16it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.77it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.13it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.01it/s]100%|██████████| 128/128 [00:12<00:00,  9.94it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]
[2024-01-18 14:12:57,262] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.42it/s]  2%|▏         | 2/128 [00:00<00:13,  9.27it/s]  3%|▎         | 4/128 [00:00<00:12,  9.76it/s]  4%|▍         | 5/128 [00:00<00:12,  9.67it/s]  5%|▍         | 6/128 [00:00<00:12,  9.51it/s]  6%|▋         | 8/128 [00:00<00:11, 10.73it/s]  8%|▊         | 10/128 [00:00<00:11, 10.58it/s]  9%|▉         | 12/128 [00:01<00:11, 10.42it/s] 11%|█         | 14/128 [00:01<00:11, 10.16it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.43it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.63it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.28it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.80it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.09it/s] 20%|██        | 26/128 [00:02<00:10, 10.12it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.79it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.79it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.20it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.05it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.29it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.46it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.02it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.75it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.64it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.72it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.60it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.70it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.14it/s] 41%|████      | 52/128 [00:05<00:07, 10.22it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.09it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.28it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.48it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.41it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.47it/s] 50%|█████     | 64/128 [00:06<00:06, 10.51it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.40it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.92it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.47it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.50it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.20it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.46it/s] 61%|██████    | 78/128 [00:07<00:04, 10.34it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.51it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.14it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.85it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.20it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.34it/s] 70%|███████   | 90/128 [00:08<00:03, 10.55it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.72it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.73it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.78it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.59it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.70it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.81it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.63it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.56it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.12it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.68it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.84it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.64it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.34it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.21it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.16it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.80it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.13it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.01it/s]100%|██████████| 128/128 [00:12<00:00,  9.93it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 14:13:09,723] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.43it/s]  2%|▏         | 2/128 [00:00<00:13,  9.22it/s]  3%|▎         | 4/128 [00:00<00:12,  9.71it/s]  4%|▍         | 5/128 [00:00<00:12,  9.62it/s]  5%|▍         | 6/128 [00:00<00:12,  9.56it/s]  6%|▋         | 8/128 [00:00<00:11, 10.83it/s]  8%|▊         | 10/128 [00:00<00:10, 10.77it/s]  9%|▉         | 12/128 [00:01<00:11, 10.47it/s] 11%|█         | 14/128 [00:01<00:11, 10.22it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.45it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.64it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.45it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.82it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.17it/s] 20%|██        | 26/128 [00:02<00:10, 10.14it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.80it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.77it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.27it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.13it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.35it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.49it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.97it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.92it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.76it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.84it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.70it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.74it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.08it/s] 41%|████      | 52/128 [00:05<00:07, 10.29it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.11it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.34it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.55it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.38it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.50it/s] 50%|█████     | 64/128 [00:06<00:06, 10.60it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.46it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.99it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.50it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.48it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.31it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.49it/s] 61%|██████    | 78/128 [00:07<00:04, 10.41it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.56it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.10it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.93it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.23it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.38it/s] 70%|███████   | 90/128 [00:08<00:03, 10.58it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.65it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.73it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.88it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.64it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.76it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.83it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.61it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.47it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.03it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.61it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.78it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.58it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.21it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.14it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.06it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.77it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.12it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.89it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.73it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 14:13:22,158] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.32it/s]  2%|▏         | 2/128 [00:00<00:13,  9.09it/s]  3%|▎         | 4/128 [00:00<00:12,  9.73it/s]  4%|▍         | 5/128 [00:00<00:12,  9.63it/s]  5%|▍         | 6/128 [00:00<00:12,  9.59it/s]  6%|▋         | 8/128 [00:00<00:11, 10.59it/s]  8%|▊         | 10/128 [00:00<00:11, 10.58it/s]  9%|▉         | 12/128 [00:01<00:11, 10.39it/s] 11%|█         | 14/128 [00:01<00:11, 10.12it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.39it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.61it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.21it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.73it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.01it/s] 20%|██        | 26/128 [00:02<00:10, 10.07it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.73it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.60it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.16it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.98it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.27it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.44it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.91it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.83it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.71it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.74it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.63it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.71it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.08it/s] 41%|████      | 52/128 [00:05<00:07, 10.17it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.06it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.25it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.43it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.34it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.35it/s] 50%|█████     | 64/128 [00:06<00:06, 10.38it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.27it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.82it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.38it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.46it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.18it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.42it/s] 61%|██████    | 78/128 [00:07<00:04, 10.28it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.45it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.10it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.81it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.18it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.31it/s] 70%|███████   | 90/128 [00:08<00:03, 10.50it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.67it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.73it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.76it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.60it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.69it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.79it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.60it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.51it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.08it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.66it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.82it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.61it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.26it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.18it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.09it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.78it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.13it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.93it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 14:13:34,665] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.14it/s]  2%|▏         | 2/128 [00:00<00:13,  9.02it/s]  3%|▎         | 4/128 [00:00<00:12,  9.71it/s]  4%|▍         | 5/128 [00:00<00:12,  9.62it/s]  5%|▍         | 6/128 [00:00<00:12,  9.56it/s]  6%|▋         | 8/128 [00:00<00:11, 10.64it/s]  8%|▊         | 10/128 [00:00<00:11, 10.54it/s]  9%|▉         | 12/128 [00:01<00:11, 10.36it/s] 11%|█         | 14/128 [00:01<00:11, 10.09it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.37it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.57it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.18it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.73it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.02it/s] 20%|██        | 26/128 [00:02<00:10, 10.06it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.73it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.62it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.18it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.00it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.28it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.44it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.85it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.87it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.77it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.64it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.76it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.61it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.71it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.07it/s] 41%|████      | 52/128 [00:05<00:07, 10.25it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.09it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.32it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.52it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.36it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.45it/s] 50%|█████     | 64/128 [00:06<00:06, 10.59it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.41it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.95it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.46it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.41it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.28it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.43it/s] 61%|██████    | 78/128 [00:07<00:04, 10.35it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.47it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.94it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.80it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.02it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.20it/s] 70%|███████   | 90/128 [00:08<00:03, 10.37it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.46it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.63it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.38it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.49it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.61it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.37it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.51it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.87it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.56it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.69it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.44it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.25it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.01it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.03it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.69it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.99it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.86it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.70it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 14:14:03,260] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|█▉        | 25/128 [00:00<00:00, 248.53it/s] 41%|████      | 52/128 [00:00<00:00, 255.80it/s] 61%|██████    | 78/128 [00:00<00:00, 242.14it/s] 80%|████████  | 103/128 [00:00<00:00, 231.67it/s]100%|██████████| 128/128 [00:00<00:00, 239.98it/s]
[2024-01-18 14:14:03,916] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.21it/s]  3%|▎         | 4/128 [00:00<00:11, 10.72it/s]  5%|▍         | 6/128 [00:00<00:11, 10.77it/s]  6%|▋         | 8/128 [00:00<00:10, 11.14it/s]  8%|▊         | 10/128 [00:00<00:10, 11.20it/s]  9%|▉         | 12/128 [00:01<00:10, 10.75it/s] 11%|█         | 14/128 [00:01<00:10, 10.51it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.70it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.81it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.45it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.29it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.24it/s] 20%|██        | 26/128 [00:02<00:09, 10.46it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.36it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.11it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.36it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.25it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.96it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.26it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.01it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.32it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.52it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.41it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.11it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.18it/s] 41%|████      | 52/128 [00:04<00:07, 10.43it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.32it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.49it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.68it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.43it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.44it/s] 50%|█████     | 64/128 [00:06<00:05, 11.03it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.68it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.24it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.53it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.55it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.70it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.70it/s] 61%|██████    | 78/128 [00:07<00:04, 10.83it/s] 62%|██████▎   | 80/128 [00:07<00:04, 11.02it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.00it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.57it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.41it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.55it/s] 70%|███████   | 90/128 [00:08<00:03, 10.36it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.61it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.90it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.64it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.73it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.51it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.70it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.69it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.42it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.62it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.71it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.55it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.41it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.24it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.33it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.02it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.09it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.32it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.84it/s]100%|██████████| 128/128 [00:12<00:00, 10.12it/s]100%|██████████| 128/128 [00:12<00:00, 10.47it/s]
[2024-01-18 14:14:16,156] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.27it/s]  3%|▎         | 4/128 [00:00<00:11, 10.73it/s]  5%|▍         | 6/128 [00:00<00:11, 10.81it/s]  6%|▋         | 8/128 [00:00<00:10, 11.34it/s]  8%|▊         | 10/128 [00:00<00:10, 11.20it/s]  9%|▉         | 12/128 [00:01<00:10, 10.82it/s] 11%|█         | 14/128 [00:01<00:10, 10.50it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.69it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.77it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.51it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.32it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.27it/s] 20%|██        | 26/128 [00:02<00:09, 10.47it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.30it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.22it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.37it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.31it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.97it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.20it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.11it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.33it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.61it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.49it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.14it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.28it/s] 41%|████      | 52/128 [00:04<00:07, 10.44it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.34it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.47it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.67it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.47it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.45it/s] 50%|█████     | 64/128 [00:06<00:05, 11.03it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.69it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.23it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.52it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.62it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.66it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.70it/s] 61%|██████    | 78/128 [00:07<00:04, 10.80it/s] 62%|██████▎   | 80/128 [00:07<00:04, 11.00it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.04it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.57it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.42it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.53it/s] 70%|███████   | 90/128 [00:08<00:03, 10.36it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.60it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.95it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.60it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.73it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.47it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.69it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.71it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.33it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.58it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.63it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.53it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.42it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.14it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.32it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.97it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.05it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.24it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.70it/s]100%|██████████| 128/128 [00:12<00:00, 10.01it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]
[2024-01-18 14:14:28,400] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.06it/s]  3%|▎         | 4/128 [00:00<00:11, 10.65it/s]  5%|▍         | 6/128 [00:00<00:11, 10.76it/s]  6%|▋         | 8/128 [00:00<00:10, 11.33it/s]  8%|▊         | 10/128 [00:00<00:10, 11.10it/s]  9%|▉         | 12/128 [00:01<00:10, 10.76it/s] 11%|█         | 14/128 [00:01<00:10, 10.43it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.61it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.82it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.41it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.28it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.15it/s] 20%|██        | 26/128 [00:02<00:09, 10.36it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.30it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.13it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.30it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.22it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.92it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.21it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.08it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.28it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.56it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.40it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.10it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.32it/s] 41%|████      | 52/128 [00:05<00:07, 10.39it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.32it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.44it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.65it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.44it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.47it/s] 50%|█████     | 64/128 [00:06<00:05, 10.93it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.66it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.20it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.50it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.70it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.63it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.70it/s] 61%|██████    | 78/128 [00:07<00:04, 10.72it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.93it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.99it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.59it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.29it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.47it/s] 70%|███████   | 90/128 [00:08<00:03, 10.21it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.49it/s] 73%|███████▎  | 94/128 [00:08<00:03, 11.01it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.46it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.69it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.41it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.62it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.69it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.35it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.48it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.59it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.44it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.37it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.25it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.19it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.94it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.75it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.15it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.12it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.94it/s]100%|██████████| 128/128 [00:12<00:00, 10.42it/s]
[2024-01-18 14:14:40,695] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.29it/s]  3%|▎         | 4/128 [00:00<00:11, 10.56it/s]  5%|▍         | 6/128 [00:00<00:11, 10.69it/s]  6%|▋         | 8/128 [00:00<00:10, 11.36it/s]  8%|▊         | 10/128 [00:00<00:10, 11.25it/s]  9%|▉         | 12/128 [00:01<00:10, 10.69it/s] 11%|█         | 14/128 [00:01<00:10, 10.39it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.56it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.76it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.56it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.18it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.20it/s] 20%|██        | 26/128 [00:02<00:09, 10.31it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.25it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.25it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.36it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.27it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.92it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.18it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.15it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.35it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.54it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.41it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.05it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.32it/s] 41%|████      | 52/128 [00:04<00:07, 10.56it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.30it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.46it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.63it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.40it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.64it/s] 50%|█████     | 64/128 [00:06<00:05, 11.08it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.67it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.19it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.44it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.72it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.78it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.72it/s] 61%|██████    | 78/128 [00:07<00:04, 10.81it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.93it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.97it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.74it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.40it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.55it/s] 70%|███████   | 90/128 [00:08<00:03, 10.30it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.53it/s] 73%|███████▎  | 94/128 [00:08<00:03, 11.03it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.70it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.71it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.47it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.61it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.67it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.49it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.49it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.60it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.45it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.34it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.28it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.28it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.98it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.00it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.29it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.89it/s]100%|██████████| 128/128 [00:12<00:00, 10.15it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]
[2024-01-18 14:14:52,941] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.80it/s]  3%|▎         | 4/128 [00:00<00:11, 10.44it/s]  5%|▍         | 6/128 [00:00<00:11, 10.51it/s]  6%|▋         | 8/128 [00:00<00:10, 11.24it/s]  8%|▊         | 10/128 [00:00<00:10, 11.28it/s]  9%|▉         | 12/128 [00:01<00:10, 10.62it/s] 11%|█         | 14/128 [00:01<00:11, 10.31it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.42it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.65it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.49it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.25it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.11it/s] 20%|██        | 26/128 [00:02<00:09, 10.27it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.17it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.19it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.39it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.16it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.86it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.09it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.07it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.34it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.42it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.28it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.91it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.19it/s] 41%|████      | 52/128 [00:05<00:07, 10.44it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.21it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.24it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.45it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.23it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.50it/s] 50%|█████     | 64/128 [00:06<00:05, 11.05it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.52it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.02it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.23it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.56it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.71it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.71it/s] 61%|██████    | 78/128 [00:07<00:04, 10.55it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.74it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.59it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.43it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.31it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.18it/s] 70%|███████   | 90/128 [00:08<00:03,  9.95it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.23it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.70it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.45it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.61it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.13it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.38it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.41it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.24it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.47it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.52it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.25it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.17it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.10it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.29it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.96it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.70it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.08it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.99it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.83it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:15:21,410] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 25%|██▌       | 32/128 [00:00<00:00, 310.56it/s] 50%|█████     | 64/128 [00:00<00:00, 282.39it/s] 73%|███████▎  | 93/128 [00:00<00:00, 283.03it/s] 95%|█████████▌| 122/128 [00:00<00:00, 285.26it/s]100%|██████████| 128/128 [00:00<00:00, 285.09it/s]
[2024-01-18 14:15:21,985] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.98it/s]  2%|▏         | 3/128 [00:00<00:12,  9.65it/s]  4%|▍         | 5/128 [00:00<00:11, 10.26it/s]  5%|▌         | 7/128 [00:00<00:12,  9.97it/s]  7%|▋         | 9/128 [00:00<00:11, 10.36it/s]  9%|▊         | 11/128 [00:01<00:10, 10.67it/s] 10%|█         | 13/128 [00:01<00:10, 10.79it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.74it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.77it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.87it/s] 16%|█▋        | 21/128 [00:01<00:10, 10.64it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.77it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.81it/s] 21%|██        | 27/128 [00:02<00:09, 10.85it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.93it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.60it/s] 26%|██▌       | 33/128 [00:03<00:08, 11.08it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.73it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.76it/s] 30%|███       | 39/128 [00:03<00:08, 10.80it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.21it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.47it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.62it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.35it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.52it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.52it/s] 41%|████▏     | 53/128 [00:04<00:07, 10.66it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.54it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.67it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.85it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.81it/s] 49%|████▉     | 63/128 [00:05<00:06, 10.65it/s] 51%|█████     | 65/128 [00:06<00:05, 10.72it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.51it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.35it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.22it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.40it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.30it/s] 60%|██████    | 77/128 [00:07<00:04, 10.45it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.38it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.48it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.59it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.39it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.58it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.43it/s] 71%|███████   | 91/128 [00:08<00:03, 10.62it/s] 73%|███████▎  | 93/128 [00:08<00:03, 11.12it/s] 74%|███████▍  | 95/128 [00:08<00:03, 10.95it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.65it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.43it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.54it/s] 80%|████████  | 103/128 [00:09<00:02, 10.66it/s] 82%|████████▏ | 105/128 [00:09<00:02, 10.42it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.58it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.64it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.48it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.51it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.33it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.26it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.15it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.34it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.29it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.11it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.48it/s]100%|██████████| 128/128 [00:12<00:00, 10.49it/s]
[2024-01-18 14:15:34,198] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.00it/s]  2%|▏         | 3/128 [00:00<00:12,  9.80it/s]  4%|▍         | 5/128 [00:00<00:12, 10.22it/s]  5%|▌         | 7/128 [00:00<00:12, 10.04it/s]  7%|▋         | 9/128 [00:00<00:11, 10.39it/s]  9%|▊         | 11/128 [00:01<00:10, 10.66it/s] 10%|█         | 13/128 [00:01<00:10, 10.81it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.78it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.71it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.87it/s] 16%|█▋        | 21/128 [00:01<00:10, 10.63it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.77it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.88it/s] 21%|██        | 27/128 [00:02<00:09, 10.85it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.84it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.62it/s] 26%|██▌       | 33/128 [00:03<00:08, 11.04it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.75it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.77it/s] 30%|███       | 39/128 [00:03<00:08, 10.70it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.26it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.48it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.68it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.39it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.46it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.54it/s] 41%|████▏     | 53/128 [00:04<00:07, 10.67it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.59it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.71it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.77it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.75it/s] 49%|████▉     | 63/128 [00:05<00:06, 10.78it/s] 51%|█████     | 65/128 [00:06<00:05, 10.80it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.63it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.37it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.20it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.44it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.31it/s] 60%|██████    | 77/128 [00:07<00:04, 10.50it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.32it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.42it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.59it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.40it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.63it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.40it/s] 71%|███████   | 91/128 [00:08<00:03, 10.54it/s] 73%|███████▎  | 93/128 [00:08<00:03, 11.08it/s] 74%|███████▍  | 95/128 [00:08<00:03, 10.98it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.70it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.44it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.45it/s] 80%|████████  | 103/128 [00:09<00:02, 10.61it/s] 82%|████████▏ | 105/128 [00:09<00:02, 10.42it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.61it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.70it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.42it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.46it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.35it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.26it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.17it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.31it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.21it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.11it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.48it/s]100%|██████████| 128/128 [00:12<00:00, 10.49it/s]
[2024-01-18 14:15:46,405] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.86it/s]  2%|▏         | 3/128 [00:00<00:13,  9.50it/s]  4%|▍         | 5/128 [00:00<00:12, 10.18it/s]  5%|▌         | 7/128 [00:00<00:12, 10.06it/s]  7%|▋         | 9/128 [00:00<00:11, 10.42it/s]  9%|▊         | 11/128 [00:01<00:10, 10.70it/s] 10%|█         | 13/128 [00:01<00:10, 10.75it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.67it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.70it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.89it/s] 16%|█▋        | 21/128 [00:01<00:09, 10.70it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.73it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.76it/s] 21%|██        | 27/128 [00:02<00:09, 10.83it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.87it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.67it/s] 26%|██▌       | 33/128 [00:03<00:08, 11.13it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.66it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.70it/s] 30%|███       | 39/128 [00:03<00:08, 10.67it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.25it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.51it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.63it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.27it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.43it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.50it/s] 41%|████▏     | 53/128 [00:04<00:07, 10.68it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.58it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.54it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.77it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.70it/s] 49%|████▉     | 63/128 [00:05<00:06, 10.73it/s] 51%|█████     | 65/128 [00:06<00:05, 10.79it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.51it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.25it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.15it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.39it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.32it/s] 60%|██████    | 77/128 [00:07<00:04, 10.48it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.17it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.39it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.49it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.37it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.60it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.38it/s] 71%|███████   | 91/128 [00:08<00:03, 10.46it/s] 73%|███████▎  | 93/128 [00:08<00:03, 11.04it/s] 74%|███████▍  | 95/128 [00:08<00:03, 10.94it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.66it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.43it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.41it/s] 80%|████████  | 103/128 [00:09<00:02, 10.62it/s] 82%|████████▏ | 105/128 [00:09<00:02, 10.37it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.58it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.67it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.36it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.48it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.34it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.26it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.19it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.19it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.17it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.09it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.48it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]
[2024-01-18 14:15:58,652] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.92it/s]  2%|▏         | 3/128 [00:00<00:13,  9.50it/s]  4%|▍         | 5/128 [00:00<00:12, 10.08it/s]  5%|▌         | 7/128 [00:00<00:12, 10.01it/s]  7%|▋         | 9/128 [00:00<00:11, 10.35it/s]  9%|▊         | 11/128 [00:01<00:10, 10.69it/s] 10%|█         | 13/128 [00:01<00:10, 10.82it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.59it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.65it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.79it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.61it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.76it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.82it/s] 21%|██        | 27/128 [00:02<00:09, 10.67it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.78it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.53it/s] 26%|██▌       | 33/128 [00:03<00:08, 11.02it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.73it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.67it/s] 30%|███       | 39/128 [00:03<00:08, 10.61it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.14it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.42it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.62it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.39it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.31it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.48it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.57it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.50it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.67it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.68it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.67it/s] 49%|████▉     | 63/128 [00:05<00:06, 10.68it/s] 51%|█████     | 65/128 [00:06<00:05, 10.74it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.57it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.29it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.05it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.34it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.19it/s] 60%|██████    | 77/128 [00:07<00:04, 10.39it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.33it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.23it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.45it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.25it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.50it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.37it/s] 71%|███████   | 91/128 [00:08<00:03, 10.43it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.87it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.87it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.51it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.34it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.48it/s] 80%|████████  | 103/128 [00:09<00:02, 10.46it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.29it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.42it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.53it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.40it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.44it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.20it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.14it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.03it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.25it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.27it/s] 98%|█████████▊| 125/128 [00:11<00:00,  9.98it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.38it/s]100%|██████████| 128/128 [00:12<00:00, 10.40it/s]
[2024-01-18 14:16:10,967] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.91it/s]  2%|▏         | 3/128 [00:00<00:12,  9.72it/s]  4%|▍         | 5/128 [00:00<00:11, 10.28it/s]  5%|▌         | 7/128 [00:00<00:12,  9.88it/s]  7%|▋         | 9/128 [00:00<00:11, 10.31it/s]  9%|▊         | 11/128 [00:01<00:11, 10.53it/s] 10%|█         | 13/128 [00:01<00:10, 10.71it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.77it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.63it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.73it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.51it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.63it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.78it/s] 21%|██        | 27/128 [00:02<00:09, 10.87it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.63it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.49it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.83it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.59it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.76it/s] 30%|███       | 39/128 [00:03<00:08, 10.59it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.08it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.33it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.49it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.49it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.38it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.55it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.40it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.60it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.79it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.62it/s] 49%|████▉     | 63/128 [00:05<00:06, 10.61it/s] 51%|█████     | 65/128 [00:06<00:05, 10.61it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.47it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.33it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.13it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.28it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.17it/s] 60%|██████    | 77/128 [00:07<00:04, 10.35it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.30it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.36it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.28it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.15it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.25it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.16it/s] 71%|███████   | 91/128 [00:08<00:03, 10.41it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.84it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.51it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.30it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.03it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.22it/s] 80%|████████  | 103/128 [00:09<00:02, 10.42it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.99it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.25it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.29it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.21it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.40it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.14it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.02it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.90it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.13it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.13it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.00it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.22it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:16:40,098] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 24%|██▍       | 31/128 [00:00<00:00, 296.69it/s] 48%|████▊     | 61/128 [00:00<00:00, 281.48it/s] 71%|███████   | 91/128 [00:00<00:00, 286.81it/s] 95%|█████████▌| 122/128 [00:00<00:00, 293.75it/s]100%|██████████| 128/128 [00:00<00:00, 287.98it/s]
[2024-01-18 14:16:40,666] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:12,  9.99it/s]  2%|▏         | 2/128 [00:00<00:13,  9.19it/s]  2%|▏         | 3/128 [00:00<00:13,  9.30it/s]  4%|▍         | 5/128 [00:00<00:12, 10.22it/s]  5%|▌         | 7/128 [00:00<00:11, 10.45it/s]  7%|▋         | 9/128 [00:00<00:11, 10.34it/s]  9%|▊         | 11/128 [00:01<00:11, 10.52it/s] 10%|█         | 13/128 [00:01<00:10, 10.57it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.12it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.09it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.06it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.86it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.86it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.68it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.17it/s] 21%|██        | 27/128 [00:02<00:09, 10.45it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.70it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.52it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.95it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.25it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.09it/s] 30%|███       | 39/128 [00:03<00:08, 10.36it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.03it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.16it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.05it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.33it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.53it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.40it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.08it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.13it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.43it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.46it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.97it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.04it/s] 51%|█████     | 65/128 [00:06<00:05, 11.00it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.61it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.44it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.32it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.58it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.18it/s] 60%|██████    | 77/128 [00:07<00:05, 10.06it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.70it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.77it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.84it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.96it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.83it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.64it/s] 71%|███████   | 91/128 [00:08<00:03, 10.54it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.65it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.55it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.70it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.25it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.41it/s] 80%|████████  | 103/128 [00:09<00:02, 10.27it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.26it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.21it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.36it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.15it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.13it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.38it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.56it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.71it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.59it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.68it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.39it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.31it/s]100%|██████████| 128/128 [00:12<00:00, 10.38it/s]
[2024-01-18 14:16:53,005] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.83it/s]  2%|▏         | 3/128 [00:00<00:13,  9.32it/s]  4%|▍         | 5/128 [00:00<00:12, 10.19it/s]  5%|▌         | 7/128 [00:00<00:11, 10.33it/s]  7%|▋         | 9/128 [00:00<00:11, 10.23it/s]  9%|▊         | 11/128 [00:01<00:11, 10.51it/s] 10%|█         | 13/128 [00:01<00:10, 10.77it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.06it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.07it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.02it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.84it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.93it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.07it/s] 21%|██        | 27/128 [00:02<00:09, 10.43it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.58it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.46it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.09it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.19it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.11it/s] 30%|███       | 39/128 [00:03<00:08, 10.23it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.94it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.25it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.11it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.40it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.55it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.35it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.04it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.32it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.36it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.50it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.93it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.00it/s] 51%|█████     | 65/128 [00:06<00:05, 11.10it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.69it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.38it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.30it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.51it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.14it/s] 60%|██████    | 77/128 [00:07<00:04, 10.32it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.64it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.82it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.77it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.92it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.92it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.90it/s] 71%|███████   | 91/128 [00:08<00:03, 10.60it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.74it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.51it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.68it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.40it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.43it/s] 80%|████████  | 103/128 [00:09<00:02, 10.34it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.26it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.17it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.49it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.33it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.21it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.46it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.58it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.73it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.73it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.66it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.42it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.28it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]
[2024-01-18 14:17:05,313] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.90it/s]  2%|▏         | 3/128 [00:00<00:13,  9.50it/s]  4%|▍         | 5/128 [00:00<00:12, 10.18it/s]  5%|▌         | 7/128 [00:00<00:11, 10.42it/s]  7%|▋         | 9/128 [00:00<00:11, 10.23it/s]  9%|▊         | 11/128 [00:01<00:11, 10.50it/s] 10%|█         | 13/128 [00:01<00:10, 10.80it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.04it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.07it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.96it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.81it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.92it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.08it/s] 21%|██        | 27/128 [00:02<00:09, 10.41it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.57it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.42it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.07it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.16it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.07it/s] 30%|███       | 39/128 [00:03<00:08, 10.27it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.97it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.26it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.13it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.32it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.53it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.33it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.07it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.31it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.35it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.49it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.88it/s] 49%|████▉     | 63/128 [00:06<00:05, 10.98it/s] 51%|█████     | 65/128 [00:06<00:05, 11.09it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.65it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.41it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.27it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.50it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.13it/s] 60%|██████    | 77/128 [00:07<00:04, 10.29it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.67it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.85it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.79it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.88it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.90it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.82it/s] 71%|███████   | 91/128 [00:08<00:03, 10.57it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.68it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.54it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.67it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.36it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.36it/s] 80%|████████  | 103/128 [00:09<00:02, 10.33it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.22it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.18it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.49it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.17it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.17it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.37it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.54it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.70it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.67it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.58it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.36it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.22it/s]100%|██████████| 128/128 [00:12<00:00, 10.39it/s]
[2024-01-18 14:17:17,645] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.88it/s]  2%|▏         | 3/128 [00:00<00:13,  9.61it/s]  4%|▍         | 5/128 [00:00<00:12,  9.98it/s]  5%|▌         | 7/128 [00:00<00:11, 10.34it/s]  7%|▋         | 9/128 [00:00<00:11, 10.10it/s]  9%|▊         | 11/128 [00:01<00:11, 10.41it/s] 10%|█         | 13/128 [00:01<00:10, 10.72it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.97it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.02it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.92it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.85it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.71it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.90it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.10it/s] 21%|██        | 27/128 [00:02<00:09, 10.42it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.58it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.41it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.04it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.22it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.00it/s] 30%|███       | 39/128 [00:03<00:08, 10.25it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.90it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.20it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.18it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.24it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.51it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.27it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.01it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.29it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.35it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.41it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.87it/s] 49%|████▉     | 63/128 [00:06<00:05, 10.94it/s] 51%|█████     | 65/128 [00:06<00:05, 11.06it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.76it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.35it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.31it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.47it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.09it/s] 60%|██████    | 77/128 [00:07<00:04, 10.30it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.68it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.74it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.76it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.83it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.82it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.93it/s] 71%|███████   | 91/128 [00:08<00:03, 10.45it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.62it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.43it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.60it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.37it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.41it/s] 80%|████████  | 103/128 [00:09<00:02, 10.23it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.19it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.04it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.38it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.33it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.07it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.35it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.44it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.59it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.72it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.72it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.34it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.19it/s]100%|██████████| 128/128 [00:12<00:00, 10.35it/s]
[2024-01-18 14:17:30,023] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.85it/s]  2%|▏         | 3/128 [00:00<00:12,  9.64it/s]  4%|▍         | 5/128 [00:00<00:11, 10.46it/s]  5%|▌         | 7/128 [00:00<00:11, 10.26it/s]  7%|▋         | 9/128 [00:00<00:11, 10.18it/s]  9%|▊         | 11/128 [00:01<00:11, 10.30it/s] 10%|█         | 13/128 [00:01<00:10, 10.65it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.14it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.94it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.74it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.83it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.65it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.84it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.23it/s] 21%|██        | 27/128 [00:02<00:09, 10.36it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.50it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.33it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.92it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.25it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.13it/s] 30%|███       | 39/128 [00:03<00:08, 10.17it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.88it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.11it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.12it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.43it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.52it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.27it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.98it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.23it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.48it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.50it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.89it/s] 49%|████▉     | 63/128 [00:06<00:05, 10.90it/s] 51%|█████     | 65/128 [00:06<00:05, 10.96it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.70it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.50it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.27it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.46it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.02it/s] 60%|██████    | 77/128 [00:07<00:05, 10.17it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.75it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.67it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.58it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.67it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.61it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.74it/s] 71%|███████   | 91/128 [00:08<00:03, 10.45it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.45it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.30it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.43it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.16it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.37it/s] 80%|████████  | 103/128 [00:09<00:02, 10.16it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.04it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.01it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.29it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.26it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.09it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.29it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.39it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.52it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.65it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.64it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.28it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.16it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]
[2024-01-18 14:17:58,718] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 26%|██▌       | 33/128 [00:00<00:00, 319.91it/s] 51%|█████     | 65/128 [00:00<00:00, 319.47it/s] 76%|███████▌  | 97/128 [00:00<00:00, 310.20it/s]100%|██████████| 128/128 [00:00<00:00, 314.99it/s]
[2024-01-18 14:17:59,251] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.60it/s]  3%|▎         | 4/128 [00:00<00:13,  9.39it/s]  4%|▍         | 5/128 [00:00<00:13,  9.35it/s]  5%|▍         | 6/128 [00:00<00:13,  9.29it/s]  6%|▋         | 8/128 [00:00<00:11, 10.10it/s]  7%|▋         | 9/128 [00:00<00:11,  9.94it/s]  9%|▊         | 11/128 [00:01<00:11, 10.39it/s] 10%|█         | 13/128 [00:01<00:11, 10.35it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.01it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.77it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.96it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.27it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.19it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.67it/s] 20%|██        | 26/128 [00:02<00:10, 10.07it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.24it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.25it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.49it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.00it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.78it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.12it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.31it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.95it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.09it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.77it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.79it/s] 39%|███▉      | 50/128 [00:05<00:07,  9.81it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.70it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.69it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.70it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.11it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.96it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.02it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.26it/s] 50%|█████     | 64/128 [00:06<00:06, 10.12it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.99it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.16it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.38it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.38it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.62it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.29it/s] 61%|██████    | 78/128 [00:07<00:04, 10.21it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.10it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.83it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.77it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.60it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.48it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.62it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.81it/s] 71%|███████   | 91/128 [00:09<00:03, 10.23it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.43it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.49it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.54it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.60it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.69it/s] 80%|████████  | 103/128 [00:10<00:02, 11.25it/s] 82%|████████▏ | 105/128 [00:10<00:02, 11.20it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.42it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.56it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.40it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.38it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.22it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.31it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.22it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.11it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.18it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.12it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.27it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]
[2024-01-18 14:18:11,891] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.86it/s]  3%|▎         | 4/128 [00:00<00:13,  9.45it/s]  4%|▍         | 5/128 [00:00<00:13,  9.44it/s]  5%|▍         | 6/128 [00:00<00:12,  9.46it/s]  6%|▋         | 8/128 [00:00<00:11, 10.09it/s]  8%|▊         | 10/128 [00:01<00:11, 10.44it/s]  9%|▉         | 12/128 [00:01<00:11, 10.26it/s] 11%|█         | 14/128 [00:01<00:11, 10.18it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.89it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.94it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.13it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.08it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.77it/s] 20%|██        | 26/128 [00:02<00:10, 10.16it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.29it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.16it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.40it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.06it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.87it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.17it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.21it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.86it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.11it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.85it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.84it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.72it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.61it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.64it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.99it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.07it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.12it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.07it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.96it/s] 51%|█████     | 65/128 [00:06<00:06, 10.26it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.20it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.32it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.21it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.43it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.29it/s] 60%|██████    | 77/128 [00:07<00:04, 10.47it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.03it/s] 63%|██████▎   | 81/128 [00:08<00:04,  9.99it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.70it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.58it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.55it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.76it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.84it/s] 71%|███████   | 91/128 [00:09<00:03, 10.14it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.32it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.44it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.61it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.67it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.54it/s] 80%|████████  | 103/128 [00:10<00:02, 11.14it/s] 82%|████████▏ | 105/128 [00:10<00:02, 11.07it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.44it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.61it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.34it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.25it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.07it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.38it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.27it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.15it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.05it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.03it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.34it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]
[2024-01-18 14:18:24,528] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.89it/s]  3%|▎         | 4/128 [00:00<00:13,  9.16it/s]  4%|▍         | 5/128 [00:00<00:13,  9.17it/s]  5%|▍         | 6/128 [00:00<00:13,  9.26it/s]  6%|▋         | 8/128 [00:00<00:12,  9.93it/s]  7%|▋         | 9/128 [00:00<00:12,  9.84it/s]  9%|▊         | 11/128 [00:01<00:11, 10.33it/s] 10%|█         | 13/128 [00:01<00:10, 10.60it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.92it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.77it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.88it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.20it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.16it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.76it/s] 20%|██        | 26/128 [00:02<00:10,  9.99it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.22it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.18it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.43it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.08it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.67it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.07it/s] 31%|███▏      | 40/128 [00:04<00:08, 10.20it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.88it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.18it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.68it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.77it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.72it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.63it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.70it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.94it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.89it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.09it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.06it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.00it/s] 51%|█████     | 65/128 [00:06<00:06, 10.25it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.99it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.28it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.17it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.45it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.36it/s] 60%|██████    | 77/128 [00:07<00:04, 10.27it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.91it/s] 63%|██████▎   | 81/128 [00:08<00:04,  9.93it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.74it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.68it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.56it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.52it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.60it/s] 70%|██████▉   | 89/128 [00:08<00:04,  9.73it/s] 71%|███████   | 91/128 [00:09<00:03, 10.19it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.37it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.53it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.61it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.52it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.61it/s] 80%|████████  | 103/128 [00:10<00:02, 11.15it/s] 82%|████████▏ | 105/128 [00:10<00:02, 11.14it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.49it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.58it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.30it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.29it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.10it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.39it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.29it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.99it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.06it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.00it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.33it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]
[2024-01-18 14:18:37,211] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.72it/s]  3%|▎         | 4/128 [00:00<00:13,  9.21it/s]  4%|▍         | 5/128 [00:00<00:13,  9.22it/s]  5%|▍         | 6/128 [00:00<00:13,  9.18it/s]  6%|▋         | 8/128 [00:00<00:11, 10.01it/s]  7%|▋         | 9/128 [00:00<00:12,  9.90it/s]  9%|▊         | 11/128 [00:01<00:11, 10.35it/s] 10%|█         | 13/128 [00:01<00:11, 10.41it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.95it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.79it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.89it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.24it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.17it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.64it/s] 20%|██        | 26/128 [00:02<00:10, 10.05it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.18it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.20it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.45it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.97it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.78it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.06it/s] 31%|███▏      | 40/128 [00:04<00:08, 10.25it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.90it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.07it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.75it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.76it/s] 39%|███▉      | 50/128 [00:05<00:07,  9.76it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.66it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.70it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.68it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.06it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.89it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.08it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.94it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.27it/s] 50%|█████     | 64/128 [00:06<00:06, 10.04it/s] 51%|█████     | 65/128 [00:06<00:06, 10.03it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.83it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.10it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.39it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.36it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.61it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.20it/s] 61%|██████    | 78/128 [00:07<00:04, 10.16it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.05it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.78it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.72it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.59it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.33it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.53it/s] 70%|██████▉   | 89/128 [00:08<00:04,  9.70it/s] 71%|███████   | 91/128 [00:09<00:03, 10.18it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.37it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.51it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.40it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.53it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.56it/s] 80%|████████  | 103/128 [00:10<00:02, 11.18it/s] 82%|████████▏ | 105/128 [00:10<00:02, 11.16it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.35it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.44it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.29it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.27it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.14it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.37it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.01it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.99it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.02it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.04it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 14:18:49,923] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.56it/s]  3%|▎         | 4/128 [00:00<00:13,  9.19it/s]  4%|▍         | 5/128 [00:00<00:13,  9.24it/s]  5%|▍         | 6/128 [00:00<00:13,  9.30it/s]  6%|▋         | 8/128 [00:00<00:11, 10.09it/s]  8%|▊         | 10/128 [00:01<00:11, 10.36it/s]  9%|▉         | 12/128 [00:01<00:11, 10.13it/s] 11%|█         | 14/128 [00:01<00:11, 10.01it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.73it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.91it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.08it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.94it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.83it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.59it/s] 20%|██        | 26/128 [00:02<00:10, 10.06it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.31it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.21it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.25it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.98it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.81it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.73it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.20it/s] 31%|███▏      | 40/128 [00:04<00:08, 10.32it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.70it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.04it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.70it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.78it/s] 39%|███▉      | 50/128 [00:05<00:07,  9.78it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.41it/s] 41%|████      | 52/128 [00:05<00:07,  9.52it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.41it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.76it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.90it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.17it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.00it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.99it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.70it/s] 51%|█████     | 65/128 [00:06<00:06, 10.05it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.70it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.02it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.34it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.02it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.01it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.97it/s] 60%|██████    | 77/128 [00:07<00:05, 10.01it/s] 61%|██████    | 78/128 [00:07<00:05,  9.84it/s] 62%|██████▏   | 79/128 [00:08<00:05,  9.56it/s] 63%|██████▎   | 81/128 [00:08<00:04,  9.79it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.59it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.16it/s] 66%|██████▌   | 84/128 [00:08<00:04,  8.95it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.05it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.32it/s] 70%|██████▉   | 89/128 [00:09<00:04,  9.43it/s] 71%|███████   | 91/128 [00:09<00:03, 10.03it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.11it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.13it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.35it/s] 77%|███████▋  | 99/128 [00:10<00:02, 10.35it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.52it/s] 80%|████████  | 103/128 [00:10<00:02, 11.13it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.86it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.16it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.24it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.20it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.24it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.96it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.13it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.96it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.91it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.01it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.98it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.97it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]100%|██████████| 128/128 [00:12<00:00,  9.95it/s]
[2024-01-18 14:19:19,164] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 277.33it/s] 45%|████▌     | 58/128 [00:00<00:00, 283.12it/s] 69%|██████▉   | 88/128 [00:00<00:00, 288.27it/s] 93%|█████████▎| 119/128 [00:00<00:00, 295.12it/s]100%|██████████| 128/128 [00:00<00:00, 288.50it/s]
[2024-01-18 14:19:19,734] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.14it/s]  3%|▎         | 4/128 [00:00<00:12,  9.75it/s]  5%|▍         | 6/128 [00:00<00:11, 10.31it/s]  6%|▋         | 8/128 [00:00<00:11, 10.52it/s]  8%|▊         | 10/128 [00:00<00:11, 10.42it/s]  9%|▉         | 12/128 [00:01<00:10, 11.16it/s] 11%|█         | 14/128 [00:01<00:10, 10.74it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.43it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.59it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.07it/s] 17%|█▋        | 22/128 [00:02<00:09, 11.03it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.11it/s] 20%|██        | 26/128 [00:02<00:09, 10.62it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.48it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.38it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.36it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.90it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.83it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.24it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.17it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.34it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.49it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.34it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.58it/s] 41%|████      | 52/128 [00:04<00:06, 11.00it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.48it/s] 44%|████▍     | 56/128 [00:05<00:06, 11.01it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.89it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.66it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.80it/s] 50%|█████     | 64/128 [00:06<00:05, 10.88it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.67it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.49it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.84it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.51it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.42it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.30it/s] 61%|██████    | 78/128 [00:07<00:04, 10.31it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.54it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.40it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.06it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.16it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.46it/s] 70%|███████   | 90/128 [00:08<00:03, 10.73it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.31it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.17it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.13it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.46it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.09it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.72it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.09it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.63it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.04it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.36it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.55it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.53it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.43it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.99it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.41it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.25it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.23it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.17it/s]100%|██████████| 128/128 [00:12<00:00,  9.86it/s]100%|██████████| 128/128 [00:12<00:00, 10.43it/s]
[2024-01-18 14:19:32,011] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.13it/s]  3%|▎         | 4/128 [00:00<00:12, 10.18it/s]  5%|▍         | 6/128 [00:00<00:11, 10.35it/s]  6%|▋         | 8/128 [00:00<00:11, 10.51it/s]  8%|▊         | 10/128 [00:00<00:11, 10.34it/s]  9%|▉         | 12/128 [00:01<00:10, 11.06it/s] 11%|█         | 14/128 [00:01<00:10, 10.74it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.57it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.49it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.09it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.91it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.01it/s] 20%|██        | 26/128 [00:02<00:09, 10.79it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.53it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.42it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.34it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.85it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.87it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.36it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.18it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.34it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.44it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.32it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.59it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.67it/s] 41%|████      | 52/128 [00:04<00:06, 11.08it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.49it/s] 44%|████▍     | 56/128 [00:05<00:06, 11.00it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.97it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.88it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.83it/s] 50%|█████     | 64/128 [00:05<00:05, 10.96it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.68it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.50it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.03it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.67it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.35it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.25it/s] 61%|██████    | 78/128 [00:07<00:04, 10.19it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.48it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.60it/s] 66%|██████▌   | 84/128 [00:07<00:04,  9.96it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.29it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.43it/s] 70%|███████   | 90/128 [00:08<00:03, 10.70it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.22it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.18it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.50it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.03it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.81it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.17it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.62it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.99it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.27it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.59it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.73it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.36it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.97it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.34it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.21it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.41it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.17it/s]100%|██████████| 128/128 [00:12<00:00,  9.87it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]
[2024-01-18 14:19:44,255] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.82it/s]  3%|▎         | 4/128 [00:00<00:12, 10.02it/s]  5%|▍         | 6/128 [00:00<00:11, 10.52it/s]  6%|▋         | 8/128 [00:00<00:11, 10.70it/s]  8%|▊         | 10/128 [00:00<00:11, 10.26it/s]  9%|▉         | 12/128 [00:01<00:10, 11.00it/s] 11%|█         | 14/128 [00:01<00:10, 10.59it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.49it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.67it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.05it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.90it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.96it/s] 20%|██        | 26/128 [00:02<00:09, 10.65it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.53it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.49it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.25it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.81it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.76it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.29it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.24it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.27it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.38it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.22it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.50it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.71it/s] 41%|████      | 52/128 [00:04<00:06, 11.16it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.35it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.92it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.82it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.86it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.96it/s] 50%|█████     | 64/128 [00:06<00:05, 10.95it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.54it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.34it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.88it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.67it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.59it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.21it/s] 61%|██████    | 78/128 [00:07<00:04, 10.20it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.41it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.56it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.18it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.26it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.48it/s] 70%|███████   | 90/128 [00:08<00:03, 10.63it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.46it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.34it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.28it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.43it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.02it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.77it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.15it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.69it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.93it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.25it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.51it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.70it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.54it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.94it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.35it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.12it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.35it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.30it/s]100%|██████████| 128/128 [00:12<00:00,  9.81it/s]100%|██████████| 128/128 [00:12<00:00, 10.44it/s]
[2024-01-18 14:19:56,525] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.93it/s]  3%|▎         | 4/128 [00:00<00:12,  9.87it/s]  5%|▍         | 6/128 [00:00<00:11, 10.41it/s]  6%|▋         | 8/128 [00:00<00:11, 10.69it/s]  8%|▊         | 10/128 [00:00<00:11, 10.33it/s]  9%|▉         | 12/128 [00:01<00:10, 10.90it/s] 11%|█         | 14/128 [00:01<00:10, 10.55it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.33it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.55it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.12it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.83it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.85it/s] 20%|██        | 26/128 [00:02<00:09, 10.57it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.42it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.42it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.32it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.66it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.74it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.19it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.14it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.36it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.28it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.14it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.36it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.59it/s] 41%|████      | 52/128 [00:04<00:06, 11.11it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.44it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.77it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.78it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.69it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.83it/s] 50%|█████     | 64/128 [00:06<00:05, 10.99it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.53it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.29it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.83it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.57it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.52it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.39it/s] 61%|██████    | 78/128 [00:07<00:04, 10.10it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.41it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.47it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.12it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.38it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.53it/s] 70%|███████   | 90/128 [00:08<00:03, 10.61it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.39it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.25it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.29it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.56it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.98it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.73it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.08it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.71it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.06it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.17it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.49it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.57it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.45it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.07it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.31it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.14it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.27it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.21it/s]100%|██████████| 128/128 [00:12<00:00,  9.96it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]
[2024-01-18 14:20:08,828] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.65it/s]  3%|▎         | 4/128 [00:00<00:12,  9.79it/s]  5%|▍         | 6/128 [00:00<00:11, 10.29it/s]  6%|▋         | 8/128 [00:00<00:11, 10.53it/s]  8%|▊         | 10/128 [00:00<00:11, 10.41it/s]  9%|▉         | 12/128 [00:01<00:10, 11.13it/s] 11%|█         | 14/128 [00:01<00:10, 10.45it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.38it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.47it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.04it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.96it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.98it/s] 20%|██        | 26/128 [00:02<00:09, 10.62it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.42it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.35it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.34it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.87it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.76it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.22it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.11it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.30it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.44it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.19it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.41it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.59it/s] 41%|████      | 52/128 [00:04<00:06, 11.00it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.42it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.79it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.63it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.63it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.64it/s] 50%|█████     | 64/128 [00:06<00:05, 10.77it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.56it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.11it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.62it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.37it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.30it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.23it/s] 61%|██████    | 78/128 [00:07<00:04, 10.13it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.22it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.36it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.93it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.24it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.50it/s] 70%|███████   | 90/128 [00:08<00:03, 10.46it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.29it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.05it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.13it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.47it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.80it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.66it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.59it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.99it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.29it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.80it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.28it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.19it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.41it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.25it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.84it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.65it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.90it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.06it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.99it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.94it/s]100%|██████████| 128/128 [00:12<00:00,  9.86it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]
[2024-01-18 14:20:37,840] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 22%|██▏       | 28/128 [00:00<00:00, 268.34it/s] 47%|████▋     | 60/128 [00:00<00:00, 293.91it/s] 70%|███████   | 90/128 [00:00<00:00, 288.36it/s] 93%|█████████▎| 119/128 [00:00<00:00, 287.40it/s]100%|██████████| 128/128 [00:00<00:00, 285.18it/s]
[2024-01-18 14:20:38,416] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.89it/s]  3%|▎         | 4/128 [00:00<00:11, 10.44it/s]  5%|▍         | 6/128 [00:00<00:12,  9.82it/s]  6%|▋         | 8/128 [00:00<00:11, 10.30it/s]  8%|▊         | 10/128 [00:00<00:10, 10.93it/s]  9%|▉         | 12/128 [00:01<00:10, 10.93it/s] 11%|█         | 14/128 [00:01<00:10, 10.91it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.60it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.22it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.88it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.54it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.63it/s] 20%|██        | 26/128 [00:02<00:09, 10.67it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.73it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.54it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.75it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.64it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.37it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.47it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.66it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.47it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.44it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.39it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.51it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.71it/s] 41%|████      | 52/128 [00:04<00:06, 11.27it/s] 42%|████▏     | 54/128 [00:05<00:06, 11.09it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.61it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.71it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.49it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.41it/s] 50%|█████     | 64/128 [00:06<00:06, 10.60it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.32it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.46it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.48it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.96it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.99it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.44it/s] 61%|██████    | 78/128 [00:07<00:04, 10.02it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.37it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.52it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.41it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.55it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.31it/s] 70%|███████   | 90/128 [00:08<00:03, 10.52it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.31it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.36it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.42it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.31it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.97it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.25it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.85it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.76it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.84it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.85it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.97it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.96it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.31it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.42it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.57it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.44it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.36it/s]100%|██████████| 128/128 [00:12<00:00, 10.55it/s]100%|██████████| 128/128 [00:12<00:00, 10.57it/s]
[2024-01-18 14:20:50,536] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.68it/s]  3%|▎         | 4/128 [00:00<00:11, 10.38it/s]  5%|▍         | 6/128 [00:00<00:12,  9.75it/s]  6%|▋         | 8/128 [00:00<00:11, 10.24it/s]  8%|▊         | 10/128 [00:00<00:10, 10.92it/s]  9%|▉         | 12/128 [00:01<00:10, 10.80it/s] 11%|█         | 14/128 [00:01<00:10, 10.81it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.59it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.21it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.85it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.58it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.62it/s] 20%|██        | 26/128 [00:02<00:09, 10.67it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.72it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.54it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.70it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.59it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.33it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.42it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.65it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.52it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.42it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.37it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.49it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.69it/s] 41%|████      | 52/128 [00:04<00:06, 11.27it/s] 42%|████▏     | 54/128 [00:05<00:06, 11.12it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.62it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.74it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.50it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.42it/s] 50%|█████     | 64/128 [00:06<00:06, 10.57it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.27it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.43it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.48it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.94it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.98it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.32it/s] 61%|██████    | 78/128 [00:07<00:05,  9.91it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.27it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.48it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.38it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.53it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.24it/s] 70%|███████   | 90/128 [00:08<00:03, 10.45it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.25it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.44it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.35it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.33it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.27it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.91it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.20it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.81it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.68it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.77it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.77it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.90it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.90it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.33it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.31it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.54it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.34it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.27it/s]100%|██████████| 128/128 [00:12<00:00, 10.55it/s]100%|██████████| 128/128 [00:12<00:00, 10.53it/s]
[2024-01-18 14:21:02,697] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.31it/s]  3%|▎         | 4/128 [00:00<00:12, 10.13it/s]  5%|▍         | 6/128 [00:00<00:12,  9.62it/s]  6%|▋         | 8/128 [00:00<00:11, 10.14it/s]  8%|▊         | 10/128 [00:00<00:10, 10.88it/s]  9%|▉         | 12/128 [00:01<00:10, 10.95it/s] 11%|█         | 14/128 [00:01<00:10, 10.74it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.57it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.12it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.81it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.65it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.54it/s] 20%|██        | 26/128 [00:02<00:09, 10.63it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.64it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.46it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.74it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.73it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.26it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.38it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.55it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.47it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.63it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.32it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.52it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.62it/s] 41%|████      | 52/128 [00:04<00:06, 11.20it/s] 42%|████▏     | 54/128 [00:05<00:06, 11.14it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.77it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.69it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.49it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.32it/s] 50%|█████     | 64/128 [00:06<00:06, 10.51it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.43it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.35it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.38it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.85it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.88it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.41it/s] 61%|██████    | 78/128 [00:07<00:04, 10.02it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.23it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.45it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.28it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.52it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.38it/s] 70%|███████   | 90/128 [00:08<00:03, 10.38it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.20it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.29it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.27it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.49it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.18it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.84it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.07it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.66it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.77it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.89it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.68it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.84it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.72it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.23it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.43it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.56it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.35it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.25it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.50it/s]
[2024-01-18 14:21:14,891] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.11it/s]  3%|▎         | 4/128 [00:00<00:11, 10.51it/s]  5%|▍         | 6/128 [00:00<00:12,  9.72it/s]  6%|▋         | 8/128 [00:00<00:11, 10.19it/s]  8%|▊         | 10/128 [00:00<00:10, 10.86it/s]  9%|▉         | 12/128 [00:01<00:10, 10.96it/s] 11%|█         | 14/128 [00:01<00:10, 10.95it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.59it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.14it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.77it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.62it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.72it/s] 20%|██        | 26/128 [00:02<00:09, 10.70it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.62it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.43it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.67it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.75it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.45it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.30it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.52it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.36it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.55it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.48it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.51it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.59it/s] 41%|████      | 52/128 [00:04<00:06, 11.08it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.98it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.71it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.84it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.43it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.33it/s] 50%|█████     | 64/128 [00:06<00:06, 10.43it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.34it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.51it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.42it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.85it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.83it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.36it/s] 61%|██████    | 78/128 [00:07<00:04, 10.06it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.40it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.37it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.27it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.44it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.33it/s] 70%|███████   | 90/128 [00:08<00:03, 10.56it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.17it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.35it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.24it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.46it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.37it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.89it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.13it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.70it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.77it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.89it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.87it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.82it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.81it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.22it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.44it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.64it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.31it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.21it/s]100%|██████████| 128/128 [00:12<00:00, 10.44it/s]100%|██████████| 128/128 [00:12<00:00, 10.52it/s]
[2024-01-18 14:21:27,065] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.04it/s]  3%|▎         | 4/128 [00:00<00:11, 10.59it/s]  5%|▍         | 6/128 [00:00<00:12,  9.68it/s]  6%|▋         | 8/128 [00:00<00:11, 10.14it/s]  8%|▊         | 10/128 [00:00<00:10, 10.73it/s]  9%|▉         | 12/128 [00:01<00:10, 10.86it/s] 11%|█         | 14/128 [00:01<00:10, 10.89it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.59it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.99it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.69it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.49it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.61it/s] 20%|██        | 26/128 [00:02<00:09, 10.70it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.52it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.36it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.57it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.65it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.38it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.37it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.48it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.33it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.39it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.53it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.36it/s] 41%|████      | 52/128 [00:04<00:06, 10.92it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.79it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.41it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.59it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.36it/s] 48%|████▊     | 62/128 [00:05<00:06,  9.97it/s] 50%|█████     | 64/128 [00:06<00:06, 10.21it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.11it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.29it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.42it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.63it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.66it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.17it/s] 61%|██████    | 78/128 [00:07<00:05,  9.91it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.28it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.35it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.09it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.30it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.15it/s] 70%|███████   | 90/128 [00:08<00:03, 10.40it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.19it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.07it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.09it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.23it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.19it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.91it/s] 80%|████████  | 103/128 [00:09<00:02,  9.92it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.85it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.61it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.62it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.75it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.82it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.92it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.57it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.08it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.19it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.44it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.36it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.95it/s]100%|██████████| 128/128 [00:12<00:00, 10.26it/s]100%|██████████| 128/128 [00:12<00:00, 10.39it/s]
[2024-01-18 14:21:57,345] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 24%|██▍       | 31/128 [00:00<00:00, 298.22it/s] 48%|████▊     | 61/128 [00:00<00:00, 283.55it/s] 70%|███████   | 90/128 [00:00<00:00, 285.88it/s] 94%|█████████▍| 120/128 [00:00<00:00, 289.52it/s]100%|██████████| 128/128 [00:00<00:00, 290.44it/s]
[2024-01-18 14:21:57,916] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  9.06it/s]  2%|▏         | 2/128 [00:00<00:14,  8.76it/s]  3%|▎         | 4/128 [00:00<00:12,  9.58it/s]  4%|▍         | 5/128 [00:00<00:13,  9.44it/s]  5%|▍         | 6/128 [00:00<00:13,  8.74it/s]  6%|▋         | 8/128 [00:00<00:11, 10.18it/s]  8%|▊         | 10/128 [00:01<00:11, 10.59it/s]  9%|▉         | 12/128 [00:01<00:11, 10.50it/s] 11%|█         | 14/128 [00:01<00:11, 10.36it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.94it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.22it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.45it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.32it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.85it/s] 20%|██        | 26/128 [00:02<00:10,  9.96it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.16it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.37it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.38it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.79it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.89it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.77it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.72it/s] 30%|███       | 39/128 [00:03<00:09,  9.57it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.75it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.96it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.12it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.30it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.20it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.19it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.18it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.03it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.24it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.52it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.67it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.58it/s] 51%|█████     | 65/128 [00:06<00:05, 10.60it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.25it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.12it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.50it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.46it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.15it/s] 60%|██████    | 77/128 [00:07<00:05,  9.84it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.06it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.09it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.31it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.23it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.99it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.00it/s] 71%|███████   | 91/128 [00:08<00:03, 10.28it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.98it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.95it/s] 76%|███████▌  | 97/128 [00:09<00:02, 11.15it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.45it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.25it/s] 80%|████████  | 103/128 [00:10<00:02, 10.01it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.04it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.28it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.35it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.25it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.19it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.50it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.40it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.86it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.80it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.63it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.71it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.63it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.57it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.49it/s]100%|██████████| 128/128 [00:12<00:00,  9.56it/s]100%|██████████| 128/128 [00:12<00:00, 10.12it/s]
[2024-01-18 14:22:10,567] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.30it/s]  2%|▏         | 2/128 [00:00<00:13,  9.18it/s]  3%|▎         | 4/128 [00:00<00:12,  9.55it/s]  4%|▍         | 5/128 [00:00<00:12,  9.53it/s]  5%|▍         | 6/128 [00:00<00:13,  8.82it/s]  6%|▋         | 8/128 [00:00<00:11, 10.23it/s]  8%|▊         | 10/128 [00:01<00:11, 10.51it/s]  9%|▉         | 12/128 [00:01<00:11, 10.54it/s] 11%|█         | 14/128 [00:01<00:10, 10.42it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.00it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.25it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.46it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.19it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.86it/s] 20%|██        | 26/128 [00:02<00:10,  9.93it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.17it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.37it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.18it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.87it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.93it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.86it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.80it/s] 30%|███       | 39/128 [00:03<00:09,  9.62it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.68it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.96it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.18it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.38it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.25it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.16it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.11it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.09it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.27it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.59it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.71it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.48it/s] 51%|█████     | 65/128 [00:06<00:05, 10.76it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.33it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.24it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.58it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.51it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.27it/s] 60%|██████    | 77/128 [00:07<00:05,  9.98it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.20it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.19it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.41it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.23it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.16it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.10it/s] 71%|███████   | 91/128 [00:08<00:03, 10.41it/s] 73%|███████▎  | 93/128 [00:09<00:03, 11.04it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.92it/s] 76%|███████▌  | 97/128 [00:09<00:02, 11.27it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.56it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.40it/s] 80%|████████  | 103/128 [00:10<00:02, 10.11it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.05it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.34it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.50it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.37it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.32it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.60it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.35it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.00it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.75it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.84it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.75it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.59it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.47it/s]100%|██████████| 128/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]
[2024-01-18 14:22:23,143] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.33it/s]  2%|▏         | 2/128 [00:00<00:13,  9.19it/s]  3%|▎         | 4/128 [00:00<00:12,  9.73it/s]  4%|▍         | 5/128 [00:00<00:12,  9.66it/s]  5%|▍         | 6/128 [00:00<00:13,  8.87it/s]  6%|▋         | 8/128 [00:00<00:11, 10.16it/s]  8%|▊         | 10/128 [00:00<00:11, 10.56it/s]  9%|▉         | 12/128 [00:01<00:10, 10.66it/s] 11%|█         | 14/128 [00:01<00:10, 10.50it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.09it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.22it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.45it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.38it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.01it/s] 20%|██        | 26/128 [00:02<00:10, 10.08it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.18it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.34it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.32it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.98it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.03it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.79it/s] 30%|███       | 39/128 [00:03<00:09,  9.65it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.73it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.04it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.31it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.43it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.22it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.16it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.20it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.18it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.33it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.40it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.40it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.15it/s] 51%|█████     | 65/128 [00:06<00:06, 10.28it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.86it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.65it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.72it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.52it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.12it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.11it/s] 61%|██████    | 78/128 [00:07<00:05,  9.88it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.87it/s] 63%|██████▎   | 81/128 [00:08<00:04,  9.82it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.98it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.93it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.95it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.94it/s] 71%|███████   | 91/128 [00:09<00:03, 10.26it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.89it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.86it/s] 76%|███████▌  | 97/128 [00:09<00:02, 11.27it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.50it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.20it/s] 80%|████████  | 103/128 [00:10<00:02,  9.95it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.95it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.33it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.47it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.19it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.18it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.42it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.33it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.00it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.57it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.71it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.58it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.52it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.46it/s]100%|██████████| 128/128 [00:12<00:00,  9.74it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]
[2024-01-18 14:22:35,823] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  9.04it/s]  2%|▏         | 2/128 [00:00<00:14,  8.71it/s]  3%|▎         | 4/128 [00:00<00:13,  9.52it/s]  4%|▍         | 5/128 [00:00<00:13,  9.44it/s]  5%|▍         | 6/128 [00:00<00:14,  8.70it/s]  6%|▋         | 8/128 [00:00<00:11, 10.15it/s]  8%|▊         | 10/128 [00:01<00:11, 10.55it/s]  9%|▉         | 12/128 [00:01<00:10, 10.56it/s] 11%|█         | 14/128 [00:01<00:11, 10.27it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.89it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.16it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.40it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.28it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.79it/s] 20%|██        | 26/128 [00:02<00:10,  9.88it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.10it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.32it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.28it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.72it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.81it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.70it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.65it/s] 30%|███       | 39/128 [00:03<00:09,  9.51it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.70it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.87it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.17it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.30it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.20it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.15it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.08it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.99it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.18it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.47it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.63it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.53it/s] 51%|█████     | 65/128 [00:06<00:06, 10.49it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.17it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.06it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.46it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.41it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.11it/s] 60%|██████    | 77/128 [00:07<00:05,  9.80it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.01it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.06it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.30it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.10it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.00it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.95it/s] 71%|███████   | 91/128 [00:09<00:03, 10.26it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.95it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.86it/s] 76%|███████▌  | 97/128 [00:09<00:02, 11.03it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.41it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.24it/s] 80%|████████  | 103/128 [00:10<00:02, 10.00it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.98it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.17it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.36it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.22it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.21it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.51it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.18it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.89it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.77it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.60it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.77it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.66it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.56it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.34it/s]100%|██████████| 128/128 [00:12<00:00,  9.51it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 14:22:48,531] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.32it/s]  2%|▏         | 2/128 [00:00<00:13,  9.03it/s]  3%|▎         | 4/128 [00:00<00:12,  9.62it/s]  4%|▍         | 5/128 [00:00<00:12,  9.56it/s]  5%|▍         | 6/128 [00:00<00:13,  8.81it/s]  6%|▋         | 8/128 [00:00<00:11, 10.08it/s]  8%|▊         | 10/128 [00:01<00:11, 10.42it/s]  9%|▉         | 12/128 [00:01<00:11, 10.46it/s] 11%|█         | 14/128 [00:01<00:11, 10.32it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.96it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.10it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.25it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.01it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.65it/s] 20%|██        | 26/128 [00:02<00:10,  9.75it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.88it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.07it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.90it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.77it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.58it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.65it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.53it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.36it/s] 30%|███       | 39/128 [00:03<00:09,  9.23it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.43it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.53it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.97it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.16it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.40it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.10it/s] 41%|████      | 52/128 [00:05<00:07,  9.99it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.82it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.71it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.04it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.35it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.43it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.53it/s] 50%|█████     | 64/128 [00:06<00:06, 10.33it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.29it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.98it/s] 55%|█████▍    | 70/128 [00:07<00:05,  9.87it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.52it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.99it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.93it/s] 61%|██████    | 78/128 [00:07<00:05,  9.89it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.15it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.95it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.10it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.02it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.82it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.76it/s] 71%|███████   | 91/128 [00:09<00:03, 10.10it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.67it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.60it/s] 76%|███████▌  | 97/128 [00:09<00:02, 11.01it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.34it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.22it/s] 80%|████████  | 103/128 [00:10<00:02,  9.70it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.72it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.08it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.26it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.19it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.02it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.26it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.12it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.82it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.76it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.58it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.53it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.41it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.36it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.30it/s]100%|██████████| 128/128 [00:12<00:00,  9.48it/s]100%|██████████| 128/128 [00:12<00:00,  9.96it/s]
[2024-01-18 14:23:17,877] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 28%|██▊       | 36/128 [00:00<00:00, 357.87it/s] 56%|█████▋    | 72/128 [00:00<00:00, 349.23it/s] 84%|████████▍ | 108/128 [00:00<00:00, 351.44it/s]100%|██████████| 128/128 [00:00<00:00, 353.02it/s]
[2024-01-18 14:23:18,365] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:16,  7.57it/s]  2%|▏         | 2/128 [00:00<00:14,  8.49it/s]  3%|▎         | 4/128 [00:00<00:12,  9.60it/s]  4%|▍         | 5/128 [00:00<00:12,  9.50it/s]  5%|▌         | 7/128 [00:00<00:12,  9.43it/s]  7%|▋         | 9/128 [00:00<00:11, 10.18it/s]  9%|▊         | 11/128 [00:01<00:11, 10.50it/s] 10%|█         | 13/128 [00:01<00:10, 10.70it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.12it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.04it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.74it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.77it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.88it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.25it/s] 21%|██        | 27/128 [00:02<00:10,  9.79it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.16it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.87it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.79it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.19it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.92it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.24it/s] 31%|███▏      | 40/128 [00:04<00:08,  9.82it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.71it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.92it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.57it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.46it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.21it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.13it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.71it/s] 41%|████      | 52/128 [00:05<00:07,  9.60it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.73it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.03it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.82it/s] 46%|████▌     | 59/128 [00:06<00:07,  9.78it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.67it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.64it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.54it/s] 50%|█████     | 64/128 [00:06<00:06,  9.70it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.06it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.90it/s] 54%|█████▍    | 69/128 [00:07<00:05,  9.88it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.17it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.10it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.41it/s] 60%|██████    | 77/128 [00:07<00:04, 10.55it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.65it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.47it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.37it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.52it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.39it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.45it/s] 71%|███████   | 91/128 [00:09<00:03,  9.67it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.02it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.78it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.83it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.73it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.76it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.70it/s] 80%|████████  | 103/128 [00:10<00:02, 10.05it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.91it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.99it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.86it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.01it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.83it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.64it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.80it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.61it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.67it/s] 94%|█████████▍| 120/128 [00:12<00:00, 10.25it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.20it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.08it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.11it/s]100%|██████████| 128/128 [00:12<00:00,  9.81it/s]100%|██████████| 128/128 [00:12<00:00,  9.97it/s]
[2024-01-18 14:23:31,208] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:17,  7.17it/s]  2%|▏         | 2/128 [00:00<00:15,  8.26it/s]  3%|▎         | 4/128 [00:00<00:13,  9.35it/s]  4%|▍         | 5/128 [00:00<00:13,  9.32it/s]  5%|▌         | 7/128 [00:00<00:12,  9.62it/s]  7%|▋         | 9/128 [00:00<00:11, 10.32it/s]  9%|▊         | 11/128 [00:01<00:11, 10.45it/s] 10%|█         | 13/128 [00:01<00:10, 10.57it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.98it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.02it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.82it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.74it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.79it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.11it/s] 21%|██        | 27/128 [00:02<00:10,  9.76it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.22it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.89it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.71it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.13it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.81it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.18it/s] 31%|███▏      | 40/128 [00:04<00:08,  9.96it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.75it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.72it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.43it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.36it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.17it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.18it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.62it/s] 41%|████      | 52/128 [00:05<00:08,  9.42it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.60it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.91it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.76it/s] 46%|████▌     | 59/128 [00:06<00:06,  9.89it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.72it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.55it/s] 48%|████▊     | 62/128 [00:06<00:07,  9.29it/s] 50%|█████     | 64/128 [00:06<00:06,  9.52it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.93it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.83it/s] 54%|█████▍    | 69/128 [00:07<00:05,  9.97it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.23it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.95it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.29it/s] 60%|██████    | 77/128 [00:07<00:04, 10.49it/s] 62%|██████▏   | 79/128 [00:08<00:04, 10.66it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.54it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.27it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.41it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.29it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.46it/s] 71%|███████   | 91/128 [00:09<00:03,  9.75it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.96it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.73it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.82it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.70it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.86it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.80it/s] 80%|████████  | 103/128 [00:10<00:02, 10.01it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.76it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.89it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.71it/s] 85%|████████▌ | 109/128 [00:11<00:01, 10.12it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.95it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.76it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.83it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.44it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.49it/s] 94%|█████████▍| 120/128 [00:12<00:00, 10.27it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.25it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.11it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.88it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.82it/s]100%|██████████| 128/128 [00:12<00:00,  9.63it/s]100%|██████████| 128/128 [00:12<00:00,  9.92it/s]
[2024-01-18 14:23:44,116] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:17,  7.40it/s]  2%|▏         | 2/128 [00:00<00:14,  8.44it/s]  3%|▎         | 4/128 [00:00<00:13,  9.53it/s]  4%|▍         | 5/128 [00:00<00:12,  9.48it/s]  5%|▌         | 7/128 [00:00<00:12,  9.38it/s]  7%|▋         | 9/128 [00:00<00:11, 10.14it/s]  9%|▊         | 11/128 [00:01<00:11, 10.44it/s] 10%|█         | 13/128 [00:01<00:10, 10.65it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.11it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.01it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.69it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.70it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.85it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.21it/s] 21%|██        | 27/128 [00:02<00:10,  9.73it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.07it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.82it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.72it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.15it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.94it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.07it/s] 31%|███▏      | 40/128 [00:04<00:08,  9.86it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.69it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.88it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.55it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.50it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.59it/s] 38%|███▊      | 48/128 [00:04<00:09,  8.81it/s] 38%|███▊      | 49/128 [00:05<00:08,  8.91it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.60it/s] 41%|████      | 52/128 [00:05<00:08,  9.50it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.69it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.05it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.82it/s] 46%|████▌     | 59/128 [00:06<00:07,  9.78it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.64it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.58it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.48it/s] 50%|█████     | 64/128 [00:06<00:06,  9.65it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.11it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.91it/s] 54%|█████▍    | 69/128 [00:07<00:05,  9.84it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.13it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.05it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.36it/s] 60%|██████    | 77/128 [00:07<00:04, 10.63it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.60it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.44it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.32it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.47it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.43it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.50it/s] 71%|███████   | 91/128 [00:09<00:03,  9.62it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.93it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.75it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.92it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.80it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.71it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.66it/s] 80%|████████  | 103/128 [00:10<00:02,  9.97it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.84it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.91it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.79it/s] 85%|████████▌ | 109/128 [00:11<00:01, 10.13it/s] 87%|████████▋ | 111/128 [00:11<00:01,  9.98it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.72it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.49it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.66it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.67it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.06it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.03it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.18it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.98it/s]100%|██████████| 128/128 [00:12<00:00,  9.94it/s]
[2024-01-18 14:23:57,002] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:17,  7.37it/s]  2%|▏         | 2/128 [00:00<00:15,  7.98it/s]  3%|▎         | 4/128 [00:00<00:13,  9.26it/s]  4%|▍         | 5/128 [00:00<00:13,  9.22it/s]  5%|▌         | 7/128 [00:00<00:12,  9.47it/s]  7%|▋         | 9/128 [00:00<00:11, 10.13it/s]  9%|▊         | 11/128 [00:01<00:11, 10.51it/s] 10%|█         | 13/128 [00:01<00:10, 10.48it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.97it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.95it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.82it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.74it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.80it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.73it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.14it/s] 21%|██        | 27/128 [00:02<00:10,  9.69it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.16it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.92it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.80it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.00it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.91it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.79it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.18it/s] 31%|███▏      | 40/128 [00:04<00:08,  9.89it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.76it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.81it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.43it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.35it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.12it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.14it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.73it/s] 41%|████      | 52/128 [00:05<00:07,  9.53it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.58it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.94it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.73it/s] 46%|████▌     | 59/128 [00:06<00:06,  9.86it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.73it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.68it/s] 48%|████▊     | 62/128 [00:06<00:07,  9.42it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.55it/s] 50%|█████     | 64/128 [00:06<00:06,  9.45it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.99it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.81it/s] 54%|█████▍    | 69/128 [00:07<00:05,  9.94it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.26it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.98it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.28it/s] 60%|██████    | 77/128 [00:07<00:04, 10.48it/s] 62%|██████▏   | 79/128 [00:08<00:04, 10.62it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.51it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.34it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.33it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.32it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.38it/s] 71%|███████   | 91/128 [00:09<00:03,  9.69it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.05it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.64it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.82it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.64it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.80it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.74it/s] 80%|████████  | 103/128 [00:10<00:02, 10.13it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.86it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.73it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.65it/s] 85%|████████▌ | 109/128 [00:11<00:01, 10.02it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.85it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.71it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.91it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.37it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.46it/s] 94%|█████████▍| 120/128 [00:12<00:00, 10.22it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.20it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.10it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.80it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.56it/s]100%|██████████| 128/128 [00:12<00:00,  9.43it/s]100%|██████████| 128/128 [00:12<00:00,  9.89it/s]
[2024-01-18 14:24:09,951] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:17,  7.34it/s]  2%|▏         | 2/128 [00:00<00:15,  8.00it/s]  3%|▎         | 4/128 [00:00<00:13,  9.21it/s]  4%|▍         | 5/128 [00:00<00:13,  9.23it/s]  5%|▌         | 7/128 [00:00<00:12,  9.43it/s]  7%|▋         | 9/128 [00:00<00:12,  9.63it/s]  9%|▊         | 11/128 [00:01<00:11, 10.14it/s] 10%|█         | 13/128 [00:01<00:11, 10.18it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.75it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.84it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.70it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.36it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.45it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.51it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.95it/s] 20%|██        | 26/128 [00:02<00:10,  9.75it/s] 21%|██        | 27/128 [00:02<00:10,  9.59it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.02it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.70it/s] 24%|██▍       | 31/128 [00:03<00:10,  9.55it/s] 25%|██▌       | 32/128 [00:03<00:10,  9.51it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.88it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.78it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.69it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.20it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.56it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.43it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.65it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.33it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.30it/s] 38%|███▊      | 48/128 [00:05<00:08,  9.09it/s] 38%|███▊      | 49/128 [00:05<00:08,  8.88it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.47it/s] 41%|████      | 52/128 [00:05<00:08,  9.40it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.46it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.89it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.72it/s] 46%|████▌     | 59/128 [00:06<00:07,  9.59it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.34it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.36it/s] 48%|████▊     | 62/128 [00:06<00:07,  9.31it/s] 50%|█████     | 64/128 [00:06<00:06,  9.41it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.91it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.80it/s] 54%|█████▍    | 69/128 [00:07<00:06,  9.72it/s] 55%|█████▍    | 70/128 [00:07<00:06,  9.66it/s] 56%|█████▋    | 72/128 [00:07<00:05,  9.76it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.02it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.31it/s] 61%|██████    | 78/128 [00:08<00:04, 10.53it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.49it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.98it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.12it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.07it/s] 69%|██████▉   | 88/128 [00:09<00:03, 10.33it/s] 70%|███████   | 90/128 [00:09<00:03, 10.14it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.56it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.61it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.52it/s] 76%|███████▌  | 97/128 [00:10<00:03,  9.75it/s] 77%|███████▋  | 98/128 [00:10<00:03,  9.63it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.66it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.55it/s] 80%|████████  | 103/128 [00:10<00:02,  9.84it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.67it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.79it/s] 84%|████████▎ | 107/128 [00:11<00:02,  9.58it/s] 85%|████████▌ | 109/128 [00:11<00:01, 10.07it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.77it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.56it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.60it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.38it/s] 92%|█████████▏| 118/128 [00:12<00:00, 10.42it/s] 94%|█████████▍| 120/128 [00:12<00:00, 10.28it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.99it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.70it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.48it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.35it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.20it/s] 99%|█████████▉| 127/128 [00:13<00:00,  9.18it/s]100%|██████████| 128/128 [00:13<00:00,  8.91it/s]100%|██████████| 128/128 [00:13<00:00,  9.71it/s]
[2024-01-18 14:24:39,536] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 262.70it/s] 44%|████▍     | 56/128 [00:00<00:00, 276.19it/s] 66%|██████▌   | 84/128 [00:00<00:00, 272.38it/s] 88%|████████▊ | 113/128 [00:00<00:00, 275.09it/s]100%|██████████| 128/128 [00:00<00:00, 270.45it/s]
[2024-01-18 14:24:40,135] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.62it/s]  2%|▏         | 2/128 [00:00<00:13,  9.43it/s]  3%|▎         | 4/128 [00:00<00:11, 10.42it/s]  5%|▍         | 6/128 [00:00<00:12, 10.06it/s]  6%|▋         | 8/128 [00:00<00:11, 10.85it/s]  8%|▊         | 10/128 [00:00<00:10, 10.90it/s]  9%|▉         | 12/128 [00:01<00:10, 11.04it/s] 11%|█         | 14/128 [00:01<00:10, 10.39it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.44it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.60it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.16it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.09it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.09it/s] 20%|██        | 26/128 [00:02<00:10, 10.07it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.06it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.03it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.26it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.28it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.13it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.25it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.16it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.33it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.65it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.66it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.72it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.47it/s] 41%|████      | 52/128 [00:05<00:07, 10.06it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.32it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.50it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.58it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.72it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.74it/s] 50%|█████     | 64/128 [00:06<00:06, 10.62it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.50it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.44it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.87it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.93it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.65it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.77it/s] 61%|██████    | 78/128 [00:07<00:04, 10.26it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.38it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.62it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.42it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.61it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.77it/s] 70%|███████   | 90/128 [00:08<00:03, 10.69it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.80it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.57it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.66it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.77it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.73it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.62it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.79it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.51it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.06it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.49it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.91it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.23it/s] 91%|█████████ | 116/128 [00:10<00:01, 11.14it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.75it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.78it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.56it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.20it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.15it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]100%|██████████| 128/128 [00:12<00:00, 10.52it/s]
[2024-01-18 14:24:52,308] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.64it/s]  2%|▏         | 2/128 [00:00<00:13,  9.47it/s]  3%|▎         | 4/128 [00:00<00:11, 10.41it/s]  5%|▍         | 6/128 [00:00<00:12, 10.13it/s]  6%|▋         | 8/128 [00:00<00:11, 10.87it/s]  8%|▊         | 10/128 [00:00<00:10, 10.89it/s]  9%|▉         | 12/128 [00:01<00:10, 11.00it/s] 11%|█         | 14/128 [00:01<00:11, 10.35it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.40it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.57it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.13it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.09it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.06it/s] 20%|██        | 26/128 [00:02<00:10, 10.07it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.05it/s] 23%|██▎       | 30/128 [00:02<00:09,  9.98it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.23it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.26it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.13it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.32it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.12it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.32it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.61it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.71it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.74it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.44it/s] 41%|████      | 52/128 [00:05<00:07, 10.04it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.28it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.51it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.58it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.68it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.71it/s] 50%|█████     | 64/128 [00:06<00:06, 10.58it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.43it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.51it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.99it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.91it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.66it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.74it/s] 61%|██████    | 78/128 [00:07<00:04, 10.24it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.50it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.59it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.46it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.61it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.76it/s] 70%|███████   | 90/128 [00:08<00:03, 10.68it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.84it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.55it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.65it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.74it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.68it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.77it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.76it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.55it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.06it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.49it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.94it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.37it/s] 91%|█████████ | 116/128 [00:10<00:01, 11.15it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.75it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.77it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.54it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.30it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.15it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]100%|██████████| 128/128 [00:12<00:00, 10.52it/s]
[2024-01-18 14:25:04,478] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.51it/s]  2%|▏         | 2/128 [00:00<00:13,  9.39it/s]  3%|▎         | 4/128 [00:00<00:11, 10.45it/s]  5%|▍         | 6/128 [00:00<00:12, 10.14it/s]  6%|▋         | 8/128 [00:00<00:11, 10.87it/s]  8%|▊         | 10/128 [00:00<00:10, 10.92it/s]  9%|▉         | 12/128 [00:01<00:10, 10.98it/s] 11%|█         | 14/128 [00:01<00:11, 10.35it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.44it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.58it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.15it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.10it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.06it/s] 20%|██        | 26/128 [00:02<00:10, 10.07it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.04it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.01it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.23it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.28it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.11it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.24it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.13it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.29it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.61it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.72it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.70it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.43it/s] 41%|████      | 52/128 [00:05<00:07, 10.03it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.29it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.51it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.66it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.65it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.74it/s] 50%|█████     | 64/128 [00:06<00:06, 10.57it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.45it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.50it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.92it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.93it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.64it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.77it/s] 61%|██████    | 78/128 [00:07<00:04, 10.24it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.49it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.63it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.47it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.62it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.77it/s] 70%|███████   | 90/128 [00:08<00:03, 10.73it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.83it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.60it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.67it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.76it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.69it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.69it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.80it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.56it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.10it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.52it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.95it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.31it/s] 91%|█████████ | 116/128 [00:10<00:01, 11.18it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.79it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.81it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.48it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.28it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.19it/s]100%|██████████| 128/128 [00:12<00:00, 10.35it/s]100%|██████████| 128/128 [00:12<00:00, 10.53it/s]
[2024-01-18 14:25:16,640] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.66it/s]  2%|▏         | 2/128 [00:00<00:13,  9.45it/s]  3%|▎         | 4/128 [00:00<00:12, 10.28it/s]  5%|▍         | 6/128 [00:00<00:12, 10.04it/s]  6%|▋         | 8/128 [00:00<00:11, 10.83it/s]  8%|▊         | 10/128 [00:00<00:10, 10.89it/s]  9%|▉         | 12/128 [00:01<00:10, 11.02it/s] 11%|█         | 14/128 [00:01<00:11, 10.29it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.36it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.58it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.11it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.11it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.00it/s] 20%|██        | 26/128 [00:02<00:10, 10.01it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.04it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.01it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.24it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.24it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.05it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.24it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.13it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.34it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.64it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.59it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.68it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.44it/s] 41%|████      | 52/128 [00:05<00:07, 10.05it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.32it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.40it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.65it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.59it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.71it/s] 50%|█████     | 64/128 [00:06<00:06, 10.54it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.36it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.48it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.88it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.90it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.62it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.74it/s] 61%|██████    | 78/128 [00:07<00:04, 10.21it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.44it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.55it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.43it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.59it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.68it/s] 70%|███████   | 90/128 [00:08<00:03, 10.73it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.79it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.54it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.63it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.72it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.63it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.66it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.74it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.52it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.06it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.35it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.82it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.09it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.93it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.50it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.44it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.10it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.01it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.83it/s]100%|██████████| 128/128 [00:12<00:00, 10.02it/s]100%|██████████| 128/128 [00:12<00:00, 10.45it/s]
[2024-01-18 14:25:28,912] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.36it/s]  2%|▏         | 2/128 [00:00<00:13,  9.29it/s]  3%|▎         | 4/128 [00:00<00:12, 10.13it/s]  4%|▍         | 5/128 [00:00<00:12,  9.71it/s]  5%|▌         | 7/128 [00:00<00:11, 10.70it/s]  7%|▋         | 9/128 [00:00<00:11, 10.61it/s]  9%|▊         | 11/128 [00:01<00:10, 10.71it/s] 10%|█         | 13/128 [00:01<00:10, 10.52it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.21it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.33it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.13it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.04it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.80it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.06it/s] 21%|██        | 27/128 [00:02<00:10,  9.97it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.76it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.77it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.04it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.12it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.90it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.04it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.89it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.09it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.40it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.54it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.54it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.18it/s] 41%|████      | 52/128 [00:05<00:07,  9.81it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.06it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.33it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.52it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.40it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.54it/s] 50%|█████     | 64/128 [00:06<00:06, 10.34it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.27it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.41it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.67it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.69it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.38it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.49it/s] 61%|██████    | 78/128 [00:07<00:04, 10.12it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.38it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.25it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.19it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.28it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.49it/s] 70%|███████   | 90/128 [00:08<00:03, 10.60it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.57it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.28it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.37it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.46it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.54it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.67it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.50it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.32it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.68it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.16it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.82it/s] 89%|████████▉ | 114/128 [00:11<00:01, 11.22it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.91it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.53it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.21it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.90it/s] 96%|█████████▌| 123/128 [00:11<00:00,  9.90it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.58it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.12it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.05it/s]100%|██████████| 128/128 [00:12<00:00,  9.48it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]
[2024-01-18 14:25:57,953] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 287.75it/s] 45%|████▌     | 58/128 [00:00<00:00, 273.59it/s] 67%|██████▋   | 86/128 [00:00<00:00, 269.96it/s] 89%|████████▉ | 114/128 [00:00<00:00, 273.28it/s]100%|██████████| 128/128 [00:00<00:00, 267.63it/s]
[2024-01-18 14:25:58,556] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.19it/s]  3%|▎         | 4/128 [00:00<00:12, 10.26it/s]  5%|▍         | 6/128 [00:00<00:12, 10.11it/s]  6%|▋         | 8/128 [00:00<00:11, 10.48it/s]  8%|▊         | 10/128 [00:00<00:11, 10.40it/s]  9%|▉         | 12/128 [00:01<00:10, 11.03it/s] 11%|█         | 14/128 [00:01<00:10, 10.68it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.48it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.09it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.04it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.58it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.43it/s] 20%|██        | 26/128 [00:02<00:09, 10.38it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.35it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.46it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.44it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.63it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.35it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.49it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.67it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.35it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.96it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.19it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.44it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.65it/s] 41%|████      | 52/128 [00:04<00:07, 10.44it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.43it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.64it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.76it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.56it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.77it/s] 50%|█████     | 64/128 [00:06<00:05, 10.77it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.27it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.38it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.62it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.76it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.49it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.48it/s] 61%|██████    | 78/128 [00:07<00:04, 10.31it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.46it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.64it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.45it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.45it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.97it/s] 70%|███████   | 90/128 [00:08<00:03, 10.92it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.98it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.96it/s] 75%|███████▌  | 96/128 [00:09<00:02, 11.03it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.48it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.62it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.74it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.57it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.72it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.05it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.34it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.85it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.54it/s] 91%|█████████ | 116/128 [00:10<00:01, 11.07it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.04it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.47it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.38it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.21it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.18it/s]100%|██████████| 128/128 [00:12<00:00, 10.45it/s]100%|██████████| 128/128 [00:12<00:00, 10.58it/s]
[2024-01-18 14:26:10,658] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.64it/s]  3%|▎         | 4/128 [00:00<00:12, 10.07it/s]  5%|▍         | 6/128 [00:00<00:12,  9.91it/s]  6%|▋         | 8/128 [00:00<00:11, 10.32it/s]  8%|▊         | 10/128 [00:00<00:11, 10.50it/s]  9%|▉         | 12/128 [00:01<00:10, 11.12it/s] 11%|█         | 14/128 [00:01<00:10, 10.48it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.35it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.87it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.98it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.67it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.35it/s] 20%|██        | 26/128 [00:02<00:09, 10.26it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.20it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.38it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.56it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.72it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.21it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.40it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.49it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.38it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.02it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.06it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.24it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.42it/s] 41%|████      | 52/128 [00:04<00:07, 10.37it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.51it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.68it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.59it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.42it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.57it/s] 50%|█████     | 64/128 [00:06<00:05, 10.77it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.38it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.31it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.53it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.58it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.40it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.61it/s] 61%|██████    | 78/128 [00:07<00:04, 10.29it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.32it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.50it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.32it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.56it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.10it/s] 70%|███████   | 90/128 [00:08<00:03, 10.85it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.88it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.82it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.90it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.65it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.69it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.66it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.51it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.59it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.10it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.50it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.90it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.48it/s] 91%|█████████ | 116/128 [00:10<00:01, 11.00it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.90it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.61it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.46it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.15it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]100%|██████████| 128/128 [00:12<00:00, 10.53it/s]
[2024-01-18 14:26:22,825] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.23it/s]  3%|▎         | 4/128 [00:00<00:11, 10.41it/s]  5%|▍         | 6/128 [00:00<00:12,  9.90it/s]  6%|▋         | 8/128 [00:00<00:11, 10.28it/s]  8%|▊         | 10/128 [00:00<00:11, 10.38it/s]  9%|▉         | 12/128 [00:01<00:10, 11.01it/s] 11%|█         | 14/128 [00:01<00:10, 10.74it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.45it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.90it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.98it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.60it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.49it/s] 20%|██        | 26/128 [00:02<00:09, 10.44it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.28it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.37it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.51it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.66it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.43it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.41it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.54it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.36it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.97it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.26it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.43it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.58it/s] 41%|████      | 52/128 [00:04<00:07, 10.34it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.44it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.69it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.80it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.45it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.65it/s] 50%|█████     | 64/128 [00:06<00:05, 10.72it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.32it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.46it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.54it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.65it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.40it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.59it/s] 61%|██████    | 78/128 [00:07<00:04, 10.38it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.50it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.62it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.45it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.64it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.19it/s] 70%|███████   | 90/128 [00:08<00:03, 11.13it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.01it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.98it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.99it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.70it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.76it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.86it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.60it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.68it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.16it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.54it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.03it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.59it/s] 91%|█████████ | 116/128 [00:10<00:01, 11.08it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.97it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.66it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.50it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.30it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.23it/s]100%|██████████| 128/128 [00:12<00:00, 10.44it/s]100%|██████████| 128/128 [00:12<00:00, 10.60it/s]
[2024-01-18 14:26:34,904] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.19it/s]  3%|▎         | 4/128 [00:00<00:12, 10.32it/s]  5%|▍         | 6/128 [00:00<00:12,  9.99it/s]  6%|▋         | 8/128 [00:00<00:11, 10.38it/s]  8%|▊         | 10/128 [00:00<00:11, 10.52it/s]  9%|▉         | 12/128 [00:01<00:10, 11.13it/s] 11%|█         | 14/128 [00:01<00:10, 10.78it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.52it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.00it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.04it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.69it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.55it/s] 20%|██        | 26/128 [00:02<00:09, 10.48it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.31it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.44it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.56it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.72it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.45it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.47it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.63it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.41it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.02it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.29it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.45it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.61it/s] 41%|████      | 52/128 [00:04<00:07, 10.49it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.58it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.77it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.89it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.52it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.73it/s] 50%|█████     | 64/128 [00:06<00:06, 10.66it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.14it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.19it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.22it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.29it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.02it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.31it/s] 61%|██████    | 78/128 [00:07<00:04, 10.20it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.38it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.43it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.20it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.32it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.85it/s] 70%|███████   | 90/128 [00:08<00:03, 10.79it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.84it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.83it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.89it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.58it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.65it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.74it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.35it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.44it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.87it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.22it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.77it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.33it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.74it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.66it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.37it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.27it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.12it/s] 98%|█████████▊| 126/128 [00:11<00:00,  9.98it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]100%|██████████| 128/128 [00:12<00:00, 10.50it/s]
[2024-01-18 14:26:47,097] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.92it/s]  3%|▎         | 4/128 [00:00<00:12, 10.21it/s]  5%|▍         | 6/128 [00:00<00:12,  9.92it/s]  6%|▋         | 8/128 [00:00<00:11, 10.17it/s]  8%|▊         | 10/128 [00:00<00:11, 10.34it/s]  9%|▉         | 12/128 [00:01<00:10, 10.92it/s] 11%|█         | 14/128 [00:01<00:10, 10.60it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.41it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.82it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.78it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.51it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.35it/s] 20%|██        | 26/128 [00:02<00:09, 10.33it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.19it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.27it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.39it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.50it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.29it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.43it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.43it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.25it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.80it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.12it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.37it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.39it/s] 41%|████      | 52/128 [00:05<00:07, 10.23it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.28it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.52it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.70it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.38it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.40it/s] 50%|█████     | 64/128 [00:06<00:06, 10.61it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.16it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.34it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.56it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.38it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.26it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.38it/s] 61%|██████    | 78/128 [00:07<00:04, 10.21it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.42it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.45it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.12it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.32it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.83it/s] 70%|███████   | 90/128 [00:08<00:03, 10.85it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.96it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.66it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.71it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.34it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.48it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.72it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.41it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.18it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.65it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.52it/s] 88%|████████▊ | 112/128 [00:10<00:01,  9.90it/s] 89%|████████▉ | 114/128 [00:10<00:01,  9.73it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.15it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.79it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.84it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.65it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.02it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.88it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.69it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.59it/s]100%|██████████| 128/128 [00:12<00:00,  9.63it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]
[2024-01-18 14:27:16,973] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 30/128 [00:00<00:00, 291.79it/s] 47%|████▋     | 60/128 [00:00<00:00, 283.56it/s] 70%|██████▉   | 89/128 [00:00<00:00, 279.05it/s] 92%|█████████▏| 118/128 [00:00<00:00, 281.44it/s]100%|██████████| 128/128 [00:00<00:00, 283.10it/s]
[2024-01-18 14:27:17,553] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.56it/s]  2%|▏         | 2/128 [00:00<00:13,  9.33it/s]  3%|▎         | 4/128 [00:00<00:12,  9.87it/s]  5%|▍         | 6/128 [00:00<00:12, 10.07it/s]  6%|▋         | 8/128 [00:00<00:11, 10.32it/s]  8%|▊         | 10/128 [00:00<00:11, 10.55it/s]  9%|▉         | 12/128 [00:01<00:10, 10.71it/s] 11%|█         | 14/128 [00:01<00:11, 10.05it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.10it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.90it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.82it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.77it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.70it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.20it/s] 20%|██        | 26/128 [00:02<00:10, 10.15it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.27it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.21it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.29it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.01it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.35it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.16it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.76it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.66it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.52it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.50it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.99it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.90it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.81it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.56it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.05it/s] 41%|████      | 52/128 [00:05<00:07,  9.76it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.67it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.57it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.61it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.05it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.97it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.69it/s] 50%|█████     | 64/128 [00:06<00:05, 10.72it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.57it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.44it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.47it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.62it/s] 58%|█████▊    | 74/128 [00:07<00:04, 10.81it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.22it/s] 61%|██████    | 78/128 [00:07<00:04, 10.18it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.28it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.06it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.00it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.31it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.04it/s] 70%|███████   | 90/128 [00:08<00:03, 10.22it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.26it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.33it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.43it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.12it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.31it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.43it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.65it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.96it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.24it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.17it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.07it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.56it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.35it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.99it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.26it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.09it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.99it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.71it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.53it/s]100%|██████████| 128/128 [00:12<00:00, 10.09it/s]
[2024-01-18 14:27:30,245] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.68it/s]  2%|▏         | 2/128 [00:00<00:13,  9.39it/s]  3%|▎         | 4/128 [00:00<00:12,  9.65it/s]  5%|▍         | 6/128 [00:00<00:12, 10.02it/s]  6%|▋         | 8/128 [00:00<00:11, 10.36it/s]  8%|▊         | 10/128 [00:00<00:11, 10.57it/s]  9%|▉         | 12/128 [00:01<00:10, 10.77it/s] 11%|█         | 14/128 [00:01<00:11, 10.05it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.94it/s] 14%|█▍        | 18/128 [00:01<00:11, 10.00it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.33it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.64it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.07it/s] 20%|██        | 26/128 [00:02<00:10,  9.89it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.29it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.14it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.34it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.05it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.16it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.11it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.73it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.66it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.62it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.59it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.93it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.68it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.87it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.64it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.09it/s] 41%|████      | 52/128 [00:05<00:07,  9.88it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.78it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.65it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.40it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.99it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.81it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.13it/s] 49%|████▉     | 63/128 [00:06<00:05, 10.87it/s] 51%|█████     | 65/128 [00:06<00:05, 10.69it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.31it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.49it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.61it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.87it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.66it/s] 60%|██████    | 77/128 [00:07<00:05, 10.04it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.23it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.34it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.18it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.15it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.10it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.96it/s] 71%|███████   | 91/128 [00:08<00:03, 10.17it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.49it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.39it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.27it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.04it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.62it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.59it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.79it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.26it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.38it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.15it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.19it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.72it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.54it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.13it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.16it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.09it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.05it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.77it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.62it/s]100%|██████████| 128/128 [00:12<00:00, 10.11it/s]
[2024-01-18 14:27:42,918] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  9.07it/s]  2%|▏         | 2/128 [00:00<00:14,  8.87it/s]  3%|▎         | 4/128 [00:00<00:12,  9.62it/s]  5%|▍         | 6/128 [00:00<00:12, 10.03it/s]  6%|▋         | 8/128 [00:00<00:11, 10.42it/s]  8%|▊         | 10/128 [00:00<00:11, 10.64it/s]  9%|▉         | 12/128 [00:01<00:10, 10.62it/s] 11%|█         | 14/128 [00:01<00:11,  9.91it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.93it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.86it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.94it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.88it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.59it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.00it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.85it/s] 21%|██        | 27/128 [00:02<00:09, 10.13it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.23it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.42it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.14it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.06it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.23it/s] 30%|███       | 39/128 [00:03<00:08,  9.91it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.76it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.67it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.59it/s] 34%|███▎      | 43/128 [00:04<00:09,  9.32it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.80it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.69it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.78it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.62it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.11it/s] 41%|████      | 52/128 [00:05<00:07,  9.90it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.54it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.32it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.44it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.93it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.80it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.23it/s] 49%|████▉     | 63/128 [00:06<00:05, 10.95it/s] 51%|█████     | 65/128 [00:06<00:06, 10.40it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.36it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.41it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.61it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.87it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.51it/s] 60%|██████    | 77/128 [00:07<00:05, 10.03it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.19it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.35it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.20it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.04it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.96it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.88it/s] 70%|███████   | 90/128 [00:08<00:03, 10.05it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.39it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.42it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.40it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.94it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.11it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.49it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.73it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.07it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.17it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.05it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.08it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.66it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.52it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.91it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.19it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.01it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.08it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.81it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.54it/s]100%|██████████| 128/128 [00:12<00:00, 10.05it/s]
[2024-01-18 14:27:55,663] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.59it/s]  2%|▏         | 2/128 [00:00<00:13,  9.33it/s]  3%|▎         | 4/128 [00:00<00:12,  9.67it/s]  5%|▍         | 6/128 [00:00<00:12, 10.14it/s]  6%|▋         | 8/128 [00:00<00:11, 10.50it/s]  8%|▊         | 10/128 [00:00<00:11, 10.49it/s]  9%|▉         | 12/128 [00:01<00:10, 10.69it/s] 11%|█         | 14/128 [00:01<00:11,  9.96it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.03it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.05it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.33it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.52it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.88it/s] 20%|██        | 26/128 [00:02<00:10,  9.90it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.29it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.20it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.12it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.87it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.17it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.17it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.81it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.54it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.43it/s] 34%|███▎      | 43/128 [00:04<00:09,  9.42it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.82it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.75it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.92it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.73it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.84it/s] 41%|████      | 52/128 [00:05<00:08,  9.48it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.46it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.35it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.16it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.96it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.81it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.67it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.12it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.33it/s] 51%|█████     | 65/128 [00:06<00:06, 10.30it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.06it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.24it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.50it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.76it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.23it/s] 60%|██████    | 77/128 [00:07<00:05,  9.89it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.06it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.24it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.10it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.76it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.92it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.74it/s] 70%|███████   | 90/128 [00:09<00:03, 10.00it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.33it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.31it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.13it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.87it/s] 77%|███████▋  | 99/128 [00:09<00:02,  9.89it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.46it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.47it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.74it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.67it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.01it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.95it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.20it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.54it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.65it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.82it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.72it/s] 94%|█████████▍| 120/128 [00:12<00:00,  9.97it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.90it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.80it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.94it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.58it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.16it/s]100%|██████████| 128/128 [00:12<00:00,  9.96it/s]
[2024-01-18 14:28:08,528] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.60it/s]  2%|▏         | 2/128 [00:00<00:14,  8.89it/s]  3%|▎         | 4/128 [00:00<00:12,  9.54it/s]  5%|▍         | 6/128 [00:00<00:12, 10.09it/s]  6%|▋         | 8/128 [00:00<00:11, 10.42it/s]  8%|▊         | 10/128 [00:00<00:11, 10.16it/s]  9%|▉         | 12/128 [00:01<00:11, 10.51it/s] 11%|█         | 14/128 [00:01<00:11,  9.78it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.91it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.81it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.72it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.68it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.52it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.96it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.77it/s] 21%|██        | 27/128 [00:02<00:09, 10.12it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.15it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.22it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.00it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.84it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.18it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.15it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.75it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.52it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.24it/s] 34%|███▎      | 43/128 [00:04<00:09,  9.25it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.70it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.60it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.81it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.64it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.75it/s] 41%|████      | 52/128 [00:05<00:08,  9.21it/s] 41%|████▏     | 53/128 [00:05<00:08,  9.06it/s] 42%|████▏     | 54/128 [00:05<00:08,  8.99it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.76it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.47it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.30it/s] 46%|████▌     | 59/128 [00:06<00:07,  9.11it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.45it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.03it/s] 51%|█████     | 65/128 [00:06<00:06, 10.09it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.00it/s] 54%|█████▍    | 69/128 [00:07<00:05, 10.25it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.33it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.16it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.80it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.59it/s] 60%|██████    | 77/128 [00:07<00:05,  9.28it/s] 61%|██████    | 78/128 [00:07<00:05,  9.39it/s] 62%|██████▎   | 80/128 [00:08<00:04,  9.87it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.84it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.72it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.09it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.75it/s] 70%|███████   | 90/128 [00:09<00:03, 10.02it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.33it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.35it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.24it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.94it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.09it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.49it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.68it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.73it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.09it/s] 85%|████████▌ | 109/128 [00:11<00:01,  9.96it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.27it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.57it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.62it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.89it/s] 93%|█████████▎| 119/128 [00:12<00:00,  9.94it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.10it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.84it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.93it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.55it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.32it/s]100%|██████████| 128/128 [00:12<00:00,  9.85it/s]
[2024-01-18 14:28:37,639] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 285.90it/s] 48%|████▊     | 61/128 [00:00<00:00, 298.23it/s] 76%|███████▌  | 97/128 [00:00<00:00, 322.60it/s]100%|██████████| 128/128 [00:00<00:00, 314.61it/s]
[2024-01-18 14:28:38,175] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.53it/s]  2%|▏         | 3/128 [00:00<00:11, 10.56it/s]  4%|▍         | 5/128 [00:00<00:12, 10.09it/s]  5%|▌         | 7/128 [00:00<00:12,  9.88it/s]  7%|▋         | 9/128 [00:00<00:11, 10.34it/s]  9%|▊         | 11/128 [00:01<00:11, 10.15it/s] 10%|█         | 13/128 [00:01<00:11, 10.45it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.26it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.25it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.15it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.83it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.68it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.10it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.72it/s] 21%|██        | 27/128 [00:02<00:10,  9.95it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.77it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.23it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.46it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.04it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.30it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.02it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.02it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.03it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.45it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.44it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.43it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.51it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.58it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.51it/s] 41%|████      | 52/128 [00:05<00:07, 10.00it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.35it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.27it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.46it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.18it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.39it/s] 50%|█████     | 64/128 [00:06<00:06, 10.50it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.65it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.41it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.44it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.12it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.30it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.02it/s] 61%|██████    | 78/128 [00:07<00:04, 10.45it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.57it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.58it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.36it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.46it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.32it/s] 70%|███████   | 90/128 [00:08<00:03, 10.41it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.38it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.24it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.38it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.28it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.23it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.74it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.05it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.07it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.33it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.65it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.34it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.27it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.13it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.41it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.36it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.13it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.10it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.45it/s]100%|██████████| 128/128 [00:12<00:00,  9.91it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]
[2024-01-18 14:28:50,822] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.67it/s]  2%|▏         | 3/128 [00:00<00:11, 10.59it/s]  4%|▍         | 5/128 [00:00<00:12,  9.89it/s]  5%|▍         | 6/128 [00:00<00:12,  9.79it/s]  6%|▋         | 8/128 [00:00<00:11, 10.35it/s]  8%|▊         | 10/128 [00:00<00:11, 10.17it/s]  9%|▉         | 12/128 [00:01<00:11, 10.42it/s] 11%|█         | 14/128 [00:01<00:10, 10.62it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.21it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.25it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.11it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.83it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.27it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.58it/s] 21%|██        | 27/128 [00:02<00:10, 10.02it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.88it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.22it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.54it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.08it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.13it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.12it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.00it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.10it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.48it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.35it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.25it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.79it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.57it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.48it/s] 41%|████      | 52/128 [00:05<00:07, 10.07it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.42it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.12it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.34it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.11it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.34it/s] 50%|█████     | 64/128 [00:06<00:06, 10.53it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.67it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.22it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.43it/s] 56%|█████▋    | 72/128 [00:07<00:05,  9.99it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.26it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.01it/s] 61%|██████    | 78/128 [00:07<00:04, 10.21it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.51it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.55it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.39it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.51it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.22it/s] 70%|███████   | 90/128 [00:08<00:03, 10.29it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.42it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.26it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.46it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.32it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.06it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.80it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.03it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.14it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.37it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.47it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.32it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.21it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.17it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.45it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.21it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.11it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.10it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.50it/s]100%|██████████| 128/128 [00:12<00:00,  9.96it/s]100%|██████████| 128/128 [00:12<00:00, 10.12it/s]
[2024-01-18 14:29:03,475] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.43it/s]  2%|▏         | 2/128 [00:00<00:13,  9.68it/s]  3%|▎         | 4/128 [00:00<00:12,  9.88it/s]  5%|▍         | 6/128 [00:00<00:12,  9.86it/s]  6%|▋         | 8/128 [00:00<00:11, 10.42it/s]  8%|▊         | 10/128 [00:00<00:11, 10.25it/s]  9%|▉         | 12/128 [00:01<00:11, 10.34it/s] 11%|█         | 14/128 [00:01<00:10, 10.45it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.23it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.23it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.18it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.77it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.10it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.66it/s] 21%|██        | 27/128 [00:02<00:10, 10.02it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.89it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.31it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.58it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.87it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.16it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.13it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.10it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.15it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.36it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.35it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.32it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.73it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.58it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.54it/s] 41%|████      | 52/128 [00:05<00:07, 10.10it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.03it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.02it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.24it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.18it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.38it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.56it/s] 51%|█████     | 65/128 [00:06<00:06, 10.36it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.54it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.33it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.26it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.24it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.00it/s] 60%|██████    | 77/128 [00:07<00:05,  9.83it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.44it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.64it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.70it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.29it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.07it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.23it/s] 71%|███████   | 91/128 [00:09<00:03, 10.34it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.51it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.35it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.18it/s] 77%|███████▋  | 99/128 [00:09<00:02,  9.93it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.89it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.72it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.08it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.08it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.23it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.56it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.35it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.31it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.24it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.38it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.24it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.13it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.17it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.52it/s]100%|██████████| 128/128 [00:12<00:00,  9.92it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]
[2024-01-18 14:29:16,160] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.22it/s]  2%|▏         | 3/128 [00:00<00:12, 10.31it/s]  4%|▍         | 5/128 [00:00<00:12, 10.09it/s]  5%|▌         | 7/128 [00:00<00:11, 10.19it/s]  7%|▋         | 9/128 [00:00<00:11, 10.47it/s]  9%|▊         | 11/128 [00:01<00:11, 10.21it/s] 10%|█         | 13/128 [00:01<00:11, 10.43it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.19it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.49it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.38it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.89it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.65it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.07it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.59it/s] 21%|██        | 27/128 [00:02<00:10, 10.08it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.94it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.34it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.28it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.90it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.92it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.25it/s] 30%|███       | 39/128 [00:03<00:08,  9.93it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.82it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.85it/s] 34%|███▎      | 43/128 [00:04<00:09,  9.14it/s] 34%|███▍      | 44/128 [00:04<00:09,  9.12it/s] 35%|███▌      | 45/128 [00:04<00:09,  9.02it/s] 36%|███▌      | 46/128 [00:04<00:09,  8.99it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.67it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.51it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.45it/s] 41%|████      | 52/128 [00:05<00:07,  9.68it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.01it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.90it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.08it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.09it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.32it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.26it/s] 51%|█████     | 65/128 [00:06<00:06, 10.39it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.44it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.28it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.23it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.05it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.93it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.83it/s] 60%|██████    | 77/128 [00:07<00:05,  9.61it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.54it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.73it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.67it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.09it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.02it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.11it/s] 71%|███████   | 91/128 [00:09<00:03, 10.28it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.45it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.97it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.19it/s] 77%|███████▋  | 99/128 [00:09<00:02,  9.80it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.87it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.70it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.00it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.60it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.93it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.54it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.04it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.31it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.94it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.86it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.76it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.80it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.74it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.13it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.90it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.13it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.29it/s]100%|██████████| 128/128 [00:12<00:00,  9.97it/s]
[2024-01-18 14:29:29,006] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.51it/s]  2%|▏         | 3/128 [00:00<00:12, 10.16it/s]  4%|▍         | 5/128 [00:00<00:12, 10.00it/s]  5%|▍         | 6/128 [00:00<00:12,  9.87it/s]  6%|▋         | 8/128 [00:00<00:11, 10.43it/s]  8%|▊         | 10/128 [00:01<00:12,  9.80it/s]  9%|▉         | 12/128 [00:01<00:11, 10.14it/s] 11%|█         | 14/128 [00:01<00:11, 10.29it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.14it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.17it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.83it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.73it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.57it/s] 18%|█▊        | 23/128 [00:02<00:11,  8.80it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.53it/s] 21%|██        | 27/128 [00:02<00:10, 10.05it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.88it/s] 23%|██▎       | 30/128 [00:03<00:09,  9.98it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.24it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.74it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.96it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.77it/s] 30%|███       | 39/128 [00:03<00:09,  9.48it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.27it/s] 32%|███▏      | 41/128 [00:04<00:09,  8.83it/s] 34%|███▎      | 43/128 [00:04<00:09,  8.74it/s] 34%|███▍      | 44/128 [00:04<00:09,  8.53it/s] 35%|███▌      | 45/128 [00:04<00:09,  8.37it/s] 36%|███▌      | 46/128 [00:04<00:09,  8.56it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.38it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.29it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.19it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.36it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.93it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.64it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.62it/s] 45%|████▌     | 58/128 [00:06<00:07,  9.93it/s] 46%|████▌     | 59/128 [00:06<00:07,  9.61it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.82it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.79it/s] 50%|█████     | 64/128 [00:06<00:06, 10.12it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.28it/s] 53%|█████▎    | 68/128 [00:07<00:05, 10.17it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.40it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.00it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.10it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.83it/s] 60%|██████    | 77/128 [00:07<00:05,  9.68it/s] 62%|██████▏   | 79/128 [00:08<00:04, 10.53it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.72it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.59it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.26it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.09it/s] 70%|██████▉   | 89/128 [00:09<00:03, 10.26it/s] 71%|███████   | 91/128 [00:09<00:03, 10.38it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.50it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.14it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.33it/s] 77%|███████▋  | 99/128 [00:10<00:02,  9.94it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.98it/s] 80%|████████  | 103/128 [00:10<00:02,  9.90it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.88it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.70it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.18it/s] 85%|████████▌ | 109/128 [00:11<00:01, 10.73it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.25it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.47it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.73it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.05it/s] 93%|█████████▎| 119/128 [00:12<00:00,  9.98it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.03it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.34it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.88it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.28it/s]100%|██████████| 128/128 [00:12<00:00,  9.81it/s]100%|██████████| 128/128 [00:12<00:00,  9.88it/s]
[2024-01-18 14:29:57,963] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 27%|██▋       | 34/128 [00:00<00:00, 336.32it/s] 53%|█████▎    | 68/128 [00:00<00:00, 311.60it/s] 78%|███████▊  | 100/128 [00:00<00:00, 308.48it/s]100%|██████████| 128/128 [00:00<00:00, 313.59it/s]
[2024-01-18 14:29:58,498] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.22it/s]  2%|▏         | 2/128 [00:00<00:13,  9.40it/s]  3%|▎         | 4/128 [00:00<00:12,  9.57it/s]  5%|▍         | 6/128 [00:00<00:12,  9.72it/s]  5%|▌         | 7/128 [00:00<00:12,  9.45it/s]  6%|▋         | 8/128 [00:00<00:12,  9.40it/s]  8%|▊         | 10/128 [00:01<00:11,  9.98it/s]  9%|▉         | 12/128 [00:01<00:11, 10.06it/s] 11%|█         | 14/128 [00:01<00:11, 10.18it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.09it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.02it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.02it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.85it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.78it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.71it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.57it/s] 21%|██        | 27/128 [00:02<00:10,  9.99it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.23it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.48it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.41it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.17it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.05it/s] 30%|███       | 39/128 [00:03<00:08, 10.01it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.31it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.01it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.88it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.70it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.86it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.62it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.12it/s] 41%|████      | 52/128 [00:05<00:07,  9.99it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.89it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.17it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.40it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.84it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.00it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.12it/s] 51%|█████     | 65/128 [00:06<00:06,  9.85it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.58it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.54it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.47it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.05it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.48it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.24it/s] 60%|██████    | 77/128 [00:07<00:05,  9.81it/s] 61%|██████    | 78/128 [00:07<00:05,  9.70it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.48it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.12it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.35it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.25it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.78it/s] 70%|██████▉   | 89/128 [00:08<00:04,  9.70it/s] 71%|███████   | 91/128 [00:09<00:03, 10.45it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.35it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.32it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.80it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.07it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.03it/s] 80%|████████  | 103/128 [00:10<00:02, 10.43it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.67it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.82it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.62it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.39it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.17it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.39it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.34it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.13it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.11it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.23it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.22it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.21it/s]100%|██████████| 128/128 [00:12<00:00, 10.09it/s]
[2024-01-18 14:30:11,198] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.48it/s]  2%|▏         | 2/128 [00:00<00:14,  8.89it/s]  3%|▎         | 4/128 [00:00<00:12,  9.73it/s]  5%|▍         | 6/128 [00:00<00:12,  9.73it/s]  5%|▌         | 7/128 [00:00<00:12,  9.53it/s]  6%|▋         | 8/128 [00:00<00:12,  9.54it/s]  8%|▊         | 10/128 [00:01<00:11, 10.08it/s]  9%|▊         | 11/128 [00:01<00:11,  9.93it/s]  9%|▉         | 12/128 [00:01<00:11,  9.68it/s] 11%|█         | 14/128 [00:01<00:11, 10.20it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.93it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.97it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.30it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.79it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.59it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.57it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.64it/s] 21%|██        | 27/128 [00:02<00:10, 10.02it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.34it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.53it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.22it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.19it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.05it/s] 30%|███       | 39/128 [00:03<00:08, 10.10it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.38it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.84it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.75it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.78it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.90it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.73it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.19it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.73it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.08it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.32it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.90it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.05it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.94it/s] 50%|█████     | 64/128 [00:06<00:06,  9.77it/s] 51%|█████     | 65/128 [00:06<00:06,  9.71it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.49it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.37it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.50it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.12it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.43it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.97it/s] 60%|██████    | 77/128 [00:07<00:05,  9.78it/s] 61%|██████    | 78/128 [00:07<00:05,  9.64it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.46it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.12it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.34it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.08it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.74it/s] 70%|██████▉   | 89/128 [00:08<00:04,  9.61it/s] 71%|███████   | 91/128 [00:09<00:03, 10.44it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.31it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.28it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.68it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.01it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.99it/s] 80%|████████  | 103/128 [00:10<00:02, 10.41it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.62it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.67it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.63it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.36it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.19it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.41it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.32it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.08it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.06it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.23it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.23it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.21it/s]100%|██████████| 128/128 [00:12<00:00, 10.05it/s]
[2024-01-18 14:30:23,949] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.85it/s]  2%|▏         | 2/128 [00:00<00:13,  9.22it/s]  3%|▎         | 4/128 [00:00<00:12,  9.68it/s]  5%|▍         | 6/128 [00:00<00:12,  9.88it/s]  5%|▌         | 7/128 [00:00<00:12,  9.64it/s]  6%|▋         | 8/128 [00:00<00:12,  9.61it/s]  8%|▊         | 10/128 [00:01<00:11,  9.88it/s]  9%|▉         | 12/128 [00:01<00:11,  9.89it/s] 11%|█         | 14/128 [00:01<00:11, 10.20it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.13it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.12it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.09it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.69it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.65it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.64it/s] 21%|██        | 27/128 [00:02<00:10, 10.00it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.31it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.36it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.26it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.17it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.06it/s] 30%|███       | 39/128 [00:03<00:08, 10.09it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.24it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.77it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.69it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.73it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.87it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.70it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.10it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.72it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.04it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.35it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.91it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.00it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.96it/s] 50%|█████     | 64/128 [00:06<00:06,  9.89it/s] 51%|█████     | 65/128 [00:06<00:06,  9.70it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.50it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.50it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.59it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.15it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.18it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.06it/s] 60%|██████    | 77/128 [00:07<00:05,  9.77it/s] 61%|██████    | 78/128 [00:07<00:05,  9.66it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.53it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.98it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.13it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.12it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.77it/s] 70%|██████▉   | 89/128 [00:08<00:04,  9.70it/s] 71%|███████   | 91/128 [00:09<00:03, 10.52it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.20it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.13it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.72it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.04it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.09it/s] 80%|████████  | 103/128 [00:10<00:02, 10.36it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.41it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.65it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.64it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.43it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.25it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.20it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.17it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.13it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.13it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.35it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.14it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.04it/s]
[2024-01-18 14:30:36,714] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  9.03it/s]  2%|▏         | 2/128 [00:00<00:13,  9.29it/s]  3%|▎         | 4/128 [00:00<00:12,  9.94it/s]  5%|▍         | 6/128 [00:00<00:12,  9.93it/s]  5%|▌         | 7/128 [00:00<00:12,  9.50it/s]  6%|▋         | 8/128 [00:00<00:12,  9.46it/s]  8%|▊         | 10/128 [00:01<00:11,  9.99it/s]  9%|▉         | 12/128 [00:01<00:11,  9.97it/s] 11%|█         | 14/128 [00:01<00:11, 10.29it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.24it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.79it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.85it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.55it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.42it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.40it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.57it/s] 21%|██        | 27/128 [00:02<00:10,  9.89it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.79it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.82it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.23it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.97it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.00it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.78it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.18it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.77it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.91it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.63it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.52it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.72it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.87it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.45it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.88it/s] 41%|████      | 52/128 [00:05<00:07,  9.78it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.56it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.01it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.43it/s] 46%|████▌     | 59/128 [00:06<00:07,  9.82it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.74it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.69it/s] 50%|█████     | 64/128 [00:06<00:06,  9.75it/s] 51%|█████     | 65/128 [00:06<00:06,  9.68it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.53it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.50it/s] 54%|█████▍    | 69/128 [00:07<00:05, 10.55it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.66it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.18it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.90it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.81it/s] 60%|██████    | 77/128 [00:07<00:05,  9.74it/s] 61%|██████    | 78/128 [00:07<00:05,  9.60it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.58it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.72it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.06it/s] 67%|██████▋   | 86/128 [00:08<00:04,  9.97it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.67it/s] 70%|██████▉   | 89/128 [00:09<00:04,  9.60it/s] 71%|███████   | 91/128 [00:09<00:03, 10.34it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.05it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.03it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.66it/s] 77%|███████▋  | 99/128 [00:10<00:02,  9.97it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.95it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.62it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.43it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.54it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.63it/s] 86%|████████▌ | 110/128 [00:11<00:01, 10.39it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.49it/s] 89%|████████▉ | 114/128 [00:11<00:01,  9.97it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.20it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.83it/s] 94%|█████████▍| 120/128 [00:12<00:00,  9.94it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.18it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.06it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.00it/s]100%|██████████| 128/128 [00:12<00:00,  9.88it/s]100%|██████████| 128/128 [00:12<00:00,  9.91it/s]
[2024-01-18 14:30:49,641] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.15it/s]  2%|▏         | 2/128 [00:00<00:13,  9.32it/s]  3%|▎         | 4/128 [00:00<00:12,  9.88it/s]  5%|▍         | 6/128 [00:00<00:12,  9.76it/s]  5%|▌         | 7/128 [00:00<00:12,  9.36it/s]  6%|▋         | 8/128 [00:00<00:12,  9.33it/s]  8%|▊         | 10/128 [00:01<00:12,  9.83it/s]  9%|▉         | 12/128 [00:01<00:11,  9.88it/s] 11%|█         | 14/128 [00:01<00:11, 10.24it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.05it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.69it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.62it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.39it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.15it/s] 18%|█▊        | 23/128 [00:02<00:11,  8.98it/s] 19%|█▉        | 24/128 [00:02<00:11,  9.15it/s] 20%|█▉        | 25/128 [00:02<00:11,  8.90it/s] 20%|██        | 26/128 [00:02<00:11,  9.12it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.54it/s] 23%|██▎       | 29/128 [00:03<00:10,  9.62it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.07it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.02it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.90it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.56it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.72it/s] 30%|███       | 39/128 [00:04<00:09,  9.16it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.24it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.47it/s] 34%|███▎      | 43/128 [00:04<00:09,  9.25it/s] 34%|███▍      | 44/128 [00:04<00:09,  9.21it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.53it/s] 38%|███▊      | 48/128 [00:05<00:08,  9.73it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.42it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.85it/s] 41%|████      | 52/128 [00:05<00:07,  9.77it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.65it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.02it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.43it/s] 46%|████▌     | 59/128 [00:06<00:06,  9.87it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.75it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.69it/s] 50%|█████     | 64/128 [00:06<00:06,  9.83it/s] 51%|█████     | 65/128 [00:06<00:06,  9.73it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.58it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.55it/s] 54%|█████▍    | 69/128 [00:07<00:05, 10.59it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.86it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.33it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.04it/s] 60%|██████    | 77/128 [00:07<00:05,  9.86it/s] 61%|██████    | 78/128 [00:08<00:05,  9.71it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.50it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.79it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.10it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.04it/s] 69%|██████▉   | 88/128 [00:09<00:04,  9.74it/s] 70%|██████▉   | 89/128 [00:09<00:04,  9.65it/s] 71%|███████   | 91/128 [00:09<00:03, 10.38it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.05it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.03it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.68it/s] 77%|███████▋  | 99/128 [00:10<00:02,  9.99it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.02it/s] 80%|████████  | 103/128 [00:10<00:02, 10.16it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.45it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.54it/s] 85%|████████▌ | 109/128 [00:11<00:01, 10.62it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.39it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.06it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.25it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.13it/s] 93%|█████████▎| 119/128 [00:12<00:00, 10.13it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.11it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.18it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.08it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.02it/s]100%|██████████| 128/128 [00:12<00:00,  9.86it/s]
[2024-01-18 14:31:18,734] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 30/128 [00:00<00:00, 294.82it/s] 48%|████▊     | 62/128 [00:00<00:00, 307.73it/s] 74%|███████▍  | 95/128 [00:00<00:00, 315.59it/s] 99%|█████████▉| 127/128 [00:00<00:00, 313.16it/s]100%|██████████| 128/128 [00:00<00:00, 311.44it/s]
[2024-01-18 14:31:19,270] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.52it/s]  2%|▏         | 3/128 [00:00<00:12, 10.26it/s]  4%|▍         | 5/128 [00:00<00:12, 10.11it/s]  5%|▍         | 6/128 [00:00<00:12,  9.86it/s]  6%|▋         | 8/128 [00:00<00:11, 10.43it/s]  8%|▊         | 10/128 [00:00<00:11, 10.70it/s]  9%|▉         | 12/128 [00:01<00:10, 11.16it/s] 11%|█         | 14/128 [00:01<00:10, 10.59it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.41it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.55it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.66it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.50it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.48it/s] 20%|██        | 26/128 [00:02<00:09, 10.65it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.81it/s] 23%|██▎       | 30/128 [00:02<00:08, 10.94it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.65it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.67it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.59it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.49it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.64it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.46it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.10it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.93it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.83it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.10it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.49it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.69it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.73it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.43it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.63it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.41it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.55it/s] 51%|█████     | 65/128 [00:06<00:06, 10.46it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.91it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.24it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.47it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.58it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.51it/s] 60%|██████    | 77/128 [00:07<00:05, 10.06it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.34it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.54it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.35it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.65it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.50it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.93it/s] 71%|███████   | 91/128 [00:08<00:03, 10.14it/s] 73%|███████▎  | 93/128 [00:08<00:03,  9.88it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.19it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.17it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.33it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.54it/s] 80%|████████  | 103/128 [00:09<00:02, 10.62it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.77it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.59it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.57it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.30it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.49it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.62it/s] 91%|█████████▏| 117/128 [00:11<00:00, 11.11it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.79it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.61it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.79it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.73it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.26it/s]100%|██████████| 128/128 [00:12<00:00, 10.45it/s]
[2024-01-18 14:31:31,527] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.55it/s]  2%|▏         | 3/128 [00:00<00:11, 10.54it/s]  4%|▍         | 5/128 [00:00<00:12, 10.11it/s]  5%|▌         | 7/128 [00:00<00:11, 10.15it/s]  7%|▋         | 9/128 [00:00<00:11, 10.46it/s]  9%|▊         | 11/128 [00:01<00:10, 11.15it/s] 10%|█         | 13/128 [00:01<00:10, 11.19it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.57it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.36it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.41it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.33it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.52it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.61it/s] 21%|██        | 27/128 [00:02<00:09, 10.44it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.73it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.43it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.63it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.69it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.62it/s] 30%|███       | 39/128 [00:03<00:08, 10.38it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.28it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.23it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.25it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.84it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.01it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.34it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.54it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.69it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.53it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.51it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.41it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.44it/s] 51%|█████     | 65/128 [00:06<00:06, 10.38it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.98it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.15it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.43it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.50it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.42it/s] 60%|██████    | 77/128 [00:07<00:05, 10.09it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.30it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.43it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.27it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.53it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.48it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.08it/s] 71%|███████   | 91/128 [00:08<00:03, 10.07it/s] 73%|███████▎  | 93/128 [00:08<00:03,  9.89it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.14it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.12it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.54it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.49it/s] 80%|████████  | 103/128 [00:09<00:02, 10.63it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.67it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.51it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.61it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.35it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.44it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.62it/s] 91%|█████████▏| 117/128 [00:11<00:00, 11.00it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.72it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.79it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.79it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.76it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.16it/s]100%|██████████| 128/128 [00:12<00:00, 10.42it/s]
[2024-01-18 14:31:43,818] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.46it/s]  2%|▏         | 3/128 [00:00<00:11, 10.76it/s]  4%|▍         | 5/128 [00:00<00:12, 10.20it/s]  5%|▌         | 7/128 [00:00<00:12, 10.02it/s]  7%|▋         | 9/128 [00:00<00:11, 10.40it/s]  9%|▊         | 11/128 [00:01<00:10, 11.06it/s] 10%|█         | 13/128 [00:01<00:10, 11.10it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.74it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.32it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.44it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.27it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.48it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.66it/s] 21%|██        | 27/128 [00:02<00:09, 10.72it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.67it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.49it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.58it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.66it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.83it/s] 30%|███       | 39/128 [00:03<00:08, 10.40it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.30it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.16it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.18it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.91it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.04it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.29it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.48it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.59it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.48it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.70it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.30it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.46it/s] 51%|█████     | 65/128 [00:06<00:06, 10.29it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.92it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.29it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.35it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.46it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.34it/s] 60%|██████    | 77/128 [00:07<00:05,  9.98it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.38it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.57it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.16it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.49it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.34it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.00it/s] 71%|███████   | 91/128 [00:08<00:03, 10.24it/s] 73%|███████▎  | 93/128 [00:08<00:03,  9.78it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.13it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.01it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.44it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.60it/s] 80%|████████  | 103/128 [00:09<00:02, 10.68it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.72it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.50it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.55it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.41it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.63it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.61it/s] 91%|█████████▏| 117/128 [00:11<00:00, 11.06it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.71it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.76it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.97it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.98it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.14it/s]100%|██████████| 128/128 [00:12<00:00, 10.42it/s]
[2024-01-18 14:31:56,107] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.38it/s]  2%|▏         | 3/128 [00:00<00:12, 10.20it/s]  4%|▍         | 5/128 [00:00<00:12, 10.11it/s]  5%|▌         | 7/128 [00:00<00:11, 10.14it/s]  7%|▋         | 9/128 [00:00<00:11, 10.23it/s]  9%|▊         | 11/128 [00:01<00:11, 10.57it/s] 10%|█         | 13/128 [00:01<00:10, 10.74it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.26it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.20it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.31it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.97it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.14it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.28it/s] 21%|██        | 27/128 [00:02<00:09, 10.43it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.70it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.49it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.34it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.47it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.52it/s] 30%|███       | 39/128 [00:03<00:08, 10.34it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.31it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.04it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.00it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.67it/s] 38%|███▊      | 49/128 [00:04<00:07,  9.97it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.31it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.53it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.26it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.23it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.36it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.30it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.44it/s] 51%|█████     | 65/128 [00:06<00:06, 10.05it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.65it/s] 54%|█████▍    | 69/128 [00:06<00:05,  9.97it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.26it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.46it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.37it/s] 60%|██████    | 77/128 [00:07<00:05,  9.66it/s] 61%|██████    | 78/128 [00:07<00:05,  9.62it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.34it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.19it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.42it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.68it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.87it/s] 70%|███████   | 90/128 [00:08<00:03,  9.77it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.80it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.72it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.11it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.82it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.61it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.45it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.50it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.71it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.76it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.34it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.08it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.26it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.47it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.97it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.65it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.38it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.23it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.70it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]
[2024-01-18 14:32:08,604] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.31it/s]  2%|▏         | 2/128 [00:00<00:13,  9.66it/s]  3%|▎         | 4/128 [00:00<00:12,  9.78it/s]  5%|▍         | 6/128 [00:00<00:12,  9.75it/s]  6%|▋         | 8/128 [00:00<00:11, 10.11it/s]  8%|▊         | 10/128 [00:00<00:11, 10.24it/s]  9%|▉         | 12/128 [00:01<00:10, 10.85it/s] 11%|█         | 14/128 [00:01<00:11,  9.91it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.81it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.80it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.64it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.55it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.72it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.13it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.22it/s] 21%|██        | 27/128 [00:02<00:09, 10.28it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.44it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.99it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.13it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.19it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.06it/s] 30%|███       | 39/128 [00:03<00:08,  9.92it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.91it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.96it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.86it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.92it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.63it/s] 38%|███▊      | 49/128 [00:04<00:07,  9.91it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.32it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.45it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.61it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.48it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.48it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.33it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.36it/s] 51%|█████     | 65/128 [00:06<00:06, 10.30it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.92it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.11it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.32it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.43it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.34it/s] 60%|██████    | 77/128 [00:07<00:05, 10.00it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.33it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.29it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.19it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.42it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.38it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.03it/s] 71%|███████   | 91/128 [00:08<00:03, 10.00it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.79it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.01it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.01it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.45it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.41it/s] 80%|████████  | 103/128 [00:10<00:02, 10.47it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.59it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.38it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.50it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.36it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.31it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.53it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.87it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.61it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.69it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.75it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.69it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.14it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]
[2024-01-18 14:32:38,918] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 24%|██▍       | 31/128 [00:00<00:00, 307.89it/s] 51%|█████     | 65/128 [00:00<00:00, 319.55it/s] 77%|███████▋  | 98/128 [00:00<00:00, 320.51it/s]100%|██████████| 128/128 [00:00<00:00, 304.50it/s]
[2024-01-18 14:32:39,472] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.43it/s]  2%|▏         | 2/128 [00:00<00:13,  9.37it/s]  3%|▎         | 4/128 [00:00<00:12, 10.25it/s]  5%|▍         | 6/128 [00:00<00:12,  9.61it/s]  6%|▋         | 8/128 [00:00<00:11, 10.20it/s]  8%|▊         | 10/128 [00:01<00:11,  9.86it/s]  9%|▊         | 11/128 [00:01<00:12,  9.72it/s] 10%|█         | 13/128 [00:01<00:11, 10.19it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.14it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.16it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.11it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.89it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.99it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.05it/s] 21%|██        | 27/128 [00:02<00:09, 10.30it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.89it/s] 24%|██▍       | 31/128 [00:03<00:08, 10.94it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.58it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.61it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.71it/s] 30%|███       | 39/128 [00:03<00:08, 10.79it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.49it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.18it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.92it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.72it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.09it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.11it/s] 41%|████      | 52/128 [00:05<00:07, 10.03it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.23it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.16it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.34it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.27it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.20it/s] 50%|█████     | 64/128 [00:06<00:06, 10.17it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.95it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.79it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.74it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.70it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.27it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.89it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.16it/s] 60%|██████    | 77/128 [00:07<00:04, 10.33it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.94it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.48it/s] 65%|██████▍   | 83/128 [00:08<00:04, 11.09it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.53it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.39it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.52it/s] 71%|███████   | 91/128 [00:08<00:03, 10.43it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.36it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.15it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.08it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.24it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.18it/s] 80%|████████  | 103/128 [00:10<00:02, 10.47it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.61it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.64it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.47it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.25it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.23it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.99it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.01it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.36it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.17it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.38it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.34it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]
[2024-01-18 14:32:52,019] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.31it/s]  2%|▏         | 2/128 [00:00<00:13,  9.18it/s]  3%|▎         | 4/128 [00:00<00:12, 10.23it/s]  5%|▍         | 6/128 [00:00<00:12,  9.59it/s]  6%|▋         | 8/128 [00:00<00:11, 10.16it/s]  8%|▊         | 10/128 [00:01<00:12,  9.82it/s]  9%|▊         | 11/128 [00:01<00:12,  9.70it/s] 10%|█         | 13/128 [00:01<00:11, 10.11it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.12it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.13it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.96it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.96it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.83it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.89it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.03it/s] 21%|██        | 27/128 [00:02<00:09, 10.33it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.95it/s] 24%|██▍       | 31/128 [00:03<00:08, 10.80it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.56it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.56it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.70it/s] 30%|███       | 39/128 [00:03<00:08, 10.77it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.33it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.13it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.85it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.68it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.07it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.09it/s] 41%|████      | 52/128 [00:05<00:07,  9.98it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.20it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.09it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.31it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.16it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.12it/s] 50%|█████     | 64/128 [00:06<00:06, 10.23it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.95it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.83it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.75it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.69it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.28it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.99it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.25it/s] 60%|██████    | 77/128 [00:07<00:04, 10.40it/s] 62%|██████▏   | 79/128 [00:07<00:04, 11.00it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.47it/s] 65%|██████▍   | 83/128 [00:08<00:04, 11.10it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.57it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.38it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.51it/s] 71%|███████   | 91/128 [00:08<00:03, 10.41it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.35it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.11it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.06it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.23it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.15it/s] 80%|████████  | 103/128 [00:10<00:02, 10.46it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.60it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.59it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.45it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.23it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.21it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.97it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.06it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.38it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.17it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.37it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.33it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.12it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]
[2024-01-18 14:33:04,593] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.31it/s]  2%|▏         | 2/128 [00:00<00:13,  9.25it/s]  3%|▎         | 4/128 [00:00<00:12, 10.22it/s]  5%|▍         | 6/128 [00:00<00:12,  9.54it/s]  6%|▋         | 8/128 [00:00<00:11, 10.13it/s]  8%|▊         | 10/128 [00:01<00:12,  9.83it/s]  9%|▊         | 11/128 [00:01<00:12,  9.71it/s] 10%|█         | 13/128 [00:01<00:11, 10.15it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.12it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.11it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.99it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.97it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.80it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.90it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.99it/s] 21%|██        | 27/128 [00:02<00:09, 10.28it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.92it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.76it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.49it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.51it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.66it/s] 30%|███       | 39/128 [00:03<00:08, 10.74it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.36it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.12it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.83it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.66it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.05it/s] 38%|███▊      | 49/128 [00:04<00:07,  9.88it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.97it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.08it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.40it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.15it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.38it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.32it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.96it/s] 51%|█████     | 65/128 [00:06<00:06,  9.99it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.73it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.66it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.63it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.20it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.83it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.12it/s] 60%|██████    | 77/128 [00:07<00:04, 10.24it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.86it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.39it/s] 65%|██████▍   | 83/128 [00:08<00:04, 11.04it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.40it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.30it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.45it/s] 71%|███████   | 91/128 [00:08<00:03, 10.37it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.30it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.07it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.06it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.17it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.14it/s] 80%|████████  | 103/128 [00:10<00:02, 10.44it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.46it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.54it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.39it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.21it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.20it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.94it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.91it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.22it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.39it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.22it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.24it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.45it/s]100%|██████████| 128/128 [00:12<00:00,  9.51it/s]100%|██████████| 128/128 [00:12<00:00, 10.15it/s]
[2024-01-18 14:33:17,208] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.24it/s]  2%|▏         | 2/128 [00:00<00:13,  9.11it/s]  3%|▎         | 4/128 [00:00<00:12, 10.10it/s]  5%|▍         | 6/128 [00:00<00:12,  9.49it/s]  6%|▋         | 8/128 [00:00<00:11, 10.05it/s]  8%|▊         | 10/128 [00:01<00:12,  9.64it/s]  9%|▊         | 11/128 [00:01<00:12,  9.53it/s] 10%|█         | 13/128 [00:01<00:11,  9.89it/s] 11%|█         | 14/128 [00:01<00:11,  9.68it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.80it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.12it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.72it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.54it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.71it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.72it/s] 21%|██        | 27/128 [00:02<00:10, 10.07it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.72it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.77it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.31it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.42it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.49it/s] 30%|███       | 39/128 [00:03<00:08, 10.60it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.33it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.92it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.84it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.73it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.43it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.92it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.75it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.96it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.97it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.24it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.99it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.23it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.23it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.97it/s] 50%|█████     | 64/128 [00:06<00:06,  9.97it/s] 51%|█████     | 65/128 [00:06<00:06,  9.84it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.74it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.53it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.45it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.43it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.18it/s] 56%|█████▋    | 72/128 [00:07<00:05,  9.85it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.81it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.16it/s] 61%|██████    | 78/128 [00:07<00:04, 10.71it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.52it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.80it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.57it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.11it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.39it/s] 70%|███████   | 90/128 [00:08<00:03, 10.41it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.07it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.05it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.78it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.12it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.95it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.19it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.47it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.46it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.21it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.06it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.28it/s] 89%|████████▉ | 114/128 [00:11<00:01,  9.95it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.97it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.04it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.26it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.07it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.10it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.32it/s]100%|██████████| 128/128 [00:12<00:00,  9.40it/s]100%|██████████| 128/128 [00:12<00:00, 10.03it/s]
[2024-01-18 14:33:29,977] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.98it/s]  2%|▏         | 2/128 [00:00<00:13,  9.19it/s]  3%|▎         | 4/128 [00:00<00:12, 10.00it/s]  5%|▍         | 6/128 [00:00<00:12,  9.39it/s]  6%|▋         | 8/128 [00:00<00:12,  9.70it/s]  7%|▋         | 9/128 [00:00<00:12,  9.74it/s]  8%|▊         | 10/128 [00:01<00:12,  9.30it/s]  9%|▊         | 11/128 [00:01<00:13,  8.97it/s] 10%|█         | 13/128 [00:01<00:12,  9.28it/s] 11%|█         | 14/128 [00:01<00:12,  9.03it/s] 12%|█▎        | 16/128 [00:01<00:12,  9.18it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.68it/s] 15%|█▍        | 19/128 [00:02<00:11,  9.55it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.60it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.62it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.68it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.47it/s] 20%|██        | 26/128 [00:02<00:10,  9.57it/s] 21%|██        | 27/128 [00:02<00:10,  9.67it/s] 23%|██▎       | 29/128 [00:03<00:09, 10.35it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.52it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.17it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.29it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.39it/s] 30%|███       | 39/128 [00:03<00:08, 10.47it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.25it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.09it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.80it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.60it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.98it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.78it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.94it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.17it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.43it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.13it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.34it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.25it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.06it/s] 51%|█████     | 65/128 [00:06<00:06, 10.04it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.69it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.64it/s] 54%|█████▍    | 69/128 [00:07<00:06,  9.60it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.13it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.91it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.20it/s] 60%|██████    | 77/128 [00:07<00:05, 10.20it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.83it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.34it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.97it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.55it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.32it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.47it/s] 71%|███████   | 91/128 [00:09<00:03, 10.33it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.25it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.14it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.07it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.19it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.11it/s] 80%|████████  | 103/128 [00:10<00:02, 10.36it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.46it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.67it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.37it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.20it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.16it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.87it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.05it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.25it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.16it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.34it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.25it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.15it/s]100%|██████████| 128/128 [00:12<00:00, 10.02it/s]
[2024-01-18 14:33:58,394] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 19%|█▉        | 24/128 [00:00<00:00, 233.42it/s] 40%|███▉      | 51/128 [00:00<00:00, 250.49it/s] 60%|██████    | 77/128 [00:00<00:00, 240.38it/s] 82%|████████▏ | 105/128 [00:00<00:00, 250.30it/s]100%|██████████| 128/128 [00:00<00:00, 246.17it/s]
[2024-01-18 14:33:59,038] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.90it/s]  2%|▏         | 3/128 [00:00<00:12,  9.72it/s]  4%|▍         | 5/128 [00:00<00:12, 10.21it/s]  5%|▌         | 7/128 [00:00<00:11, 10.65it/s]  7%|▋         | 9/128 [00:00<00:10, 11.46it/s]  9%|▊         | 11/128 [00:01<00:10, 10.97it/s] 10%|█         | 13/128 [00:01<00:10, 10.59it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.36it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.62it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.81it/s] 16%|█▋        | 21/128 [00:01<00:10, 10.51it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.02it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.23it/s] 21%|██        | 27/128 [00:02<00:10, 10.02it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.13it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.04it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.38it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.44it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.69it/s] 30%|███       | 39/128 [00:03<00:08, 10.75it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.47it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.57it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.62it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.16it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.34it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.48it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.63it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.75it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.81it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.50it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.53it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.60it/s] 51%|█████     | 65/128 [00:06<00:06, 10.03it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.09it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.01it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.04it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.30it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.43it/s] 60%|██████    | 77/128 [00:07<00:04, 10.34it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.59it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.81it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.49it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.36it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.90it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.65it/s] 71%|███████   | 91/128 [00:08<00:03, 10.64it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.71it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.56it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.68it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.75it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.52it/s] 80%|████████  | 103/128 [00:09<00:02, 10.99it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.64it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.78it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.54it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.31it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.57it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.31it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.48it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.36it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.49it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.54it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.58it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.40it/s]100%|██████████| 128/128 [00:12<00:00, 10.49it/s]
[2024-01-18 14:34:11,253] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.19it/s]  3%|▎         | 4/128 [00:00<00:12, 10.05it/s]  5%|▍         | 6/128 [00:00<00:11, 10.27it/s]  6%|▋         | 8/128 [00:00<00:11, 10.67it/s]  8%|▊         | 10/128 [00:00<00:10, 10.97it/s]  9%|▉         | 12/128 [00:01<00:10, 11.06it/s] 11%|█         | 14/128 [00:01<00:11, 10.34it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.51it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.60it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.86it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.61it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.48it/s] 20%|██        | 26/128 [00:02<00:09, 10.57it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.39it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.39it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.33it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.56it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.61it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.72it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.70it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.53it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.72it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.50it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.51it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.55it/s] 41%|████      | 52/128 [00:04<00:07, 10.49it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.62it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.84it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.75it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.50it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.51it/s] 50%|█████     | 64/128 [00:06<00:06, 10.63it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.06it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.81it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.90it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.19it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.39it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.29it/s] 61%|██████    | 78/128 [00:07<00:04, 10.48it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.67it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.45it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.35it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.89it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.90it/s] 70%|███████   | 90/128 [00:08<00:03, 10.57it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.68it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.39it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.64it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.71it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.48it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.59it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.73it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.75it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.81it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.54it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.35it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.53it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.34it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.24it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.42it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.49it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.60it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.35it/s]100%|██████████| 128/128 [00:12<00:00, 10.53it/s]100%|██████████| 128/128 [00:12<00:00, 10.52it/s]
[2024-01-18 14:34:23,429] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.14it/s]  3%|▎         | 4/128 [00:00<00:12,  9.99it/s]  5%|▍         | 6/128 [00:00<00:11, 10.34it/s]  6%|▋         | 8/128 [00:00<00:11, 10.65it/s]  8%|▊         | 10/128 [00:00<00:10, 10.95it/s]  9%|▉         | 12/128 [00:01<00:10, 11.04it/s] 11%|█         | 14/128 [00:01<00:10, 10.37it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.49it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.56it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.80it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.55it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.43it/s] 20%|██        | 26/128 [00:02<00:09, 10.58it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.31it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.42it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.31it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.56it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.64it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.70it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.75it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.57it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.76it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.53it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.46it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.46it/s] 41%|████      | 52/128 [00:04<00:07, 10.58it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.66it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.86it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.75it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.42it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.60it/s] 50%|█████     | 64/128 [00:06<00:05, 10.71it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.11it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.76it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.82it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.24it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.41it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.33it/s] 61%|██████    | 78/128 [00:07<00:04, 10.49it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.69it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.49it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.37it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.93it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.94it/s] 70%|███████   | 90/128 [00:08<00:03, 10.54it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.67it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.65it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.75it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.44it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.56it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.82it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.80it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.89it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.51it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.32it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.54it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.32it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.28it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.45it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.38it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.48it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.24it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]100%|██████████| 128/128 [00:12<00:00, 10.51it/s]
[2024-01-18 14:34:35,617] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.08it/s]  3%|▎         | 4/128 [00:00<00:12, 10.07it/s]  5%|▍         | 6/128 [00:00<00:12,  9.58it/s]  6%|▋         | 8/128 [00:00<00:11, 10.25it/s]  8%|▊         | 10/128 [00:00<00:11, 10.47it/s]  9%|▉         | 12/128 [00:01<00:10, 10.67it/s] 11%|█         | 14/128 [00:01<00:11, 10.11it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.26it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.14it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.49it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.25it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.21it/s] 20%|██        | 26/128 [00:02<00:09, 10.50it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.08it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.25it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.08it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.35it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.52it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.67it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.49it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.44it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.53it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.48it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.35it/s] 41%|████      | 52/128 [00:05<00:07, 10.41it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.48it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.67it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.67it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.45it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.32it/s] 50%|█████     | 64/128 [00:06<00:06, 10.53it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.86it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.76it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.70it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.81it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.07it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.20it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.04it/s] 61%|██████    | 78/128 [00:07<00:04, 10.28it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.61it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.49it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.99it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.64it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.55it/s] 70%|███████   | 90/128 [00:08<00:03, 10.38it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.61it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.24it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.33it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.43it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.22it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.44it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.71it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.61it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.63it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.35it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.24it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.49it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.24it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.08it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.25it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.31it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.52it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.30it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]
[2024-01-18 14:34:48,015] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.96it/s]  2%|▏         | 3/128 [00:00<00:13,  9.48it/s]  3%|▎         | 4/128 [00:00<00:12,  9.64it/s]  5%|▍         | 6/128 [00:00<00:12,  9.94it/s]  6%|▋         | 8/128 [00:00<00:11, 10.25it/s]  8%|▊         | 10/128 [00:01<00:11,  9.94it/s]  9%|▊         | 11/128 [00:01<00:11,  9.90it/s] 10%|█         | 13/128 [00:01<00:11,  9.72it/s] 11%|█         | 14/128 [00:01<00:12,  9.34it/s] 12%|█▏        | 15/128 [00:01<00:12,  9.38it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.01it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.40it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.18it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.03it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.06it/s] 21%|██        | 27/128 [00:02<00:10,  9.74it/s] 23%|██▎       | 29/128 [00:02<00:09,  9.95it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.75it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.00it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.18it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.38it/s] 30%|███       | 39/128 [00:03<00:08, 10.56it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.44it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.48it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.59it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.29it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.45it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.58it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.61it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.53it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.66it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.38it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.56it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.65it/s] 51%|█████     | 65/128 [00:06<00:06,  9.87it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.92it/s] 54%|█████▍    | 69/128 [00:06<00:05,  9.91it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.83it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.31it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.40it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.14it/s] 61%|██████    | 78/128 [00:07<00:04, 10.36it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.62it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.50it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.30it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.68it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.72it/s] 70%|███████   | 90/128 [00:08<00:03, 10.43it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.64it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.47it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.52it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.30it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.45it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.76it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.72it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.63it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.34it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.22it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.48it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.34it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.03it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.25it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.31it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.50it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]
[2024-01-18 14:35:16,891] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|█▉        | 25/128 [00:00<00:00, 242.00it/s] 40%|███▉      | 51/128 [00:00<00:00, 247.88it/s] 60%|██████    | 77/128 [00:00<00:00, 251.22it/s] 82%|████████▏ | 105/128 [00:00<00:00, 262.03it/s]100%|██████████| 128/128 [00:00<00:00, 258.94it/s]
[2024-01-18 14:35:17,517] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.73it/s]  3%|▎         | 4/128 [00:00<00:12, 10.19it/s]  5%|▍         | 6/128 [00:00<00:11, 10.61it/s]  6%|▋         | 8/128 [00:00<00:11, 10.83it/s]  8%|▊         | 10/128 [00:00<00:10, 10.93it/s]  9%|▉         | 12/128 [00:01<00:10, 10.64it/s] 11%|█         | 14/128 [00:01<00:11,  9.64it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.95it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.02it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.10it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.84it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.88it/s] 20%|██        | 26/128 [00:02<00:10, 10.12it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.93it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.24it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.02it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.95it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.95it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.95it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.29it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.55it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.42it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.62it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.36it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.33it/s] 41%|████      | 52/128 [00:05<00:07, 10.60it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.51it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.55it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.43it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.32it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.91it/s] 50%|█████     | 64/128 [00:06<00:05, 10.93it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.81it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.14it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.06it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.37it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.56it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.48it/s] 61%|██████    | 78/128 [00:07<00:04, 10.62it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.74it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.51it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.71it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.55it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.15it/s] 70%|███████   | 90/128 [00:08<00:03,  9.92it/s] 71%|███████   | 91/128 [00:08<00:03,  9.74it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.17it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.21it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.47it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.74it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.51it/s] 80%|████████  | 103/128 [00:09<00:02, 10.60it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.73it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.86it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.67it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.24it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.08it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.87it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.22it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.00it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.97it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.24it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.21it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 14:35:29,953] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.28it/s]  3%|▎         | 4/128 [00:00<00:12, 10.11it/s]  5%|▍         | 6/128 [00:00<00:11, 10.46it/s]  6%|▋         | 8/128 [00:00<00:11, 10.73it/s]  8%|▊         | 10/128 [00:00<00:10, 10.91it/s]  9%|▉         | 12/128 [00:01<00:10, 10.89it/s] 11%|█         | 14/128 [00:01<00:11,  9.68it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.01it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.01it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.10it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.10it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.84it/s] 20%|██        | 26/128 [00:02<00:10, 10.17it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.87it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.19it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.17it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.91it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.98it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.90it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.24it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.52it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.48it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.53it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.34it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.27it/s] 41%|████      | 52/128 [00:05<00:07, 10.55it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.66it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.48it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.45it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.28it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.87it/s] 50%|█████     | 64/128 [00:06<00:05, 10.90it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.91it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.13it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.11it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.36it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.54it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.64it/s] 61%|██████    | 78/128 [00:07<00:04, 10.70it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.76it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.56it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.71it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.54it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.29it/s] 70%|███████   | 90/128 [00:08<00:03,  9.95it/s] 71%|███████   | 91/128 [00:08<00:03,  9.81it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.20it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.24it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.45it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.91it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.57it/s] 80%|████████  | 103/128 [00:09<00:02, 10.69it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.78it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.91it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.84it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.31it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.20it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.92it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.25it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.08it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.98it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.32it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.24it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.11it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:35:42,359] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.76it/s]  3%|▎         | 4/128 [00:00<00:12, 10.19it/s]  5%|▍         | 6/128 [00:00<00:11, 10.63it/s]  6%|▋         | 8/128 [00:00<00:11, 10.81it/s]  8%|▊         | 10/128 [00:00<00:10, 10.91it/s]  9%|▉         | 12/128 [00:01<00:10, 10.89it/s] 11%|█         | 14/128 [00:01<00:11,  9.74it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.09it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.08it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.11it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.07it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.97it/s] 20%|██        | 26/128 [00:02<00:09, 10.26it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.99it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.28it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.13it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.02it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.03it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.02it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.32it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.50it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.58it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.70it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.48it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.40it/s] 41%|████      | 52/128 [00:05<00:07, 10.55it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.59it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.68it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.55it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.40it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.96it/s] 50%|█████     | 64/128 [00:06<00:05, 10.90it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.88it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.15it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.13it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.41it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.55it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.46it/s] 61%|██████    | 78/128 [00:07<00:04, 10.70it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.72it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.56it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.74it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.37it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.21it/s] 70%|███████   | 90/128 [00:08<00:03,  9.88it/s] 71%|███████   | 91/128 [00:08<00:03,  9.77it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.21it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.23it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.24it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.82it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.49it/s] 80%|████████  | 103/128 [00:09<00:02, 10.68it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.77it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.74it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.70it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.20it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.12it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.90it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.12it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.91it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.82it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.07it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.38it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.99it/s]100%|██████████| 128/128 [00:12<00:00,  9.88it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]
[2024-01-18 14:35:54,780] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:12,  9.95it/s]  2%|▏         | 3/128 [00:00<00:11, 10.60it/s]  4%|▍         | 5/128 [00:00<00:12,  9.98it/s]  5%|▌         | 7/128 [00:00<00:11, 10.38it/s]  7%|▋         | 9/128 [00:00<00:11, 10.75it/s]  9%|▊         | 11/128 [00:01<00:10, 10.68it/s] 10%|█         | 13/128 [00:01<00:11, 10.06it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.45it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.83it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.67it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.85it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.78it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.72it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.68it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.56it/s] 20%|██        | 26/128 [00:02<00:10,  9.99it/s] 21%|██        | 27/128 [00:02<00:10,  9.79it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.69it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.20it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.02it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.58it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.89it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.79it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.75it/s] 31%|███▏      | 40/128 [00:04<00:08, 10.18it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.49it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.39it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.47it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.16it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.16it/s] 41%|████      | 52/128 [00:05<00:07, 10.46it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.53it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.35it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.32it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.13it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.71it/s] 50%|█████     | 64/128 [00:06<00:05, 10.79it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.64it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.94it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.88it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.20it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.40it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.55it/s] 61%|██████    | 78/128 [00:07<00:04, 10.41it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.60it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.32it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.55it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.43it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.06it/s] 70%|███████   | 90/128 [00:08<00:03,  9.73it/s] 71%|███████   | 91/128 [00:09<00:03,  9.61it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.96it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.86it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.25it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.95it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.20it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.36it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.46it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.65it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.76it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.35it/s] 88%|████████▊ | 112/128 [00:11<00:01,  9.94it/s] 89%|████████▉ | 114/128 [00:11<00:01,  9.83it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.75it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.15it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.08it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.72it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.17it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.98it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.92it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]
[2024-01-18 14:36:07,413] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.92it/s]  3%|▎         | 4/128 [00:00<00:13,  9.02it/s]  5%|▍         | 6/128 [00:00<00:12,  9.79it/s]  5%|▌         | 7/128 [00:00<00:12,  9.82it/s]  7%|▋         | 9/128 [00:00<00:12,  9.90it/s]  9%|▊         | 11/128 [00:01<00:11,  9.95it/s] 10%|█         | 13/128 [00:01<00:11,  9.69it/s] 11%|█         | 14/128 [00:01<00:12,  8.85it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.49it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.52it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.74it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.63it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.87it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.53it/s] 20%|██        | 26/128 [00:02<00:10,  9.76it/s] 21%|██        | 27/128 [00:02<00:10,  9.45it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.16it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.57it/s] 24%|██▍       | 31/128 [00:03<00:10,  9.37it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.59it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.92it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.74it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.74it/s] 31%|███▏      | 40/128 [00:04<00:08, 10.14it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.42it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.59it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.66it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.37it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.27it/s] 41%|████      | 52/128 [00:05<00:07, 10.50it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.60it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.69it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.46it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.24it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.80it/s] 50%|█████     | 64/128 [00:06<00:05, 10.83it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.91it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.14it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.03it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.29it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.45it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.59it/s] 61%|██████    | 78/128 [00:07<00:04, 10.67it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.70it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.49it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.61it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.46it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.23it/s] 70%|███████   | 90/128 [00:08<00:03,  9.87it/s] 71%|███████   | 91/128 [00:09<00:03,  9.70it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.13it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.13it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.40it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.87it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.53it/s] 80%|████████  | 103/128 [00:10<00:02, 10.65it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.72it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.84it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.81it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.21it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.09it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.85it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.17it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.02it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.90it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.21it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.15it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.04it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]
[2024-01-18 14:36:36,063] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|██        | 26/128 [00:00<00:00, 254.72it/s] 42%|████▏     | 54/128 [00:00<00:00, 264.96it/s] 63%|██████▎   | 81/128 [00:00<00:00, 266.38it/s] 84%|████████▍ | 108/128 [00:00<00:00, 248.89it/s]100%|██████████| 128/128 [00:00<00:00, 253.51it/s]
[2024-01-18 14:36:36,696] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.75it/s]  3%|▎         | 4/128 [00:00<00:11, 10.44it/s]  5%|▍         | 6/128 [00:00<00:11, 10.28it/s]  6%|▋         | 8/128 [00:00<00:11, 10.17it/s]  8%|▊         | 10/128 [00:01<00:12,  9.68it/s]  9%|▊         | 11/128 [00:01<00:12,  9.64it/s] 10%|█         | 13/128 [00:01<00:11,  9.72it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.86it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.79it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.74it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.99it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.75it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.65it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.76it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.26it/s] 21%|██        | 27/128 [00:02<00:09, 10.19it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.78it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.05it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.27it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.23it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.01it/s] 30%|███       | 39/128 [00:03<00:08,  9.91it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.13it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.14it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.11it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.87it/s] 38%|███▊      | 49/128 [00:04<00:07,  9.89it/s] 39%|███▉      | 50/128 [00:05<00:07,  9.78it/s] 41%|████      | 52/128 [00:05<00:07,  9.83it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.73it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.50it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.71it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.46it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.01it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.37it/s] 51%|█████     | 65/128 [00:06<00:05, 10.60it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.40it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.33it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.25it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.39it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.56it/s] 60%|██████    | 77/128 [00:07<00:04, 10.44it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.67it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.76it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.47it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.59it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.81it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.62it/s] 71%|███████   | 91/128 [00:08<00:03, 10.38it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.46it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.09it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.28it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.21it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.36it/s] 80%|████████  | 103/128 [00:10<00:02, 10.61it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.39it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.51it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.66it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.54it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.66it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.59it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.43it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.53it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.40it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.26it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.31it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.19it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]
[2024-01-18 14:36:49,214] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.04it/s]  3%|▎         | 4/128 [00:00<00:11, 10.44it/s]  5%|▍         | 6/128 [00:00<00:11, 10.19it/s]  6%|▋         | 8/128 [00:00<00:11, 10.11it/s]  8%|▊         | 10/128 [00:01<00:12,  9.80it/s]  9%|▊         | 11/128 [00:01<00:12,  9.71it/s] 10%|█         | 13/128 [00:01<00:11,  9.90it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.85it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.71it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.62it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.13it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.86it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.72it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.88it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.38it/s] 21%|██        | 27/128 [00:02<00:10, 10.03it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.90it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.80it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.07it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.42it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.32it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.81it/s] 30%|███       | 39/128 [00:03<00:09,  9.85it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.05it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.16it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.16it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.75it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.72it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.67it/s] 41%|████      | 52/128 [00:05<00:07,  9.74it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.69it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.51it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.70it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.20it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.91it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.29it/s] 51%|█████     | 65/128 [00:06<00:05, 10.57it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.38it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.05it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.11it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.29it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.53it/s] 60%|██████    | 77/128 [00:07<00:04, 10.45it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.54it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.57it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.39it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.52it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.77it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.59it/s] 71%|███████   | 91/128 [00:08<00:03, 10.23it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.43it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.03it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.27it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.18it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.29it/s] 80%|████████  | 103/128 [00:10<00:02, 10.46it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.33it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.45it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.63it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.52it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.49it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.59it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.38it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.52it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.39it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.17it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.23it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]
[2024-01-18 14:37:01,789] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.07it/s]  3%|▎         | 4/128 [00:00<00:11, 10.60it/s]  5%|▍         | 6/128 [00:00<00:12, 10.03it/s]  6%|▋         | 8/128 [00:00<00:11, 10.15it/s]  8%|▊         | 10/128 [00:01<00:12,  9.73it/s]  9%|▊         | 11/128 [00:01<00:12,  9.67it/s] 10%|█         | 13/128 [00:01<00:11,  9.86it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.90it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.61it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.52it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.04it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.73it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.63it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.85it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.35it/s] 21%|██        | 27/128 [00:02<00:10,  9.88it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.81it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.73it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.02it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.38it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.27it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.77it/s] 30%|███       | 39/128 [00:03<00:09,  9.82it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.04it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.13it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.14it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.72it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.74it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.67it/s] 41%|████      | 52/128 [00:05<00:07,  9.74it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.69it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.50it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.69it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.27it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.94it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.30it/s] 51%|█████     | 65/128 [00:06<00:05, 10.57it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.38it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.08it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.15it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.29it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.52it/s] 60%|██████    | 77/128 [00:07<00:04, 10.45it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.50it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.63it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.38it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.53it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.78it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.58it/s] 71%|███████   | 91/128 [00:08<00:03, 10.21it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.40it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.02it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.26it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.18it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.32it/s] 80%|████████  | 103/128 [00:10<00:02, 10.55it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.40it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.51it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.67it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.47it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.57it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.61it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.42it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.54it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.33it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.18it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.28it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.19it/s]100%|██████████| 128/128 [00:12<00:00, 10.18it/s]
[2024-01-18 14:37:14,369] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.08it/s]  3%|▎         | 4/128 [00:00<00:11, 10.38it/s]  5%|▍         | 6/128 [00:00<00:12, 10.10it/s]  6%|▋         | 8/128 [00:00<00:11, 10.12it/s]  8%|▊         | 10/128 [00:01<00:12,  9.72it/s]  9%|▊         | 11/128 [00:01<00:12,  9.66it/s] 10%|█         | 13/128 [00:01<00:11,  9.67it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.64it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.54it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.49it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.91it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.71it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.59it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.69it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.96it/s] 21%|██        | 27/128 [00:02<00:10,  9.93it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.76it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.60it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.98it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.33it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.07it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.73it/s] 30%|███       | 39/128 [00:03<00:09,  9.77it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.05it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.14it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.00it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.67it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.73it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.62it/s] 41%|████      | 52/128 [00:05<00:07,  9.78it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.72it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.42it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.41it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.24it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.83it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.28it/s] 51%|█████     | 65/128 [00:06<00:05, 10.54it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.10it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.10it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.00it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.29it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.51it/s] 60%|██████    | 77/128 [00:07<00:04, 10.36it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.36it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.55it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.29it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.43it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.70it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.38it/s] 71%|███████   | 91/128 [00:09<00:03, 10.10it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.23it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.95it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.19it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.02it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.09it/s] 80%|████████  | 103/128 [00:10<00:02, 10.41it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.22it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.41it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.58it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.17it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.42it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.38it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.27it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.43it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.14it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.92it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.09it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.00it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]
[2024-01-18 14:37:27,083] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.00it/s]  3%|▎         | 4/128 [00:00<00:12, 10.03it/s]  5%|▍         | 6/128 [00:00<00:12,  9.85it/s]  6%|▋         | 8/128 [00:00<00:12,  9.70it/s]  7%|▋         | 9/128 [00:00<00:12,  9.57it/s]  8%|▊         | 10/128 [00:01<00:12,  9.54it/s]  9%|▊         | 11/128 [00:01<00:12,  9.54it/s] 10%|█         | 13/128 [00:01<00:11,  9.76it/s] 11%|█         | 14/128 [00:01<00:11,  9.55it/s] 12%|█▏        | 15/128 [00:01<00:12,  9.32it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.34it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.31it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.82it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.61it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.53it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.53it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.60it/s] 20%|█▉        | 25/128 [00:02<00:11,  8.98it/s] 20%|██        | 26/128 [00:02<00:11,  9.12it/s] 21%|██        | 27/128 [00:02<00:11,  8.98it/s] 22%|██▏       | 28/128 [00:02<00:11,  8.90it/s] 23%|██▎       | 29/128 [00:03<00:11,  8.69it/s] 23%|██▎       | 30/128 [00:03<00:11,  8.85it/s] 24%|██▍       | 31/128 [00:03<00:10,  9.06it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.68it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.51it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.50it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.47it/s] 30%|███       | 39/128 [00:04<00:09,  9.56it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.55it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.61it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.63it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.59it/s] 36%|███▌      | 46/128 [00:04<00:09,  9.08it/s] 37%|███▋      | 47/128 [00:05<00:09,  8.77it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.19it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.10it/s] 41%|████      | 52/128 [00:05<00:08,  9.45it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.46it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.33it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.32it/s] 46%|████▌     | 59/128 [00:06<00:06, 10.18it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.83it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.27it/s] 51%|█████     | 65/128 [00:06<00:05, 10.55it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.20it/s] 54%|█████▍    | 69/128 [00:07<00:05, 10.03it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.06it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.30it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.53it/s] 60%|██████    | 77/128 [00:07<00:04, 10.42it/s] 62%|██████▏   | 79/128 [00:08<00:04, 10.29it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.52it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.29it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.48it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.74it/s] 70%|██████▉   | 89/128 [00:09<00:03, 10.38it/s] 71%|███████   | 91/128 [00:09<00:03, 10.19it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.26it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.98it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.23it/s] 77%|███████▋  | 99/128 [00:10<00:02, 10.05it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.15it/s] 80%|████████  | 103/128 [00:10<00:02, 10.46it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.30it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.45it/s] 85%|████████▌ | 109/128 [00:11<00:01, 10.59it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.29it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.55it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.53it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.39it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.51it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.26it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.14it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.25it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00,  9.93it/s]
[2024-01-18 14:37:55,966] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 288.58it/s] 47%|████▋     | 60/128 [00:00<00:00, 299.49it/s] 70%|███████   | 90/128 [00:00<00:00, 297.94it/s] 94%|█████████▍| 120/128 [00:00<00:00, 292.45it/s]100%|██████████| 128/128 [00:00<00:00, 294.08it/s]
[2024-01-18 14:37:56,529] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.21it/s]  2%|▏         | 3/128 [00:00<00:12, 10.35it/s]  4%|▍         | 5/128 [00:00<00:11, 10.28it/s]  5%|▌         | 7/128 [00:00<00:11, 10.14it/s]  7%|▋         | 9/128 [00:00<00:11, 10.36it/s]  9%|▊         | 11/128 [00:01<00:11, 10.63it/s] 10%|█         | 13/128 [00:01<00:10, 10.77it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.52it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.72it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.66it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.50it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.92it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.00it/s] 21%|██        | 27/128 [00:02<00:10, 10.09it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.00it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.21it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.22it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.44it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.64it/s] 30%|███       | 39/128 [00:03<00:08, 10.33it/s] 32%|███▏      | 41/128 [00:03<00:08,  9.90it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.21it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.36it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.02it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.28it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.34it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.46it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.65it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.75it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.57it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.32it/s] 49%|████▉     | 63/128 [00:06<00:05, 10.92it/s] 51%|█████     | 65/128 [00:06<00:05, 10.95it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.45it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.35it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.50it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.69it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.40it/s] 60%|██████    | 77/128 [00:07<00:04, 10.39it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.37it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.63it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.15it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.13it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.37it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.28it/s] 71%|███████   | 91/128 [00:08<00:03, 10.48it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.31it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.62it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.49it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.42it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.60it/s] 80%|████████  | 103/128 [00:09<00:02, 10.11it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.35it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.32it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.23it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.57it/s] 88%|████████▊ | 113/128 [00:10<00:01, 11.06it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.47it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.37it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.03it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.36it/s] 96%|█████████▌| 123/128 [00:11<00:00,  9.89it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.76it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.71it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.05it/s]100%|██████████| 128/128 [00:12<00:00,  9.91it/s]100%|██████████| 128/128 [00:12<00:00, 10.34it/s]
[2024-01-18 14:38:08,914] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.61it/s]  2%|▏         | 3/128 [00:00<00:11, 10.52it/s]  4%|▍         | 5/128 [00:00<00:12, 10.20it/s]  5%|▌         | 7/128 [00:00<00:11, 10.23it/s]  7%|▋         | 9/128 [00:00<00:11, 10.61it/s]  9%|▊         | 11/128 [00:01<00:10, 10.80it/s] 10%|█         | 13/128 [00:01<00:10, 10.95it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.65it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.74it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.86it/s] 16%|█▋        | 21/128 [00:01<00:10, 10.64it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.08it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.08it/s] 21%|██        | 27/128 [00:02<00:10, 10.09it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.10it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.34it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.33it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.53it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.62it/s] 30%|███       | 39/128 [00:03<00:08, 10.26it/s] 32%|███▏      | 41/128 [00:03<00:08,  9.74it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.98it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.09it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.60it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.87it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.16it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.36it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.63it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.52it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.20it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.00it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.53it/s] 51%|█████     | 65/128 [00:06<00:05, 10.64it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.25it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.13it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.39it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.59it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.37it/s] 60%|██████    | 77/128 [00:07<00:04, 10.39it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.16it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.48it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.07it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.06it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.35it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.04it/s] 71%|███████   | 91/128 [00:08<00:03, 10.26it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.22it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.54it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.46it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.31it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.36it/s] 80%|████████  | 103/128 [00:10<00:02, 10.00it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.24it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.27it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.16it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.28it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.93it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.32it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.30it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.99it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.12it/s] 96%|█████████▌| 123/128 [00:11<00:00,  9.78it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.63it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.56it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.99it/s]100%|██████████| 128/128 [00:12<00:00,  9.86it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]
[2024-01-18 14:38:21,407] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.56it/s]  2%|▏         | 3/128 [00:00<00:12, 10.01it/s]  4%|▍         | 5/128 [00:00<00:12, 10.01it/s]  5%|▍         | 6/128 [00:00<00:12,  9.80it/s]  6%|▋         | 8/128 [00:00<00:11, 10.33it/s]  8%|▊         | 10/128 [00:00<00:10, 10.73it/s]  9%|▉         | 12/128 [00:01<00:10, 11.27it/s] 11%|█         | 14/128 [00:01<00:11, 10.28it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.54it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.65it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.72it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.57it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.89it/s] 20%|██        | 26/128 [00:02<00:10,  9.65it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.76it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.12it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.40it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.24it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.49it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.21it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.13it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.08it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.36it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.24it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.02it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.25it/s] 41%|████      | 52/128 [00:05<00:07, 10.39it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.57it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.74it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.35it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.48it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.63it/s] 50%|█████     | 64/128 [00:06<00:05, 10.84it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.62it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.30it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.17it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.40it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.23it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.49it/s] 61%|██████    | 78/128 [00:07<00:04, 10.06it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.26it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.27it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.96it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.23it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.41it/s] 70%|███████   | 90/128 [00:08<00:03, 10.08it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.13it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.35it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.36it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.33it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.34it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.19it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.07it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.12it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.12it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.37it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.42it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.70it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.14it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.20it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.15it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.91it/s] 96%|█████████▌| 123/128 [00:11<00:00,  9.77it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.67it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.52it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.98it/s]100%|██████████| 128/128 [00:12<00:00,  9.85it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]
[2024-01-18 14:38:33,907] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.62it/s]  2%|▏         | 3/128 [00:00<00:12, 10.05it/s]  3%|▎         | 4/128 [00:00<00:12,  9.96it/s]  4%|▍         | 5/128 [00:00<00:12,  9.71it/s]  5%|▍         | 6/128 [00:00<00:12,  9.61it/s]  6%|▋         | 8/128 [00:00<00:12,  9.97it/s]  8%|▊         | 10/128 [00:00<00:11, 10.50it/s]  9%|▉         | 12/128 [00:01<00:10, 11.14it/s] 11%|█         | 14/128 [00:01<00:11, 10.25it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.14it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.42it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.34it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.26it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.80it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.62it/s] 20%|██        | 26/128 [00:02<00:10,  9.29it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.55it/s] 23%|██▎       | 30/128 [00:02<00:09,  9.81it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.18it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.16it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.35it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.91it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.91it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.67it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.11it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.35it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.77it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.77it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.14it/s] 41%|████      | 52/128 [00:05<00:07, 10.21it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.45it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.66it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.27it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.30it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.52it/s] 50%|█████     | 64/128 [00:06<00:06, 10.66it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.48it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.41it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.97it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.31it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.06it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.34it/s] 61%|██████    | 78/128 [00:07<00:04, 10.06it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.16it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.08it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.74it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.06it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.29it/s] 70%|███████   | 90/128 [00:08<00:03, 10.09it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.92it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.25it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.15it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.16it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.41it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.96it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.92it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.88it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.94it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.28it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.40it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.50it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.01it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.07it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.03it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.96it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.57it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.45it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.44it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.72it/s]100%|██████████| 128/128 [00:12<00:00,  9.61it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 14:38:46,618] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.45it/s]  2%|▏         | 3/128 [00:00<00:12, 10.39it/s]  4%|▍         | 5/128 [00:00<00:12,  9.71it/s]  5%|▍         | 6/128 [00:00<00:12,  9.50it/s]  6%|▋         | 8/128 [00:00<00:12,  9.97it/s]  7%|▋         | 9/128 [00:00<00:12,  9.91it/s]  9%|▊         | 11/128 [00:01<00:11, 10.01it/s] 10%|█         | 13/128 [00:01<00:11, 10.19it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.78it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.72it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.61it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.92it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.91it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.57it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.73it/s] 20%|██        | 26/128 [00:02<00:10,  9.44it/s] 21%|██        | 27/128 [00:02<00:10,  9.29it/s] 22%|██▏       | 28/128 [00:02<00:11,  8.97it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.52it/s] 24%|██▍       | 31/128 [00:03<00:10,  9.61it/s] 25%|██▌       | 32/128 [00:03<00:10,  9.59it/s] 26%|██▌       | 33/128 [00:03<00:10,  9.31it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.85it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.29it/s] 30%|███       | 39/128 [00:04<00:09,  9.84it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.68it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.59it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.97it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.25it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.94it/s] 38%|███▊      | 49/128 [00:05<00:07, 10.05it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.26it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.32it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.57it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.64it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.44it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.12it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.75it/s] 51%|█████     | 65/128 [00:06<00:05, 10.75it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.30it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.20it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.24it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.51it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.20it/s] 60%|██████    | 77/128 [00:07<00:04, 10.24it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.23it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.35it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.95it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.90it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.20it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.14it/s] 71%|███████   | 91/128 [00:09<00:03, 10.27it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.16it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.44it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.33it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.29it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.47it/s] 80%|████████  | 103/128 [00:10<00:02,  9.95it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.17it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.15it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.08it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.43it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.94it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.24it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.18it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.79it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.16it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.71it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.47it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.44it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.84it/s]100%|██████████| 128/128 [00:12<00:00,  9.66it/s]100%|██████████| 128/128 [00:12<00:00, 10.04it/s]
[2024-01-18 14:39:15,432] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|█▉        | 25/128 [00:00<00:00, 245.95it/s] 39%|███▉      | 50/128 [00:00<00:00, 244.81it/s] 59%|█████▉    | 76/128 [00:00<00:00, 250.91it/s] 82%|████████▏ | 105/128 [00:00<00:00, 263.44it/s]100%|██████████| 128/128 [00:00<00:00, 263.24it/s]
[2024-01-18 14:39:16,044] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.85it/s]  3%|▎         | 4/128 [00:00<00:11, 10.53it/s]  5%|▍         | 6/128 [00:00<00:11, 10.35it/s]  6%|▋         | 8/128 [00:00<00:11, 10.61it/s]  8%|▊         | 10/128 [00:00<00:10, 11.23it/s]  9%|▉         | 12/128 [00:01<00:10, 11.23it/s] 11%|█         | 14/128 [00:01<00:10, 10.96it/s] 12%|█▎        | 16/128 [00:01<00:10, 11.02it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.06it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.19it/s] 17%|█▋        | 22/128 [00:02<00:09, 11.12it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.74it/s] 20%|██        | 26/128 [00:02<00:09, 10.73it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.93it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.67it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.79it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.66it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.53it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.71it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.37it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.61it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.80it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.69it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.39it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.20it/s] 41%|████      | 52/128 [00:04<00:07, 10.17it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.15it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.39it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.37it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.17it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.33it/s] 50%|█████     | 64/128 [00:06<00:06, 10.53it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.18it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.19it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.10it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.32it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.52it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.66it/s] 61%|██████    | 78/128 [00:07<00:04, 10.67it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.76it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.77it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.94it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.71it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.71it/s] 70%|███████   | 90/128 [00:08<00:03, 10.59it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.77it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.43it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.38it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.40it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.40it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.65it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.75it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.19it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.19it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.38it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.93it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.80it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.83it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.96it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.72it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.49it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.33it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]100%|██████████| 128/128 [00:12<00:00, 10.63it/s]
[2024-01-18 14:39:28,099] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.50it/s]  3%|▎         | 4/128 [00:00<00:11, 10.82it/s]  5%|▍         | 6/128 [00:00<00:11, 10.52it/s]  6%|▋         | 8/128 [00:00<00:11, 10.59it/s]  8%|▊         | 10/128 [00:00<00:10, 11.19it/s]  9%|▉         | 12/128 [00:01<00:10, 11.16it/s] 11%|█         | 14/128 [00:01<00:10, 11.13it/s] 12%|█▎        | 16/128 [00:01<00:10, 11.12it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.14it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.05it/s] 17%|█▋        | 22/128 [00:02<00:09, 11.02it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.71it/s] 20%|██        | 26/128 [00:02<00:09, 10.82it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.99it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.57it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.70it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.50it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.66it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.83it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.44it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.51it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.70it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.71it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.53it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.33it/s] 41%|████      | 52/128 [00:04<00:07, 10.13it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.09it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.31it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.54it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.31it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.34it/s] 50%|█████     | 64/128 [00:06<00:06, 10.47it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.03it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.33it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.23it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.42it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.50it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.62it/s] 61%|██████    | 78/128 [00:07<00:04, 10.73it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.91it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.92it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.87it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.64it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.59it/s] 70%|███████   | 90/128 [00:08<00:03, 10.73it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.87it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.56it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.30it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.24it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.37it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.57it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.81it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.69it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.10it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.02it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.46it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.11it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.95it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.81it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.91it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.61it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.74it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.55it/s]100%|██████████| 128/128 [00:12<00:00, 10.51it/s]100%|██████████| 128/128 [00:12<00:00, 10.66it/s]
[2024-01-18 14:39:40,120] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.36it/s]  3%|▎         | 4/128 [00:00<00:11, 10.51it/s]  5%|▍         | 6/128 [00:00<00:11, 10.46it/s]  6%|▋         | 8/128 [00:00<00:11, 10.69it/s]  8%|▊         | 10/128 [00:00<00:10, 11.21it/s]  9%|▉         | 12/128 [00:01<00:10, 11.00it/s] 11%|█         | 14/128 [00:01<00:10, 11.01it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.97it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.08it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.20it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.96it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.68it/s] 20%|██        | 26/128 [00:02<00:09, 10.70it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.91it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.74it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.79it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.47it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.62it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.70it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.44it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.67it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.57it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.63it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.36it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.25it/s] 41%|████      | 52/128 [00:04<00:07, 10.23it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.00it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.22it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.40it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.18it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.43it/s] 50%|█████     | 64/128 [00:06<00:06, 10.60it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.94it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.26it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.08it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.39it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.60it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.50it/s] 61%|██████    | 78/128 [00:07<00:04, 10.63it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.74it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.77it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.96it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.70it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.44it/s] 70%|███████   | 90/128 [00:08<00:03, 10.62it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.70it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.55it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.46it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.20it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.30it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.46it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.69it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.87it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.26it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.95it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.39it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.95it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.88it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.96it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.94it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.32it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.47it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.19it/s]100%|██████████| 128/128 [00:12<00:00, 10.40it/s]100%|██████████| 128/128 [00:12<00:00, 10.60it/s]
[2024-01-18 14:39:52,201] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.35it/s]  3%|▎         | 4/128 [00:00<00:12, 10.10it/s]  5%|▍         | 6/128 [00:00<00:12,  9.96it/s]  6%|▋         | 8/128 [00:00<00:11, 10.12it/s]  8%|▊         | 10/128 [00:00<00:11, 10.72it/s]  9%|▉         | 12/128 [00:01<00:10, 10.86it/s] 11%|█         | 14/128 [00:01<00:10, 10.91it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.65it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.72it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.83it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.79it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.64it/s] 20%|██        | 26/128 [00:02<00:09, 10.74it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.56it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.47it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.48it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.42it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.61it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.55it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.12it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.37it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.51it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.58it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.42it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.90it/s] 41%|████      | 52/128 [00:04<00:07,  9.95it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.82it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.16it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.42it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.88it/s] 48%|████▊     | 61/128 [00:05<00:06,  9.87it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.27it/s] 51%|█████     | 65/128 [00:06<00:06, 10.07it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.03it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.06it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.21it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.31it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.43it/s] 60%|██████    | 77/128 [00:07<00:04, 10.54it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.79it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.87it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.74it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.57it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.56it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.59it/s] 71%|███████   | 91/128 [00:08<00:03, 10.77it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.45it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.59it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.15it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.32it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.47it/s] 80%|████████  | 103/128 [00:09<00:02, 10.62it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.50it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.93it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.89it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.82it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.98it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.98it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.63it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.66it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.35it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.53it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.64it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.32it/s]100%|██████████| 128/128 [00:12<00:00, 10.45it/s]
[2024-01-18 14:40:04,458] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.55it/s]  2%|▏         | 2/128 [00:00<00:13,  9.23it/s]  3%|▎         | 4/128 [00:00<00:12,  9.59it/s]  4%|▍         | 5/128 [00:00<00:12,  9.62it/s]  5%|▍         | 6/128 [00:00<00:13,  9.21it/s]  6%|▋         | 8/128 [00:00<00:12,  9.68it/s]  8%|▊         | 10/128 [00:01<00:11, 10.38it/s]  9%|▉         | 12/128 [00:01<00:11, 10.34it/s] 11%|█         | 14/128 [00:01<00:10, 10.50it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.55it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.80it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.99it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.87it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.94it/s] 20%|██        | 26/128 [00:02<00:10, 10.12it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.11it/s] 23%|██▎       | 30/128 [00:02<00:09,  9.87it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.13it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.17it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.10it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.37it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.10it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.41it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.62it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.50it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.27it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.05it/s] 41%|████      | 52/128 [00:05<00:07, 10.07it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.06it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.24it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.33it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.10it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.32it/s] 50%|█████     | 64/128 [00:06<00:06, 10.51it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.08it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.19it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.09it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.33it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.55it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.65it/s] 61%|██████    | 78/128 [00:07<00:04, 10.58it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.74it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.71it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.90it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.66it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.59it/s] 70%|███████   | 90/128 [00:08<00:03, 10.55it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.73it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.48it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.40it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.29it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.25it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.45it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.62it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.79it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.19it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.09it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.34it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.99it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.79it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.87it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.96it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.53it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.59it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.35it/s]100%|██████████| 128/128 [00:12<00:00, 10.51it/s]100%|██████████| 128/128 [00:12<00:00, 10.43it/s]
[2024-01-18 14:40:32,738] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 268.16it/s] 42%|████▏     | 54/128 [00:00<00:00, 260.35it/s] 63%|██████▎   | 81/128 [00:00<00:00, 247.77it/s] 88%|████████▊ | 112/128 [00:00<00:00, 266.45it/s]100%|██████████| 128/128 [00:00<00:00, 258.44it/s]
[2024-01-18 14:40:33,357] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.15it/s]  3%|▎         | 4/128 [00:00<00:12, 10.31it/s]  5%|▍         | 6/128 [00:00<00:12,  9.85it/s]  6%|▋         | 8/128 [00:00<00:11, 10.35it/s]  8%|▊         | 10/128 [00:00<00:11, 10.32it/s]  9%|▉         | 12/128 [00:01<00:10, 10.58it/s] 11%|█         | 14/128 [00:01<00:11, 10.24it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.14it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.79it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.86it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.95it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.45it/s] 20%|██        | 26/128 [00:02<00:09, 10.69it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.74it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.57it/s] 25%|██▌       | 32/128 [00:03<00:08, 11.16it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.79it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.43it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.60it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.12it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.13it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.17it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.21it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.52it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.26it/s] 41%|████      | 52/128 [00:04<00:07, 10.52it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.69it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.41it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.41it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.56it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.35it/s] 50%|█████     | 64/128 [00:06<00:06, 10.64it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.54it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.97it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.33it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.46it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.67it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.50it/s] 61%|██████    | 78/128 [00:07<00:04, 10.52it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.56it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.34it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.24it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.45it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.10it/s] 70%|███████   | 90/128 [00:08<00:03, 10.17it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.12it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.24it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.19it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.48it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.95it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.32it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.55it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.47it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.77it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.21it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.97it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.46it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.68it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.74it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.57it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.16it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.17it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.03it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]100%|██████████| 128/128 [00:12<00:00, 10.44it/s]
[2024-01-18 14:40:45,626] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.18it/s]  3%|▎         | 4/128 [00:00<00:12, 10.22it/s]  5%|▍         | 6/128 [00:00<00:12,  9.68it/s]  6%|▋         | 8/128 [00:00<00:11, 10.17it/s]  8%|▊         | 10/128 [00:00<00:11, 10.18it/s]  9%|▉         | 12/128 [00:01<00:10, 10.57it/s] 11%|█         | 14/128 [00:01<00:11, 10.34it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.06it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.78it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.73it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.85it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.58it/s] 20%|██        | 26/128 [00:02<00:09, 10.62it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.68it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.50it/s] 25%|██▌       | 32/128 [00:03<00:08, 11.03it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.78it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.59it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.53it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.12it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.03it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.12it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.43it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.46it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.26it/s] 41%|████      | 52/128 [00:04<00:07, 10.43it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.61it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.55it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.55it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.51it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.33it/s] 50%|█████     | 64/128 [00:06<00:06, 10.53it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.50it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.17it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.26it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.49it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.56it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.41it/s] 61%|██████    | 78/128 [00:07<00:04, 10.63it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.57it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.28it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.17it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.34it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.07it/s] 70%|███████   | 90/128 [00:08<00:03, 10.32it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.03it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.22it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.10it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.41it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.12it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.22it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.56it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.36it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.68it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.20it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.15it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.36it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.64it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.61it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.48it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.29it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.01it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.99it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]
[2024-01-18 14:40:57,936] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.18it/s]  3%|▎         | 4/128 [00:00<00:11, 10.63it/s]  5%|▍         | 6/128 [00:00<00:12,  9.70it/s]  6%|▋         | 8/128 [00:00<00:11, 10.22it/s]  8%|▊         | 10/128 [00:00<00:11, 10.15it/s]  9%|▉         | 12/128 [00:01<00:11, 10.54it/s] 11%|█         | 14/128 [00:01<00:11, 10.35it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.07it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.52it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.62it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.65it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.44it/s] 20%|██        | 26/128 [00:02<00:09, 10.69it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.62it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.40it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.98it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.62it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.48it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.66it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.02it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.04it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.04it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.61it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.25it/s] 41%|████      | 52/128 [00:04<00:07, 10.47it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.60it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.49it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.59it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.67it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.30it/s] 50%|█████     | 64/128 [00:06<00:06, 10.58it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.43it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.10it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.45it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.50it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.61it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.39it/s] 61%|██████    | 78/128 [00:07<00:04, 10.57it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.65it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.49it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.16it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.37it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.00it/s] 70%|███████   | 90/128 [00:08<00:03, 10.28it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.21it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.23it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.12it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.32it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.05it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.38it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.66it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.33it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.67it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.07it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.04it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.50it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.41it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.37it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.21it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.98it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.98it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.96it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.77it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]
[2024-01-18 14:41:10,294] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.07it/s]  3%|▎         | 4/128 [00:00<00:12, 10.20it/s]  5%|▍         | 6/128 [00:00<00:12,  9.75it/s]  6%|▋         | 8/128 [00:00<00:11, 10.25it/s]  8%|▊         | 10/128 [00:00<00:11, 10.01it/s]  9%|▉         | 12/128 [00:01<00:11, 10.30it/s] 11%|█         | 14/128 [00:01<00:11, 10.09it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.99it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.74it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.81it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.55it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.31it/s] 20%|██        | 26/128 [00:02<00:09, 10.44it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.65it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.53it/s] 25%|██▌       | 32/128 [00:03<00:08, 11.07it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.33it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.25it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.36it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.03it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.03it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.74it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.10it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.27it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.18it/s] 41%|████      | 52/128 [00:05<00:07, 10.45it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.47it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.24it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.35it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.40it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.28it/s] 50%|█████     | 64/128 [00:06<00:06, 10.56it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.17it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.92it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.16it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.38it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.59it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.27it/s] 61%|██████    | 78/128 [00:07<00:04, 10.34it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.42it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.22it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.19it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.39it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.72it/s] 70%|███████   | 90/128 [00:08<00:03, 10.06it/s] 72%|███████▏  | 92/128 [00:08<00:03,  9.92it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.15it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.12it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.27it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.87it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.14it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.49it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.43it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.68it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.87it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.95it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.34it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.58it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.43it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.87it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.44it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.56it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.51it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.46it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.14it/s]100%|██████████| 128/128 [00:12<00:00,  9.57it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]
[2024-01-18 14:41:22,834] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.13it/s]  3%|▎         | 4/128 [00:00<00:12, 10.09it/s]  5%|▍         | 6/128 [00:00<00:12,  9.59it/s]  5%|▌         | 7/128 [00:00<00:12,  9.63it/s]  7%|▋         | 9/128 [00:00<00:12,  9.63it/s]  9%|▊         | 11/128 [00:01<00:11,  9.97it/s] 10%|█         | 13/128 [00:01<00:11, 10.13it/s] 12%|█▏        | 15/128 [00:01<00:12,  9.17it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.76it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.34it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.49it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.67it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.75it/s] 21%|██        | 27/128 [00:02<00:09, 10.40it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.57it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.72it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.81it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.59it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.30it/s] 30%|███       | 39/128 [00:03<00:08, 10.23it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.84it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.16it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.19it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.23it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.09it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.26it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.42it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.58it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.40it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.29it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.22it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.36it/s] 51%|█████     | 65/128 [00:06<00:05, 10.58it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.21it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.03it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.28it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.39it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.35it/s] 60%|██████    | 77/128 [00:07<00:04, 10.47it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.53it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.18it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.10it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.21it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.19it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.15it/s] 71%|███████   | 91/128 [00:08<00:03, 10.04it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.95it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.05it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.10it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.13it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.94it/s] 80%|████████  | 103/128 [00:10<00:02, 10.18it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.16it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.46it/s] 85%|████████▌ | 109/128 [00:10<00:01, 11.06it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.88it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.36it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.36it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.46it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.59it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.12it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.96it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.04it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.91it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 14:41:51,281] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 30/128 [00:00<00:00, 297.12it/s] 48%|████▊     | 61/128 [00:00<00:00, 298.20it/s] 71%|███████   | 91/128 [00:00<00:00, 296.55it/s] 95%|█████████▌| 122/128 [00:00<00:00, 299.95it/s]100%|██████████| 128/128 [00:00<00:00, 300.14it/s]
[2024-01-18 14:41:51,834] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.49it/s]  2%|▏         | 2/128 [00:00<00:13,  9.42it/s]  3%|▎         | 4/128 [00:00<00:12, 10.29it/s]  5%|▍         | 6/128 [00:00<00:12, 10.13it/s]  6%|▋         | 8/128 [00:00<00:11, 10.62it/s]  8%|▊         | 10/128 [00:00<00:11, 10.32it/s]  9%|▉         | 12/128 [00:01<00:10, 10.57it/s] 11%|█         | 14/128 [00:01<00:10, 10.43it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.39it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.36it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.45it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.34it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.62it/s] 20%|██        | 26/128 [00:02<00:09, 10.78it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.12it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.36it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.88it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.44it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.04it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.20it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.14it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.77it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.83it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.78it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.71it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.71it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.56it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.43it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.96it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.10it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.99it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.31it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.32it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.23it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.11it/s] 50%|█████     | 64/128 [00:06<00:06, 10.40it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.59it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.41it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.52it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.74it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.70it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.51it/s] 61%|██████    | 78/128 [00:07<00:04, 10.71it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.55it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.70it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.49it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.69it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.82it/s] 70%|███████   | 90/128 [00:08<00:03, 10.72it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.62it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.19it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.09it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.33it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.91it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.41it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.34it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.89it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.19it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.19it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.18it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.31it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.52it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.66it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.57it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.30it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.86it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.51it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.03it/s]100%|██████████| 128/128 [00:12<00:00,  9.12it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 14:42:04,345] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.54it/s]  2%|▏         | 2/128 [00:00<00:13,  9.43it/s]  3%|▎         | 4/128 [00:00<00:12,  9.99it/s]  5%|▍         | 6/128 [00:00<00:11, 10.26it/s]  6%|▋         | 8/128 [00:00<00:11, 10.59it/s]  8%|▊         | 10/128 [00:00<00:11, 10.35it/s]  9%|▉         | 12/128 [00:01<00:10, 10.60it/s] 11%|█         | 14/128 [00:01<00:10, 10.38it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.40it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.37it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.45it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.34it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.61it/s] 20%|██        | 26/128 [00:02<00:09, 10.76it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.15it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.40it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.91it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.47it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.03it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.29it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.17it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.83it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.88it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.81it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.65it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.71it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.55it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.03it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.13it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.13it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.39it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.10it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.12it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.31it/s] 51%|█████     | 65/128 [00:06<00:05, 10.51it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.45it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.42it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.98it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.58it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.41it/s] 60%|██████    | 77/128 [00:07<00:04, 10.58it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.67it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.43it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.41it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.49it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.75it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.81it/s] 71%|███████   | 91/128 [00:08<00:03, 10.58it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.38it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.26it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.11it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.75it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.77it/s] 80%|████████  | 103/128 [00:09<00:02, 10.41it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.96it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.97it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.24it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.19it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.11it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.45it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.57it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.46it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.97it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.20it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.07it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.06it/s]100%|██████████| 128/128 [00:12<00:00,  9.13it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 14:42:16,859] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.57it/s]  2%|▏         | 2/128 [00:00<00:13,  9.43it/s]  3%|▎         | 4/128 [00:00<00:12, 10.14it/s]  4%|▍         | 5/128 [00:00<00:12, 10.07it/s]  5%|▌         | 7/128 [00:00<00:11, 10.44it/s]  7%|▋         | 9/128 [00:00<00:11, 10.59it/s]  9%|▊         | 11/128 [00:01<00:11, 10.38it/s] 10%|█         | 13/128 [00:01<00:10, 10.59it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.23it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.42it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.27it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.19it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.15it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.83it/s] 21%|██        | 27/128 [00:02<00:09, 10.30it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.27it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.37it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.66it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.28it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.04it/s] 30%|███       | 39/128 [00:03<00:08, 10.28it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.86it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.75it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.82it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.76it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.69it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.69it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.55it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.42it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.89it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.07it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.96it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.28it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.31it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.18it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.12it/s] 50%|█████     | 64/128 [00:06<00:06, 10.38it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.59it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.34it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.44it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.68it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.63it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.46it/s] 61%|██████    | 78/128 [00:07<00:04, 10.63it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.47it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.57it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.41it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.60it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.76it/s] 70%|███████   | 90/128 [00:08<00:03, 10.78it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.53it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.15it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.04it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.29it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.86it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.45it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.26it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.84it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.13it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.12it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.00it/s] 89%|████████▉ | 114/128 [00:11<00:01,  9.99it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.26it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.35it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.32it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.15it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.45it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.21it/s] 99%|█████████▉| 127/128 [00:12<00:00,  8.71it/s]100%|██████████| 128/128 [00:12<00:00,  8.76it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]
[2024-01-18 14:42:29,490] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.46it/s]  2%|▏         | 2/128 [00:00<00:13,  9.33it/s]  3%|▎         | 4/128 [00:00<00:12, 10.25it/s]  5%|▍         | 6/128 [00:00<00:12,  9.94it/s]  6%|▋         | 8/128 [00:00<00:11, 10.28it/s]  8%|▊         | 10/128 [00:00<00:11, 10.07it/s]  9%|▉         | 12/128 [00:01<00:11, 10.29it/s] 11%|█         | 14/128 [00:01<00:11, 10.21it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.42it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.10it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.33it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.13it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.45it/s] 20%|██        | 26/128 [00:02<00:09, 10.68it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.99it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.25it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.77it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.28it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.96it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.22it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.95it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.67it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.65it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.63it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.59it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.71it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.34it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.84it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.87it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.77it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.10it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.41it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.97it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.82it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.11it/s] 51%|█████     | 65/128 [00:06<00:06, 10.28it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.26it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.51it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.83it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.38it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.14it/s] 60%|██████    | 77/128 [00:07<00:04, 10.37it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.51it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.51it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.18it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.39it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.49it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.58it/s] 71%|███████   | 91/128 [00:08<00:03, 10.62it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.23it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.07it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.86it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.52it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.60it/s] 80%|████████  | 103/128 [00:10<00:02, 10.50it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.86it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.73it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.03it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.02it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.23it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.40it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.37it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.52it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.34it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.14it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.57it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.60it/s] 98%|█████████▊| 126/128 [00:12<00:00,  8.66it/s] 99%|█████████▉| 127/128 [00:12<00:00,  8.04it/s]100%|██████████| 128/128 [00:12<00:00,  8.23it/s]100%|██████████| 128/128 [00:12<00:00, 10.04it/s]
[2024-01-18 14:42:42,250] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.79it/s]  2%|▏         | 2/128 [00:00<00:15,  8.37it/s]  2%|▏         | 3/128 [00:00<00:14,  8.91it/s]  4%|▍         | 5/128 [00:00<00:12,  9.88it/s]  5%|▌         | 7/128 [00:00<00:11, 10.34it/s]  7%|▋         | 9/128 [00:00<00:11, 10.43it/s]  9%|▊         | 11/128 [00:01<00:11, 10.03it/s] 10%|█         | 13/128 [00:01<00:11, 10.00it/s] 11%|█         | 14/128 [00:01<00:11,  9.62it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.82it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.81it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.94it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.69it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.75it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.49it/s] 21%|██        | 27/128 [00:02<00:09, 10.35it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.30it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.28it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.55it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.11it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.04it/s] 30%|███       | 39/128 [00:03<00:08, 10.36it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.86it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.66it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.74it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.58it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.55it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.74it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.57it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.91it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.00it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.87it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.08it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.39it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.27it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.10it/s] 50%|█████     | 64/128 [00:06<00:06, 10.32it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.41it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.35it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.60it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.69it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.48it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.32it/s] 61%|██████    | 78/128 [00:07<00:04, 10.47it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.57it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.72it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.32it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.41it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.50it/s] 70%|███████   | 90/128 [00:08<00:03, 10.58it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.70it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.11it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.92it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.15it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.64it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.49it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.37it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.77it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.09it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.00it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.20it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.41it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.51it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.52it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.42it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.18it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.91it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.48it/s] 99%|█████████▉| 127/128 [00:12<00:00,  8.92it/s]100%|██████████| 128/128 [00:12<00:00,  9.01it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 14:43:11,324] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 22%|██▏       | 28/128 [00:00<00:00, 275.11it/s] 48%|████▊     | 61/128 [00:00<00:00, 304.66it/s] 72%|███████▏  | 92/128 [00:00<00:00, 291.75it/s] 95%|█████████▌| 122/128 [00:00<00:00, 292.55it/s]100%|██████████| 128/128 [00:00<00:00, 290.51it/s]
[2024-01-18 14:43:11,890] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.81it/s]  3%|▎         | 4/128 [00:00<00:12,  9.87it/s]  4%|▍         | 5/128 [00:00<00:12,  9.62it/s]  5%|▍         | 6/128 [00:00<00:12,  9.52it/s]  5%|▌         | 7/128 [00:00<00:12,  9.42it/s]  7%|▋         | 9/128 [00:00<00:11, 10.66it/s]  9%|▊         | 11/128 [00:01<00:11, 10.47it/s] 10%|█         | 13/128 [00:01<00:10, 10.57it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.99it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.03it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.31it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.54it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.42it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.39it/s] 21%|██        | 27/128 [00:02<00:09, 10.62it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.41it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.31it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.57it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.60it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.12it/s] 30%|███       | 39/128 [00:03<00:08, 10.05it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.03it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.08it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.99it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.82it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.71it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.99it/s] 41%|████      | 52/128 [00:05<00:07, 10.34it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.93it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.80it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.87it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.75it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.85it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.26it/s] 51%|█████     | 65/128 [00:06<00:05, 10.86it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.34it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.49it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.57it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.70it/s] 59%|█████▊    | 75/128 [00:07<00:04, 11.15it/s] 60%|██████    | 77/128 [00:07<00:04, 10.80it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.64it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.50it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.37it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.56it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.65it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.99it/s] 71%|███████   | 91/128 [00:08<00:03, 10.50it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.41it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.23it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.46it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.69it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.18it/s] 80%|████████  | 103/128 [00:09<00:02, 10.40it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.02it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.97it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.64it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.37it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.86it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.63it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.72it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.49it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.65it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.56it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.15it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.97it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 14:43:24,326] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.05it/s]  3%|▎         | 4/128 [00:00<00:12,  9.97it/s]  5%|▍         | 6/128 [00:00<00:12,  9.48it/s]  5%|▌         | 7/128 [00:00<00:12,  9.48it/s]  7%|▋         | 9/128 [00:00<00:11, 10.41it/s]  9%|▊         | 11/128 [00:01<00:11, 10.33it/s] 10%|█         | 13/128 [00:01<00:10, 10.62it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.94it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.99it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.22it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.44it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.39it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.58it/s] 21%|██        | 27/128 [00:02<00:09, 10.52it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.43it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.24it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.52it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.71it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.02it/s] 30%|███       | 39/128 [00:03<00:08, 10.02it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.95it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.01it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.06it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.88it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.72it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.08it/s] 41%|████      | 52/128 [00:05<00:07, 10.30it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.91it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.96it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.82it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.73it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.80it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.19it/s] 51%|█████     | 65/128 [00:06<00:05, 10.82it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.52it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.46it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.67it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.67it/s] 59%|█████▊    | 75/128 [00:07<00:04, 11.12it/s] 60%|██████    | 77/128 [00:07<00:04, 10.81it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.78it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.49it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.39it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.55it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.66it/s] 70%|██████▉   | 89/128 [00:08<00:03, 11.13it/s] 71%|███████   | 91/128 [00:08<00:03, 10.49it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.45it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.22it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.43it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.67it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.29it/s] 80%|████████  | 103/128 [00:09<00:02, 10.41it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.03it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.98it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.63it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.52it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.88it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.69it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.74it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.50it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.65it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.66it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.19it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.98it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]
[2024-01-18 14:43:36,750] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.01it/s]  3%|▎         | 4/128 [00:00<00:12, 10.13it/s]  5%|▍         | 6/128 [00:00<00:12,  9.44it/s]  5%|▌         | 7/128 [00:00<00:12,  9.45it/s]  7%|▋         | 9/128 [00:00<00:11, 10.42it/s]  9%|▊         | 11/128 [00:01<00:11, 10.30it/s] 10%|█         | 13/128 [00:01<00:10, 10.56it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.07it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.88it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.21it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.38it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.33it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.57it/s] 21%|██        | 27/128 [00:02<00:09, 10.56it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.40it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.21it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.48it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.68it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.17it/s] 30%|███       | 39/128 [00:03<00:08, 10.04it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.99it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.99it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.03it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.95it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.70it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.76it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.23it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.03it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.98it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.89it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.85it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.55it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.79it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.15it/s] 51%|█████     | 65/128 [00:06<00:05, 10.79it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.48it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.58it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.65it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.71it/s] 59%|█████▊    | 75/128 [00:07<00:04, 11.11it/s] 60%|██████    | 77/128 [00:07<00:04, 10.79it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.88it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.50it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.98it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.24it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.22it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.75it/s] 71%|███████   | 91/128 [00:08<00:03, 10.49it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.22it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.86it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.11it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.25it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.16it/s] 80%|████████  | 103/128 [00:10<00:02, 10.39it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.78it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.55it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.94it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.29it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.58it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.81it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.61it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.29it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.38it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.50it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.43it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.94it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.81it/s]100%|██████████| 128/128 [00:12<00:00,  9.58it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 14:43:49,302] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.77it/s]  3%|▎         | 4/128 [00:00<00:12,  9.80it/s]  4%|▍         | 5/128 [00:00<00:12,  9.58it/s]  5%|▍         | 6/128 [00:00<00:12,  9.53it/s]  5%|▌         | 7/128 [00:00<00:12,  9.49it/s]  7%|▋         | 9/128 [00:00<00:11, 10.15it/s]  8%|▊         | 10/128 [00:01<00:12,  9.70it/s]  9%|▉         | 12/128 [00:01<00:11, 10.31it/s] 11%|█         | 14/128 [00:01<00:11,  9.98it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.86it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.01it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.33it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.13it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.13it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.30it/s] 21%|██        | 27/128 [00:02<00:09, 10.54it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.42it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.07it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.27it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.47it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.03it/s] 30%|███       | 39/128 [00:03<00:08, 10.04it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.03it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.72it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.69it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.62it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.72it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.07it/s] 41%|████      | 52/128 [00:05<00:07, 10.25it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.62it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.66it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.78it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.70it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.87it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.96it/s] 51%|█████     | 65/128 [00:06<00:05, 10.56it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.24it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.48it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.67it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.66it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.86it/s] 60%|██████    | 77/128 [00:07<00:04, 10.58it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.59it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.43it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.41it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.30it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.76it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.31it/s] 71%|███████   | 91/128 [00:09<00:03,  9.67it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.71it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.51it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.31it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.74it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.77it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.07it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.00it/s] 80%|████████  | 103/128 [00:10<00:02, 10.07it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.68it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.44it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.45it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.32it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.59it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.08it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.36it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.64it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.43it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.30it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.45it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.24it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.89it/s]100%|██████████| 128/128 [00:12<00:00,  9.96it/s]100%|██████████| 128/128 [00:12<00:00, 10.04it/s]
[2024-01-18 14:44:02,055] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.58it/s]  3%|▎         | 4/128 [00:00<00:12,  9.73it/s]  4%|▍         | 5/128 [00:00<00:12,  9.51it/s]  5%|▍         | 6/128 [00:00<00:13,  9.36it/s]  5%|▌         | 7/128 [00:00<00:12,  9.38it/s]  7%|▋         | 9/128 [00:00<00:11, 10.54it/s]  9%|▊         | 11/128 [00:01<00:11, 10.41it/s] 10%|█         | 13/128 [00:01<00:11, 10.38it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.93it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.94it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.25it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.46it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.19it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.41it/s] 21%|██        | 27/128 [00:02<00:09, 10.54it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.41it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.29it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.47it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.37it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.05it/s] 30%|███       | 39/128 [00:03<00:08,  9.99it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.99it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.00it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.82it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.68it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.72it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.06it/s] 41%|████      | 52/128 [00:05<00:07, 10.36it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.81it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.79it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.86it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.69it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.88it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.26it/s] 51%|█████     | 65/128 [00:06<00:05, 10.66it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.31it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.49it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.62it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.70it/s] 59%|█████▊    | 75/128 [00:07<00:04, 11.15it/s] 60%|██████    | 77/128 [00:07<00:04, 10.55it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.70it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.42it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.40it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.56it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.48it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.85it/s] 71%|███████   | 91/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.40it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.27it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.44it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.39it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.27it/s] 80%|████████  | 103/128 [00:10<00:02, 10.39it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.08it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.00it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.44it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.35it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.85it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.64it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.80it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.40it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.44it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.62it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.15it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.04it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]
[2024-01-18 14:44:30,777] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 288.85it/s] 48%|████▊     | 62/128 [00:00<00:00, 312.72it/s] 73%|███████▎  | 94/128 [00:00<00:00, 312.89it/s] 98%|█████████▊| 126/128 [00:00<00:00, 308.42it/s]100%|██████████| 128/128 [00:00<00:00, 306.91it/s]
[2024-01-18 14:44:31,319] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.36it/s]  2%|▏         | 3/128 [00:00<00:12,  9.75it/s]  4%|▍         | 5/128 [00:00<00:13,  9.26it/s]  5%|▍         | 6/128 [00:00<00:13,  9.34it/s]  5%|▌         | 7/128 [00:00<00:12,  9.32it/s]  7%|▋         | 9/128 [00:00<00:12,  9.86it/s]  9%|▊         | 11/128 [00:01<00:11, 10.37it/s] 10%|█         | 13/128 [00:01<00:10, 10.58it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.44it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.39it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.39it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.29it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.09it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.38it/s] 21%|██        | 27/128 [00:02<00:09, 10.32it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.11it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.24it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.22it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.41it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.11it/s] 30%|███       | 39/128 [00:03<00:08,  9.97it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.83it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.78it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.05it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.37it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.02it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.94it/s] 41%|████      | 52/128 [00:05<00:07, 10.20it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.90it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.23it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.43it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.52it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.48it/s] 50%|█████     | 64/128 [00:06<00:06, 10.66it/s] 52%|█████▏    | 66/128 [00:06<00:05, 11.06it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.77it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.90it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.46it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.54it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.32it/s] 61%|██████    | 78/128 [00:07<00:04, 10.60it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.49it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.24it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.88it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.77it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.12it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.45it/s] 71%|███████   | 91/128 [00:08<00:03, 10.61it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.52it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.58it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.64it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.43it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.61it/s] 80%|████████  | 103/128 [00:10<00:02, 10.48it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.45it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.69it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.44it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.36it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.34it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.04it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.65it/s] 93%|█████████▎| 119/128 [00:11<00:00, 11.08it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.76it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.83it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.61it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.96it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]
[2024-01-18 14:44:43,715] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.41it/s]  2%|▏         | 3/128 [00:00<00:12,  9.73it/s]  4%|▍         | 5/128 [00:00<00:13,  9.28it/s]  5%|▍         | 6/128 [00:00<00:13,  9.34it/s]  5%|▌         | 7/128 [00:00<00:12,  9.39it/s]  7%|▋         | 9/128 [00:00<00:12,  9.79it/s]  9%|▊         | 11/128 [00:01<00:11, 10.37it/s] 10%|█         | 13/128 [00:01<00:10, 10.54it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.42it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.37it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.34it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.22it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.06it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.33it/s] 21%|██        | 27/128 [00:02<00:09, 10.28it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.17it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.17it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.20it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.37it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.10it/s] 30%|███       | 39/128 [00:03<00:08, 10.02it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.92it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.77it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.08it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.35it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.99it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.09it/s] 41%|████      | 52/128 [00:05<00:07, 10.17it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.91it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.15it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.36it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.54it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.57it/s] 50%|█████     | 64/128 [00:06<00:06, 10.54it/s] 52%|█████▏    | 66/128 [00:06<00:05, 11.01it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.65it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.80it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.60it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.43it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.30it/s] 61%|██████    | 78/128 [00:07<00:04, 10.47it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.38it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.31it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.85it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.66it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.10it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.32it/s] 71%|███████   | 91/128 [00:08<00:03, 10.49it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.62it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.50it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.55it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.32it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.49it/s] 80%|████████  | 103/128 [00:10<00:02, 10.47it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.68it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.57it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.43it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.25it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.26it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.22it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.67it/s] 93%|█████████▎| 119/128 [00:11<00:00, 11.05it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.74it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.77it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.57it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.14it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]
[2024-01-18 14:44:56,136] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  9.02it/s]  2%|▏         | 3/128 [00:00<00:12,  9.76it/s]  4%|▍         | 5/128 [00:00<00:13,  9.17it/s]  5%|▍         | 6/128 [00:00<00:13,  9.26it/s]  5%|▌         | 7/128 [00:00<00:12,  9.32it/s]  7%|▋         | 9/128 [00:00<00:11, 10.06it/s]  8%|▊         | 10/128 [00:01<00:11, 10.00it/s]  9%|▉         | 12/128 [00:01<00:11, 10.40it/s] 11%|█         | 14/128 [00:01<00:11, 10.23it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.54it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.32it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.52it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.88it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.14it/s] 20%|██        | 26/128 [00:02<00:10, 10.08it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.11it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.33it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.02it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.33it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.20it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.89it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.15it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.69it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.00it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.21it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.92it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.03it/s] 41%|████      | 52/128 [00:05<00:07, 10.12it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.82it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.10it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.29it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.48it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.62it/s] 50%|█████     | 64/128 [00:06<00:06, 10.49it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.99it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.59it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.76it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.55it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.43it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.23it/s] 61%|██████    | 78/128 [00:07<00:04, 10.48it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.34it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.27it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.89it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.55it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.99it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.21it/s] 71%|███████   | 91/128 [00:08<00:03, 10.33it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.48it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.48it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.37it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.23it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.25it/s] 80%|████████  | 103/128 [00:10<00:02, 10.26it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.52it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.53it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.27it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.11it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.13it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.12it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.80it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.93it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.71it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.62it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.43it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]
[2024-01-18 14:45:08,629] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:15,  8.29it/s]  2%|▏         | 3/128 [00:00<00:13,  9.32it/s]  4%|▍         | 5/128 [00:00<00:13,  8.87it/s]  5%|▍         | 6/128 [00:00<00:13,  9.09it/s]  5%|▌         | 7/128 [00:00<00:13,  9.14it/s]  7%|▋         | 9/128 [00:00<00:11,  9.94it/s]  9%|▊         | 11/128 [00:01<00:11, 10.25it/s] 10%|█         | 13/128 [00:01<00:11, 10.20it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.14it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.06it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.31it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.27it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.82it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.15it/s] 21%|██        | 27/128 [00:02<00:10,  9.99it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.00it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.25it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.06it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.22it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.88it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.67it/s] 31%|███▏      | 40/128 [00:04<00:08, 10.01it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.83it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.74it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.79it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.07it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.91it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.56it/s] 39%|███▉      | 50/128 [00:05<00:07,  9.81it/s] 41%|████      | 52/128 [00:05<00:07, 10.19it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.66it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.97it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.13it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.29it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.50it/s] 50%|█████     | 64/128 [00:06<00:05, 10.69it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.73it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.46it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.52it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.33it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.46it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.19it/s] 61%|██████    | 78/128 [00:07<00:04, 10.26it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.16it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.03it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.80it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.68it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.88it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.07it/s] 71%|███████   | 91/128 [00:09<00:03, 10.06it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.92it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.92it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.94it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.60it/s] 77%|███████▋  | 99/128 [00:09<00:02,  9.67it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.91it/s] 80%|████████  | 103/128 [00:10<00:02,  9.98it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.33it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.59it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.14it/s] 87%|████████▋ | 111/128 [00:11<00:01,  9.79it/s] 88%|████████▊ | 113/128 [00:11<00:01,  9.70it/s] 89%|████████▉ | 114/128 [00:11<00:01,  9.72it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.52it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.46it/s] 93%|█████████▎| 119/128 [00:11<00:00, 11.04it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.57it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.61it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.36it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.00it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]
[2024-01-18 14:45:21,352] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.36it/s]  2%|▏         | 3/128 [00:00<00:12,  9.84it/s]  4%|▍         | 5/128 [00:00<00:13,  9.17it/s]  5%|▍         | 6/128 [00:00<00:13,  9.15it/s]  5%|▌         | 7/128 [00:00<00:13,  9.21it/s]  7%|▋         | 9/128 [00:00<00:11,  9.94it/s]  9%|▊         | 11/128 [00:01<00:11, 10.44it/s] 10%|█         | 13/128 [00:01<00:10, 10.69it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.44it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.28it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.45it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.33it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.17it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.40it/s] 21%|██        | 27/128 [00:02<00:09, 10.23it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.14it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.33it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.31it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.50it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.05it/s] 30%|███       | 39/128 [00:03<00:08,  9.96it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.92it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.83it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.15it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.93it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.98it/s] 41%|████      | 52/128 [00:05<00:07, 10.28it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.00it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.22it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.38it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.50it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.63it/s] 50%|█████     | 64/128 [00:06<00:05, 10.75it/s] 52%|█████▏    | 66/128 [00:06<00:05, 11.15it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.62it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.76it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.52it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.60it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.42it/s] 61%|██████    | 78/128 [00:07<00:04, 10.58it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.43it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.29it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.98it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.01it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.23it/s] 70%|███████   | 90/128 [00:08<00:03, 10.43it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.63it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.70it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.43it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.57it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.68it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.57it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.79it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.77it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.27it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.49it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.34it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.26it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.25it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.12it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.74it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.78it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.35it/s]100%|██████████| 128/128 [00:12<00:00, 10.60it/s]100%|██████████| 128/128 [00:12<00:00, 10.38it/s]
[2024-01-18 14:45:49,883] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 27%|██▋       | 34/128 [00:00<00:00, 333.75it/s] 54%|█████▍    | 69/128 [00:00<00:00, 342.90it/s] 81%|████████▏ | 104/128 [00:00<00:00, 343.22it/s]100%|██████████| 128/128 [00:00<00:00, 340.99it/s]
[2024-01-18 14:45:50,384] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.49it/s]  2%|▏         | 2/128 [00:00<00:13,  9.23it/s]  3%|▎         | 4/128 [00:00<00:12, 10.06it/s]  5%|▍         | 6/128 [00:00<00:12,  9.49it/s]  5%|▌         | 7/128 [00:00<00:12,  9.52it/s]  6%|▋         | 8/128 [00:00<00:12,  9.37it/s]  8%|▊         | 10/128 [00:01<00:11,  9.86it/s]  9%|▉         | 12/128 [00:01<00:11, 10.24it/s] 11%|█         | 14/128 [00:01<00:11,  9.90it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.26it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.23it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.12it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.79it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.66it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.03it/s] 20%|██        | 26/128 [00:02<00:10,  9.42it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.89it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.69it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.60it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.75it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.85it/s] 27%|██▋       | 35/128 [00:03<00:10,  9.20it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.76it/s] 30%|███       | 39/128 [00:03<00:08, 10.09it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.95it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.92it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.98it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.81it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.08it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.80it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.84it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.13it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.51it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.74it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.06it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.23it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.90it/s] 51%|█████     | 65/128 [00:06<00:06,  9.98it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.00it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.76it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.02it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.26it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.36it/s] 60%|██████    | 77/128 [00:07<00:05,  9.96it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.92it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.16it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.11it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.35it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.28it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.47it/s] 71%|███████   | 91/128 [00:09<00:03, 10.20it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.18it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.20it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.17it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.32it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.20it/s] 80%|████████  | 103/128 [00:10<00:02, 10.07it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.01it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.85it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.15it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.32it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.62it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.19it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.13it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.35it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.84it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.74it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.18it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.43it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.63it/s]100%|██████████| 128/128 [00:12<00:00,  9.99it/s]
[2024-01-18 14:46:03,200] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.32it/s]  2%|▏         | 2/128 [00:00<00:14,  8.88it/s]  3%|▎         | 4/128 [00:00<00:12,  9.86it/s]  5%|▍         | 6/128 [00:00<00:13,  9.30it/s]  5%|▌         | 7/128 [00:00<00:12,  9.36it/s]  6%|▋         | 8/128 [00:00<00:12,  9.39it/s]  8%|▊         | 10/128 [00:01<00:11, 10.09it/s]  9%|▉         | 12/128 [00:01<00:11, 10.20it/s] 11%|█         | 14/128 [00:01<00:11,  9.85it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.14it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.16it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.17it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.83it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.57it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.99it/s] 20%|██        | 26/128 [00:02<00:10,  9.34it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.87it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.74it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.66it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.86it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.76it/s] 27%|██▋       | 35/128 [00:03<00:10,  9.13it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.63it/s] 30%|███       | 39/128 [00:03<00:08, 10.09it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.06it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.84it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.94it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.74it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.02it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.80it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.93it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.04it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.86it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.66it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.77it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.07it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.08it/s] 50%|█████     | 64/128 [00:06<00:06,  9.93it/s] 51%|█████     | 65/128 [00:06<00:06,  9.79it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.71it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.73it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.69it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.15it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.34it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.33it/s] 60%|██████    | 77/128 [00:07<00:05,  9.87it/s] 61%|██████    | 78/128 [00:07<00:05,  9.74it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.10it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.15it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.24it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.14it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.36it/s] 70%|███████   | 90/128 [00:09<00:03, 10.48it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.38it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.02it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.17it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.08it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.29it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.98it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.24it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.74it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.68it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.02it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.36it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.68it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.22it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.96it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.19it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.84it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.77it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.21it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.45it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.52it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.35it/s]100%|██████████| 128/128 [00:12<00:00,  9.94it/s]
[2024-01-18 14:46:16,084] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.22it/s]  2%|▏         | 2/128 [00:00<00:13,  9.03it/s]  3%|▎         | 4/128 [00:00<00:12, 10.05it/s]  5%|▍         | 6/128 [00:00<00:12,  9.47it/s]  5%|▌         | 7/128 [00:00<00:12,  9.39it/s]  6%|▋         | 8/128 [00:00<00:13,  9.20it/s]  8%|▊         | 10/128 [00:01<00:11,  9.87it/s]  9%|▉         | 12/128 [00:01<00:11, 10.15it/s] 11%|█         | 14/128 [00:01<00:11,  9.89it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.26it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.10it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.98it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.87it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.67it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.51it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.02it/s] 20%|██        | 26/128 [00:02<00:10,  9.34it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.74it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.46it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.45it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.70it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.78it/s] 27%|██▋       | 35/128 [00:03<00:10,  9.14it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.72it/s] 30%|███       | 39/128 [00:04<00:08,  9.94it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.82it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.72it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.87it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.72it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.07it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.64it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.73it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.01it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.88it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.63it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.86it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.06it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.97it/s] 50%|█████     | 64/128 [00:06<00:06, 10.02it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.70it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.76it/s] 54%|█████▍    | 69/128 [00:07<00:06,  9.61it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.85it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.09it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.26it/s] 60%|██████    | 77/128 [00:07<00:05,  9.76it/s] 61%|██████    | 78/128 [00:07<00:05,  9.70it/s] 62%|██████▎   | 80/128 [00:08<00:04,  9.92it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.81it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.06it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.07it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.35it/s] 70%|███████   | 90/128 [00:09<00:03, 10.49it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.22it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.84it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.12it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.06it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.33it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.83it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.02it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.69it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.61it/s] 85%|████████▌ | 109/128 [00:11<00:01, 10.06it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.39it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.40it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.08it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.89it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.16it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.88it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.70it/s] 96%|█████████▌| 123/128 [00:12<00:00,  8.96it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.31it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.42it/s]100%|██████████| 128/128 [00:12<00:00,  9.87it/s]
[2024-01-18 14:46:29,056] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.53it/s]  2%|▏         | 2/128 [00:00<00:13,  9.27it/s]  3%|▎         | 4/128 [00:00<00:12,  9.92it/s]  4%|▍         | 5/128 [00:00<00:12,  9.87it/s]  5%|▍         | 6/128 [00:00<00:13,  8.97it/s]  5%|▌         | 7/128 [00:00<00:13,  9.11it/s]  6%|▋         | 8/128 [00:00<00:13,  9.07it/s]  8%|▊         | 10/128 [00:01<00:11,  9.89it/s]  9%|▉         | 12/128 [00:01<00:11, 10.30it/s] 11%|█         | 14/128 [00:01<00:11,  9.78it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.75it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.15it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.76it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.90it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.78it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.63it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.72it/s] 20%|██        | 26/128 [00:02<00:11,  9.10it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.65it/s] 23%|██▎       | 29/128 [00:03<00:10,  9.50it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.46it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.76it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.76it/s] 27%|██▋       | 35/128 [00:03<00:10,  8.90it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.47it/s] 30%|███       | 39/128 [00:04<00:09,  9.83it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.87it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.87it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.66it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.50it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.87it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.61it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.77it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.10it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.89it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.34it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.62it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.87it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.94it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.67it/s] 51%|█████     | 65/128 [00:06<00:06,  9.37it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.03it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.20it/s] 53%|█████▎    | 68/128 [00:07<00:06,  9.14it/s] 54%|█████▍    | 69/128 [00:07<00:06,  8.88it/s] 55%|█████▍    | 70/128 [00:07<00:06,  8.97it/s] 55%|█████▌    | 71/128 [00:07<00:06,  9.21it/s] 56%|█████▋    | 72/128 [00:07<00:05,  9.40it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.87it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.19it/s] 61%|██████    | 78/128 [00:08<00:05,  9.28it/s] 62%|██████▎   | 80/128 [00:08<00:05,  9.58it/s] 63%|██████▎   | 81/128 [00:08<00:04,  9.61it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.34it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.68it/s] 67%|██████▋   | 86/128 [00:08<00:04,  9.64it/s] 68%|██████▊   | 87/128 [00:09<00:04,  9.44it/s] 70%|██████▉   | 89/128 [00:09<00:04,  9.73it/s] 71%|███████   | 91/128 [00:09<00:03,  9.73it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.79it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.71it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.15it/s] 77%|███████▋  | 98/128 [00:10<00:02, 10.03it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.17it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.83it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.09it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.84it/s] 84%|████████▎ | 107/128 [00:11<00:02,  9.72it/s] 85%|████████▌ | 109/128 [00:11<00:01, 10.00it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.30it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.56it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.20it/s] 91%|█████████▏| 117/128 [00:12<00:01, 10.11it/s] 93%|█████████▎| 119/128 [00:12<00:00, 10.15it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.82it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.71it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.11it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.44it/s] 99%|█████████▉| 127/128 [00:13<00:00,  9.59it/s]100%|██████████| 128/128 [00:13<00:00,  9.73it/s]
[2024-01-18 14:46:42,225] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.95it/s]  2%|▏         | 2/128 [00:00<00:13,  9.04it/s]  3%|▎         | 4/128 [00:00<00:12,  9.94it/s]  5%|▍         | 6/128 [00:00<00:13,  9.36it/s]  5%|▌         | 7/128 [00:00<00:12,  9.37it/s]  6%|▋         | 8/128 [00:00<00:12,  9.38it/s]  8%|▊         | 10/128 [00:01<00:11,  9.87it/s]  9%|▉         | 12/128 [00:01<00:11, 10.18it/s] 11%|█         | 14/128 [00:01<00:11,  9.83it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.17it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.17it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.99it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.79it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.69it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.52it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.95it/s] 20%|██        | 26/128 [00:02<00:10,  9.29it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.86it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.64it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.43it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.70it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.76it/s] 27%|██▋       | 35/128 [00:03<00:10,  9.11it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.68it/s] 30%|███       | 39/128 [00:03<00:08, 10.03it/s] 31%|███▏      | 40/128 [00:04<00:08,  9.98it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.75it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.73it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.86it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.69it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.05it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.69it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.74it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.67it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.02it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.86it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.69it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.90it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.93it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.94it/s] 50%|█████     | 64/128 [00:06<00:06,  9.92it/s] 51%|█████     | 65/128 [00:06<00:06,  9.80it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.71it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.81it/s] 54%|█████▍    | 69/128 [00:07<00:06,  9.65it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.90it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.21it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.33it/s] 60%|██████    | 77/128 [00:07<00:05,  9.87it/s] 61%|██████    | 78/128 [00:07<00:05,  9.80it/s] 62%|██████▎   | 80/128 [00:08<00:04,  9.89it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.90it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.15it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.11it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.40it/s] 70%|███████   | 90/128 [00:09<00:03, 10.52it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.14it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.88it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.13it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.11it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.36it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.82it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.08it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.70it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.66it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.10it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.42it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.43it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.12it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.97it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.19it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.87it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.74it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.09it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.37it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.53it/s]100%|██████████| 128/128 [00:12<00:00,  9.89it/s]
[2024-01-18 14:47:11,252] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 26%|██▌       | 33/128 [00:00<00:00, 318.63it/s] 54%|█████▍    | 69/128 [00:00<00:00, 341.02it/s] 81%|████████▏ | 104/128 [00:00<00:00, 343.21it/s]100%|██████████| 128/128 [00:00<00:00, 342.01it/s]
[2024-01-18 14:47:11,753] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.83it/s]  2%|▏         | 3/128 [00:00<00:13,  9.59it/s]  4%|▍         | 5/128 [00:00<00:12, 10.09it/s]  5%|▍         | 6/128 [00:00<00:12,  9.87it/s]  6%|▋         | 8/128 [00:00<00:11, 10.45it/s]  8%|▊         | 10/128 [00:00<00:10, 10.81it/s]  9%|▉         | 12/128 [00:01<00:10, 10.60it/s] 11%|█         | 14/128 [00:01<00:10, 10.42it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.93it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.36it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.17it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.98it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.33it/s] 20%|██        | 26/128 [00:02<00:09, 10.23it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.40it/s] 23%|██▎       | 30/128 [00:02<00:08, 10.95it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.98it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.40it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.05it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.30it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.17it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.07it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.85it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.67it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.53it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.42it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.41it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.37it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.99it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.19it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.72it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.71it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.61it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.54it/s] 47%|████▋     | 60/128 [00:05<00:07,  9.54it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.08it/s] 50%|█████     | 64/128 [00:06<00:06, 10.21it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.78it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.98it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.23it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.61it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.37it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.22it/s] 61%|██████    | 78/128 [00:07<00:05,  9.91it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.21it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.18it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.52it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.13it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.38it/s] 70%|███████   | 90/128 [00:08<00:03, 10.16it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.96it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.27it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.28it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.94it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.52it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.50it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.50it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.04it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.17it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.29it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.53it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.67it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.53it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.31it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.07it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.15it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.05it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.81it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.81it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.82it/s]100%|██████████| 128/128 [00:12<00:00, 10.09it/s]
[2024-01-18 14:47:24,450] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.50it/s]  2%|▏         | 3/128 [00:00<00:12,  9.79it/s]  4%|▍         | 5/128 [00:00<00:11, 10.26it/s]  5%|▌         | 7/128 [00:00<00:11, 10.24it/s]  7%|▋         | 9/128 [00:00<00:10, 11.06it/s]  9%|▊         | 11/128 [00:01<00:11, 10.48it/s] 10%|█         | 13/128 [00:01<00:10, 10.58it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.08it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.40it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.04it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.80it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.90it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.59it/s] 21%|██        | 27/128 [00:02<00:09, 10.37it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.55it/s] 24%|██▍       | 31/128 [00:02<00:08, 10.99it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.65it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.35it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.23it/s] 30%|███       | 39/128 [00:03<00:08, 10.18it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.05it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.19it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.84it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.66it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.60it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.58it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.50it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.95it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.12it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.89it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.73it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.77it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.71it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.61it/s] 47%|████▋     | 60/128 [00:05<00:07,  9.56it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.88it/s] 50%|█████     | 64/128 [00:06<00:06, 10.33it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.86it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.11it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.35it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.57it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.33it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.29it/s] 61%|██████    | 78/128 [00:07<00:05,  9.98it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.30it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.15it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.35it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.24it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.42it/s] 70%|███████   | 90/128 [00:08<00:03, 10.28it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.95it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.09it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.34it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.01it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.63it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.60it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.49it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.85it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.20it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.39it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.65it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.82it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.43it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.20it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.13it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.19it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.15it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.72it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.69it/s]100%|██████████| 128/128 [00:12<00:00,  9.91it/s]100%|██████████| 128/128 [00:12<00:00, 10.12it/s]
[2024-01-18 14:47:37,106] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.56it/s]  2%|▏         | 3/128 [00:00<00:12,  9.90it/s]  4%|▍         | 5/128 [00:00<00:11, 10.38it/s]  5%|▌         | 7/128 [00:00<00:12, 10.02it/s]  7%|▋         | 9/128 [00:00<00:10, 10.90it/s]  9%|▊         | 11/128 [00:01<00:11, 10.50it/s] 10%|█         | 13/128 [00:01<00:10, 10.60it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.16it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.30it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.89it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.82it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.91it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.67it/s] 21%|██        | 27/128 [00:02<00:09, 10.37it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.22it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.76it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.40it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.24it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.20it/s] 30%|███       | 39/128 [00:03<00:08,  9.98it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.71it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.96it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.58it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.46it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.45it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.45it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.22it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.37it/s] 41%|████      | 52/128 [00:05<00:07,  9.89it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.77it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.70it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.77it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.70it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.38it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.19it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.85it/s] 50%|█████     | 64/128 [00:06<00:06, 10.12it/s] 51%|█████     | 65/128 [00:06<00:06,  9.87it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.75it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.12it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.08it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.47it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.26it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.26it/s] 61%|██████    | 78/128 [00:07<00:05,  9.93it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.21it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.84it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.25it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.07it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.32it/s] 70%|███████   | 90/128 [00:08<00:03, 10.18it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.66it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.02it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.13it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.92it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.56it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.41it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.18it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.73it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.98it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.29it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.57it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.71it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.14it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.98it/s] 92%|█████████▏| 118/128 [00:11<00:01, 10.00it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.09it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.05it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.52it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.56it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.63it/s]100%|██████████| 128/128 [00:12<00:00,  9.98it/s]
[2024-01-18 14:47:49,938] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.49it/s]  2%|▏         | 3/128 [00:00<00:12,  9.88it/s]  4%|▍         | 5/128 [00:00<00:12,  9.98it/s]  5%|▍         | 6/128 [00:00<00:12,  9.51it/s]  6%|▋         | 8/128 [00:00<00:11, 10.19it/s]  8%|▊         | 10/128 [00:00<00:11, 10.37it/s]  9%|▉         | 12/128 [00:01<00:10, 10.58it/s] 11%|█         | 14/128 [00:01<00:10, 10.40it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.74it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.17it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.93it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.76it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.86it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.68it/s] 21%|██        | 27/128 [00:02<00:09, 10.11it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.33it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.64it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.10it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.78it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.57it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.61it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.50it/s] 30%|███       | 39/128 [00:03<00:09,  9.08it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.22it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.25it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.46it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.37it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.27it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.31it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.11it/s] 38%|███▊      | 49/128 [00:05<00:08,  8.81it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.42it/s] 41%|████      | 52/128 [00:05<00:08,  9.47it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.42it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.17it/s] 43%|████▎     | 55/128 [00:05<00:08,  9.10it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.26it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.21it/s] 46%|████▌     | 59/128 [00:06<00:07,  8.90it/s] 47%|████▋     | 60/128 [00:06<00:07,  8.96it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.69it/s] 50%|█████     | 64/128 [00:06<00:06, 10.10it/s] 51%|█████     | 65/128 [00:06<00:06,  9.84it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.73it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.11it/s] 54%|█████▍    | 69/128 [00:07<00:05, 10.08it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.28it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.49it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.37it/s] 60%|██████    | 77/128 [00:07<00:05, 10.03it/s] 62%|██████▏   | 79/128 [00:08<00:04, 10.02it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.14it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.43it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.03it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.23it/s] 70%|██████▉   | 89/128 [00:09<00:03, 10.19it/s] 71%|███████   | 91/128 [00:09<00:03, 10.00it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.99it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.22it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.17it/s] 77%|███████▋  | 99/128 [00:10<00:02, 10.13it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.37it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.35it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.82it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.14it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.39it/s] 86%|████████▌ | 110/128 [00:11<00:01, 10.57it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.58it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.41it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.18it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.22it/s] 94%|█████████▍| 120/128 [00:12<00:00, 10.24it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.96it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.86it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.67it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.67it/s]100%|██████████| 128/128 [00:12<00:00, 10.00it/s]100%|██████████| 128/128 [00:12<00:00,  9.90it/s]
[2024-01-18 14:48:02,872] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.48it/s]  2%|▏         | 3/128 [00:00<00:13,  9.61it/s]  3%|▎         | 4/128 [00:00<00:12,  9.70it/s]  5%|▍         | 6/128 [00:00<00:12,  9.80it/s]  6%|▋         | 8/128 [00:00<00:11, 10.24it/s]  8%|▊         | 10/128 [00:00<00:11, 10.56it/s]  9%|▉         | 12/128 [00:01<00:10, 10.70it/s] 11%|█         | 14/128 [00:01<00:11, 10.29it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.84it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.23it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.05it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.04it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.31it/s] 20%|██        | 26/128 [00:02<00:10, 10.17it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.31it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.81it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.85it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.54it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.98it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.32it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.09it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.00it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.96it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.50it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.49it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.43it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.31it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.86it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.16it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.70it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.64it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.57it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.40it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.41it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.95it/s] 50%|█████     | 64/128 [00:06<00:06, 10.37it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.70it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.98it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.13it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.50it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.37it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.29it/s] 61%|██████    | 78/128 [00:07<00:05,  9.86it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.17it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.08it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.43it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.24it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.33it/s] 70%|███████   | 90/128 [00:08<00:03, 10.16it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.88it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.18it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.36it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.87it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.49it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.45it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.44it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.98it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.18it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.25it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.49it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.62it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.47it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.23it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.05it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.08it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.98it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.90it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.70it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.71it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.72it/s]100%|██████████| 128/128 [00:12<00:00,  9.78it/s]100%|██████████| 128/128 [00:12<00:00, 10.04it/s]
[2024-01-18 14:48:32,821] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|██        | 26/128 [00:00<00:00, 243.34it/s] 42%|████▏     | 54/128 [00:00<00:00, 262.29it/s] 63%|██████▎   | 81/128 [00:00<00:00, 257.77it/s] 86%|████████▌ | 110/128 [00:00<00:00, 266.18it/s]100%|██████████| 128/128 [00:00<00:00, 261.58it/s]
[2024-01-18 14:48:33,435] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.40it/s]  2%|▏         | 3/128 [00:00<00:11, 10.47it/s]  4%|▍         | 5/128 [00:00<00:12,  9.65it/s]  5%|▍         | 6/128 [00:00<00:12,  9.48it/s]  6%|▋         | 8/128 [00:00<00:11, 10.56it/s]  8%|▊         | 10/128 [00:00<00:11, 10.63it/s]  9%|▉         | 12/128 [00:01<00:10, 10.72it/s] 11%|█         | 14/128 [00:01<00:11, 10.10it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.95it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.35it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.45it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.37it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.55it/s] 20%|██        | 26/128 [00:02<00:09, 10.73it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.69it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.47it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.33it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.28it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.96it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.65it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.50it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.75it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.54it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.48it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.09it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.96it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.85it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.88it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.91it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.66it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.16it/s] 41%|████      | 52/128 [00:05<00:07,  9.94it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.71it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.87it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.33it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.08it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.35it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.57it/s] 51%|█████     | 65/128 [00:06<00:05, 10.70it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.23it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.37it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.22it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.36it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.97it/s] 60%|██████    | 77/128 [00:07<00:04, 10.27it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.47it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.78it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.65it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.68it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.58it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.77it/s] 71%|███████   | 91/128 [00:08<00:03, 10.32it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.38it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.26it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.40it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.71it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.80it/s] 80%|████████  | 103/128 [00:10<00:02, 10.81it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.52it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.64it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.72it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.84it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.77it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.26it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.10it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.08it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.29it/s] 96%|█████████▌| 123/128 [00:11<00:00,  9.91it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.87it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.11it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 14:48:45,894] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.45it/s]  2%|▏         | 3/128 [00:00<00:11, 10.47it/s]  4%|▍         | 5/128 [00:00<00:12,  9.81it/s]  5%|▍         | 6/128 [00:00<00:12,  9.55it/s]  6%|▋         | 8/128 [00:00<00:11, 10.54it/s]  8%|▊         | 10/128 [00:00<00:11, 10.63it/s]  9%|▉         | 12/128 [00:01<00:10, 10.72it/s] 11%|█         | 14/128 [00:01<00:11, 10.10it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.97it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.35it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.53it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.41it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.58it/s] 20%|██        | 26/128 [00:02<00:09, 10.70it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.82it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.53it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.42it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.34it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.93it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.72it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.65it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.80it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.64it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.59it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.17it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.81it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.01it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.83it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.17it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.88it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.87it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.20it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.22it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.34it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.67it/s] 51%|█████     | 65/128 [00:06<00:05, 10.77it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.15it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.46it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.31it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.52it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.11it/s] 60%|██████    | 77/128 [00:07<00:04, 10.24it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.47it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.97it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.75it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.87it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.62it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.70it/s] 71%|███████   | 91/128 [00:08<00:03, 10.40it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.54it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.45it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.51it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.62it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.71it/s] 80%|████████  | 103/128 [00:09<00:02, 10.80it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.59it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.73it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.60it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.69it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.71it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.29it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.15it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.05it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.14it/s] 96%|█████████▌| 123/128 [00:11<00:00,  9.83it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.84it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.12it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:48:58,307] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.68it/s]  2%|▏         | 2/128 [00:00<00:13,  9.41it/s]  3%|▎         | 4/128 [00:00<00:12,  9.83it/s]  4%|▍         | 5/128 [00:00<00:12,  9.61it/s]  5%|▍         | 6/128 [00:00<00:12,  9.44it/s]  6%|▋         | 8/128 [00:00<00:11, 10.58it/s]  8%|▊         | 10/128 [00:00<00:10, 10.75it/s]  9%|▉         | 12/128 [00:01<00:11, 10.41it/s] 11%|█         | 14/128 [00:01<00:11,  9.75it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.64it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.71it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.22it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.48it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.34it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.28it/s] 20%|██        | 26/128 [00:02<00:09, 10.46it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.66it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.36it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.32it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.15it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.72it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.65it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.55it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.70it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.58it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.53it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.99it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.67it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.59it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.95it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.73it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.17it/s] 41%|████      | 52/128 [00:05<00:07, 10.03it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.78it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.57it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.10it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.12it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.33it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.68it/s] 51%|█████     | 65/128 [00:06<00:05, 10.60it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.06it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.36it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.24it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.47it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.95it/s] 60%|██████    | 77/128 [00:07<00:05, 10.06it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.37it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.82it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.67it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.80it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.31it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.54it/s] 71%|███████   | 91/128 [00:08<00:03, 10.25it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.44it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.36it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.38it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.42it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.58it/s] 80%|████████  | 103/128 [00:10<00:02, 10.68it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.50it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.64it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.40it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.57it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.55it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.17it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.05it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.87it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.85it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.91it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.64it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.73it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00, 10.18it/s]
[2024-01-18 14:49:10,894] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.93it/s]  2%|▏         | 2/128 [00:00<00:13,  9.23it/s]  3%|▎         | 4/128 [00:00<00:12,  9.59it/s]  4%|▍         | 5/128 [00:00<00:12,  9.48it/s]  5%|▍         | 6/128 [00:00<00:13,  9.23it/s]  6%|▋         | 8/128 [00:00<00:11, 10.44it/s]  8%|▊         | 10/128 [00:00<00:11, 10.63it/s]  9%|▉         | 12/128 [00:01<00:11, 10.50it/s] 11%|█         | 14/128 [00:01<00:12,  9.41it/s] 12%|█▏        | 15/128 [00:01<00:12,  9.34it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.44it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.46it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.57it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.79it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.55it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.80it/s] 20%|██        | 26/128 [00:02<00:10, 10.19it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.45it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.28it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.05it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.76it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.46it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.34it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.12it/s] 30%|██▉       | 38/128 [00:03<00:10,  8.85it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.25it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.19it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.23it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.95it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.72it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.59it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.91it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.73it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.14it/s] 41%|████      | 52/128 [00:05<00:07, 10.01it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.76it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.75it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.16it/s] 46%|████▌     | 59/128 [00:06<00:06, 10.14it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.35it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.68it/s] 51%|█████     | 65/128 [00:06<00:05, 10.71it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.12it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.42it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.27it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.46it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.04it/s] 60%|██████    | 77/128 [00:07<00:04, 10.20it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.43it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.93it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.70it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.82it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.58it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.65it/s] 71%|███████   | 91/128 [00:09<00:03, 10.37it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.51it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.41it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.45it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.61it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.69it/s] 80%|████████  | 103/128 [00:10<00:02, 10.79it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.56it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.69it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.65it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.68it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.69it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.26it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.11it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.99it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.14it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.84it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.85it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00, 10.11it/s]
[2024-01-18 14:49:23,560] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  9.00it/s]  2%|▏         | 3/128 [00:00<00:12, 10.12it/s]  3%|▎         | 4/128 [00:00<00:12,  9.83it/s]  4%|▍         | 5/128 [00:00<00:12,  9.67it/s]  5%|▍         | 6/128 [00:00<00:12,  9.48it/s]  6%|▋         | 8/128 [00:00<00:11, 10.64it/s]  8%|▊         | 10/128 [00:00<00:11, 10.68it/s]  9%|▉         | 12/128 [00:01<00:10, 10.58it/s] 11%|█         | 14/128 [00:01<00:11,  9.95it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.82it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.22it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.57it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.60it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.29it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.87it/s] 21%|██        | 27/128 [00:02<00:09, 10.60it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.76it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.19it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.33it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.95it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.72it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.67it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.81it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.59it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.42it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.89it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.77it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.61it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.05it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.86it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.17it/s] 41%|████      | 52/128 [00:05<00:07,  9.90it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.66it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.75it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.21it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.23it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.36it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.56it/s] 51%|█████     | 65/128 [00:06<00:05, 10.64it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.11it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.45it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.30it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.32it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.89it/s] 60%|██████    | 77/128 [00:07<00:05, 10.10it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.39it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.92it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.72it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.49it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.45it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.64it/s] 71%|███████   | 91/128 [00:08<00:03, 10.37it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.53it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.30it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.36it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.60it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.69it/s] 80%|████████  | 103/128 [00:10<00:02, 10.82it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.54it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.53it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.61it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.68it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.76it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.32it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.08it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.06it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.21it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.92it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.95it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]
[2024-01-18 14:49:51,869] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 25%|██▌       | 32/128 [00:00<00:00, 311.54it/s] 50%|█████     | 64/128 [00:00<00:00, 305.85it/s] 74%|███████▍  | 95/128 [00:00<00:00, 293.27it/s] 98%|█████████▊| 126/128 [00:00<00:00, 298.45it/s]100%|██████████| 128/128 [00:00<00:00, 297.37it/s]
[2024-01-18 14:49:52,426] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.09it/s]  3%|▎         | 4/128 [00:00<00:11, 10.41it/s]  5%|▍         | 6/128 [00:00<00:11, 10.17it/s]  6%|▋         | 8/128 [00:00<00:11, 10.48it/s]  8%|▊         | 10/128 [00:00<00:11, 10.28it/s]  9%|▉         | 12/128 [00:01<00:11, 10.54it/s] 11%|█         | 14/128 [00:01<00:11, 10.24it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.49it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.73it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.69it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.03it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.30it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.99it/s] 21%|██        | 27/128 [00:02<00:09, 10.89it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.67it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.69it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.11it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.01it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.24it/s] 30%|███       | 39/128 [00:03<00:08, 10.13it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.09it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.78it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.06it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.99it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.31it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.49it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.49it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.66it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.47it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.08it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.33it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.23it/s] 51%|█████     | 65/128 [00:06<00:06, 10.39it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.03it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.10it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.78it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.49it/s] 59%|█████▊    | 75/128 [00:07<00:04, 11.03it/s] 60%|██████    | 77/128 [00:07<00:04, 10.61it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.40it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.26it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.11it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.30it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.41it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.30it/s] 71%|███████   | 91/128 [00:08<00:03, 10.18it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.36it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.99it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.61it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.74it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.55it/s] 80%|████████  | 103/128 [00:09<00:02, 10.73it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.39it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.98it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.97it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.98it/s] 88%|████████▊ | 113/128 [00:10<00:01, 11.45it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.97it/s] 91%|█████████▏| 117/128 [00:11<00:00, 11.00it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.27it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.16it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.45it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.31it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.97it/s]100%|██████████| 128/128 [00:12<00:00, 10.39it/s]
[2024-01-18 14:50:04,753] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.12it/s]  3%|▎         | 4/128 [00:00<00:11, 10.43it/s]  5%|▍         | 6/128 [00:00<00:11, 10.22it/s]  6%|▋         | 8/128 [00:00<00:11, 10.42it/s]  8%|▊         | 10/128 [00:00<00:11, 10.22it/s]  9%|▉         | 12/128 [00:01<00:11, 10.44it/s] 11%|█         | 14/128 [00:01<00:11, 10.29it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.54it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.70it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.65it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.97it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.33it/s] 20%|█▉        | 25/128 [00:02<00:09, 11.01it/s] 21%|██        | 27/128 [00:02<00:09, 10.97it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.61it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.60it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.10it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.01it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.28it/s] 30%|███       | 39/128 [00:03<00:08, 10.10it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.04it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.79it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.07it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.04it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.27it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.41it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.50it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.71it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.58it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.12it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.29it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.23it/s] 51%|█████     | 65/128 [00:06<00:06, 10.44it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.07it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.13it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.73it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.46it/s] 59%|█████▊    | 75/128 [00:07<00:04, 11.03it/s] 60%|██████    | 77/128 [00:07<00:04, 10.67it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.49it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.22it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.09it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.30it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.46it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.35it/s] 71%|███████   | 91/128 [00:08<00:03, 10.16it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.28it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.91it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.66it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.77it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.54it/s] 80%|████████  | 103/128 [00:09<00:02, 10.64it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.37it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.98it/s] 85%|████████▌ | 109/128 [00:10<00:01, 11.01it/s] 87%|████████▋ | 111/128 [00:10<00:01, 11.03it/s] 88%|████████▊ | 113/128 [00:10<00:01, 11.49it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.85it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.92it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.27it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.15it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.45it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.25it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.78it/s]100%|██████████| 128/128 [00:12<00:00, 10.38it/s]
[2024-01-18 14:50:17,095] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.14it/s]  3%|▎         | 4/128 [00:00<00:11, 10.36it/s]  5%|▍         | 6/128 [00:00<00:12, 10.08it/s]  6%|▋         | 8/128 [00:00<00:11, 10.23it/s]  8%|▊         | 10/128 [00:00<00:11,  9.97it/s]  9%|▉         | 12/128 [00:01<00:11, 10.29it/s] 11%|█         | 14/128 [00:01<00:11, 10.07it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.38it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.50it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.44it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.88it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.21it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.93it/s] 21%|██        | 27/128 [00:02<00:09, 10.89it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.49it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.42it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.01it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.94it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.22it/s] 30%|███       | 39/128 [00:03<00:08,  9.99it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.93it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.77it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.66it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.03it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.88it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.15it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.40it/s] 41%|████      | 52/128 [00:05<00:07, 10.37it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.26it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.53it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.45it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.16it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.27it/s] 50%|█████     | 64/128 [00:06<00:06, 10.19it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.17it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.20it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.11it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.64it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.74it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.54it/s] 61%|██████    | 78/128 [00:07<00:04, 10.39it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.10it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.22it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.09it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.27it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.24it/s] 70%|███████   | 90/128 [00:08<00:03, 10.34it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.14it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.28it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.61it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.70it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.54it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.52it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.30it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.47it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.05it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.09it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.91it/s] 89%|████████▉ | 114/128 [00:11<00:01, 11.03it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.90it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.54it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.08it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.36it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.15it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.96it/s]100%|██████████| 128/128 [00:12<00:00,  9.98it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 14:50:29,555] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.20it/s]  3%|▎         | 4/128 [00:00<00:12, 10.07it/s]  5%|▍         | 6/128 [00:00<00:12,  9.43it/s]  5%|▌         | 7/128 [00:00<00:12,  9.49it/s]  7%|▋         | 9/128 [00:00<00:12,  9.49it/s]  9%|▊         | 11/128 [00:01<00:12,  9.65it/s] 10%|█         | 13/128 [00:01<00:11,  9.79it/s] 11%|█         | 14/128 [00:01<00:11,  9.50it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.89it/s] 13%|█▎        | 17/128 [00:01<00:12,  9.24it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.23it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.20it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.85it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.96it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.66it/s] 21%|██        | 27/128 [00:02<00:09, 10.29it/s] 23%|██▎       | 29/128 [00:02<00:09,  9.98it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.81it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.70it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.57it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.42it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.94it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.12it/s] 30%|███       | 39/128 [00:03<00:09,  9.86it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.79it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.70it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.60it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.04it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.87it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.10it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.45it/s] 41%|████      | 52/128 [00:05<00:07, 10.39it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.29it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.60it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.44it/s] 47%|████▋     | 60/128 [00:06<00:06, 10.24it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.35it/s] 50%|█████     | 64/128 [00:06<00:06, 10.27it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.24it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.22it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.18it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.67it/s] 58%|█████▊    | 74/128 [00:07<00:04, 10.84it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.65it/s] 61%|██████    | 78/128 [00:07<00:04, 10.45it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.15it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.27it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.16it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.34it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.29it/s] 70%|███████   | 90/128 [00:08<00:03, 10.36it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.16it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.36it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.65it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.79it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.57it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.57it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.39it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.53it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.12it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.17it/s] 88%|████████▊ | 112/128 [00:10<00:01, 11.04it/s] 89%|████████▉ | 114/128 [00:11<00:01, 11.07it/s] 91%|█████████ | 116/128 [00:11<00:01, 11.00it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.61it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.18it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.35it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.20it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.06it/s]100%|██████████| 128/128 [00:12<00:00, 10.05it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 14:50:42,113] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.32it/s]  3%|▎         | 4/128 [00:00<00:11, 10.41it/s]  5%|▍         | 6/128 [00:00<00:12, 10.04it/s]  6%|▋         | 8/128 [00:00<00:11, 10.36it/s]  8%|▊         | 10/128 [00:00<00:11, 10.22it/s]  9%|▉         | 12/128 [00:01<00:11, 10.52it/s] 11%|█         | 14/128 [00:01<00:11, 10.27it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.42it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.64it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.58it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.01it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.38it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.97it/s] 21%|██        | 27/128 [00:02<00:09, 10.83it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.58it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.59it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.15it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.99it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.16it/s] 30%|███       | 39/128 [00:03<00:08, 10.04it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.00it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.82it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.02it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.99it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.17it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.34it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.47it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.69it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.50it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.02it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.21it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.18it/s] 51%|█████     | 65/128 [00:06<00:06, 10.41it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.03it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.03it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.64it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.44it/s] 59%|█████▊    | 75/128 [00:07<00:04, 11.01it/s] 60%|██████    | 77/128 [00:07<00:04, 10.67it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.34it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.11it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.05it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.27it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.44it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.22it/s] 71%|███████   | 91/128 [00:08<00:03, 10.05it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.25it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.87it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.65it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.68it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.42it/s] 80%|████████  | 103/128 [00:09<00:02, 10.58it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.28it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.95it/s] 85%|████████▌ | 109/128 [00:10<00:01, 11.02it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.87it/s] 88%|████████▊ | 113/128 [00:10<00:01, 11.30it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.88it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.90it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.30it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.06it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.30it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.22it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.90it/s]100%|██████████| 128/128 [00:12<00:00, 10.34it/s]
[2024-01-18 14:51:10,447] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|██        | 26/128 [00:00<00:00, 258.04it/s] 42%|████▏     | 54/128 [00:00<00:00, 265.42it/s] 64%|██████▍   | 82/128 [00:00<00:00, 268.64it/s] 88%|████████▊ | 112/128 [00:00<00:00, 279.62it/s]100%|██████████| 128/128 [00:00<00:00, 274.92it/s]
[2024-01-18 14:51:11,040] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.99it/s]  3%|▎         | 4/128 [00:00<00:11, 11.08it/s]  5%|▍         | 6/128 [00:00<00:12,  9.94it/s]  6%|▋         | 8/128 [00:00<00:11, 10.29it/s]  8%|▊         | 10/128 [00:00<00:11, 10.46it/s]  9%|▉         | 12/128 [00:01<00:10, 10.77it/s] 11%|█         | 14/128 [00:01<00:10, 10.81it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.88it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.34it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.61it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.12it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.16it/s] 20%|██        | 26/128 [00:02<00:09, 10.43it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.39it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.52it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.28it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.51it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.20it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.29it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.93it/s] 32%|███▏      | 41/128 [00:03<00:08,  9.84it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.68it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.17it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.50it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.71it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.57it/s] 41%|████      | 52/128 [00:04<00:07, 10.66it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.10it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.11it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.38it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.09it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.01it/s] 50%|█████     | 64/128 [00:06<00:06, 10.30it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.55it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.73it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.57it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.62it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.39it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.24it/s] 61%|██████    | 78/128 [00:07<00:04, 10.41it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.62it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.49it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.49it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.68it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.42it/s] 70%|███████   | 90/128 [00:08<00:03, 10.58it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.79it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.64it/s] 75%|███████▌  | 96/128 [00:09<00:02, 11.12it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.77it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.47it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.64it/s] 81%|████████▏ | 104/128 [00:09<00:02,  9.98it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.14it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.47it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.60it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.45it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.37it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.39it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.06it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.76it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.68it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.13it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.99it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.08it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]
[2024-01-18 14:51:23,391] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.58it/s]  3%|▎         | 4/128 [00:00<00:11, 10.87it/s]  5%|▍         | 6/128 [00:00<00:11, 10.19it/s]  6%|▋         | 8/128 [00:00<00:11, 10.30it/s]  8%|▊         | 10/128 [00:00<00:11, 10.37it/s]  9%|▉         | 12/128 [00:01<00:10, 10.70it/s] 11%|█         | 14/128 [00:01<00:10, 10.66it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.80it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.57it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.53it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.12it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.05it/s] 20%|██        | 26/128 [00:02<00:09, 10.32it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.57it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.69it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.24it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.48it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.07it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.35it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.08it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.65it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.06it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.24it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.50it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.73it/s] 41%|████      | 52/128 [00:05<00:07, 10.63it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.04it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.97it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.26it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.21it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.11it/s] 50%|█████     | 64/128 [00:06<00:06, 10.21it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.49it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.60it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.48it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.73it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.33it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.17it/s] 61%|██████    | 78/128 [00:07<00:04, 10.27it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.50it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.46it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.57it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.51it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.39it/s] 70%|███████   | 90/128 [00:08<00:03, 10.44it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.67it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.77it/s] 75%|███████▌  | 96/128 [00:09<00:02, 11.03it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.65it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.30it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.49it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.95it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.14it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.24it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.49it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.30it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.26it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.54it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.90it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.61it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.47it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.57it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.77it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.06it/s]100%|██████████| 128/128 [00:12<00:00, 10.11it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]
[2024-01-18 14:51:35,815] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.58it/s]  2%|▏         | 3/128 [00:00<00:12, 10.34it/s]  4%|▍         | 5/128 [00:00<00:12,  9.95it/s]  5%|▍         | 6/128 [00:00<00:12,  9.73it/s]  6%|▋         | 8/128 [00:00<00:11, 10.21it/s]  8%|▊         | 10/128 [00:00<00:11, 10.49it/s]  9%|▉         | 12/128 [00:01<00:11, 10.52it/s] 11%|█         | 14/128 [00:01<00:10, 10.52it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.60it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.39it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.65it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.20it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.91it/s] 20%|██        | 26/128 [00:02<00:09, 10.21it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.36it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.54it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.38it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.33it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.00it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.19it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.95it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.86it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.78it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.97it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.97it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.44it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.56it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.70it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.47it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.82it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.13it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.21it/s] 48%|████▊     | 61/128 [00:05<00:06,  9.89it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.20it/s] 51%|█████     | 65/128 [00:06<00:05, 10.83it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.99it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.61it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.69it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.23it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.23it/s] 60%|██████    | 77/128 [00:07<00:05, 10.15it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.25it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.46it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.30it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.51it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.36it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.22it/s] 71%|███████   | 91/128 [00:08<00:03, 10.49it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.50it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.64it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.82it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.68it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.27it/s] 80%|████████  | 103/128 [00:09<00:02, 10.35it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.80it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.20it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.48it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.00it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.22it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.14it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.16it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.88it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.57it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.36it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.84it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.42it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.23it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.59it/s]100%|██████████| 128/128 [00:12<00:00,  9.65it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]
[2024-01-18 14:51:48,381] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:12,  9.95it/s]  2%|▏         | 2/128 [00:00<00:12,  9.95it/s]  3%|▎         | 4/128 [00:00<00:12,  9.93it/s]  4%|▍         | 5/128 [00:00<00:12,  9.47it/s]  5%|▍         | 6/128 [00:00<00:13,  9.35it/s]  6%|▋         | 8/128 [00:00<00:11, 10.01it/s]  8%|▊         | 10/128 [00:00<00:11, 10.36it/s]  9%|▉         | 12/128 [00:01<00:10, 10.71it/s] 11%|█         | 14/128 [00:01<00:10, 10.55it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.29it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.81it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.08it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.57it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.76it/s] 20%|██        | 26/128 [00:02<00:10, 10.10it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.23it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.38it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.18it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.44it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.12it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.29it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.88it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.81it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.66it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.09it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.43it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.69it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.55it/s] 41%|████      | 52/128 [00:05<00:07, 10.62it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.06it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.07it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.36it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.01it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.98it/s] 50%|█████     | 64/128 [00:06<00:06, 10.22it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.48it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.67it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.46it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.46it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.33it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.16it/s] 61%|██████    | 78/128 [00:07<00:04, 10.34it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.55it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.26it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.41it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.54it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.36it/s] 70%|███████   | 90/128 [00:08<00:03, 10.52it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.65it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.53it/s] 75%|███████▌  | 96/128 [00:09<00:02, 11.04it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.61it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.37it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.55it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.80it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.10it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.32it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.55it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.40it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.16it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.33it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.98it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.75it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.66it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.09it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.79it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.08it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]
[2024-01-18 14:52:00,906] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.59it/s]  3%|▎         | 4/128 [00:00<00:11, 10.84it/s]  5%|▍         | 6/128 [00:00<00:12, 10.15it/s]  6%|▋         | 8/128 [00:00<00:11, 10.19it/s]  8%|▊         | 10/128 [00:00<00:11, 10.46it/s]  9%|▉         | 12/128 [00:01<00:10, 10.65it/s] 11%|█         | 14/128 [00:01<00:10, 10.70it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.82it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.46it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.47it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.10it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.06it/s] 20%|██        | 26/128 [00:02<00:09, 10.34it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.55it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.41it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.26it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.39it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.08it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.35it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.86it/s] 32%|███▏      | 41/128 [00:03<00:08,  9.75it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.68it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.05it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.36it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.65it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.66it/s] 41%|████      | 52/128 [00:05<00:07, 10.59it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.05it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.01it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.30it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.19it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.94it/s] 50%|█████     | 64/128 [00:06<00:06, 10.28it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.45it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.63it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.48it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.50it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.35it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.18it/s] 61%|██████    | 78/128 [00:07<00:04, 10.34it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.54it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.36it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.41it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.58it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.33it/s] 70%|███████   | 90/128 [00:08<00:03, 10.48it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.70it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.53it/s] 75%|███████▌  | 96/128 [00:09<00:02, 11.02it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.65it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.37it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.55it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.85it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.09it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.36it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.53it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.39it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.27it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.34it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.00it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.74it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.65it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.07it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.77it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.03it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 14:52:29,209] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|██        | 26/128 [00:00<00:00, 258.87it/s] 41%|████      | 52/128 [00:00<00:00, 255.40it/s] 64%|██████▍   | 82/128 [00:00<00:00, 273.66it/s] 86%|████████▌ | 110/128 [00:00<00:00, 269.45it/s]100%|██████████| 128/128 [00:00<00:00, 263.60it/s]
[2024-01-18 14:52:29,822] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.42it/s]  3%|▎         | 4/128 [00:00<00:11, 10.77it/s]  5%|▍         | 6/128 [00:00<00:10, 11.17it/s]  6%|▋         | 8/128 [00:00<00:10, 11.36it/s]  8%|▊         | 10/128 [00:00<00:10, 10.99it/s]  9%|▉         | 12/128 [00:01<00:10, 10.99it/s] 11%|█         | 14/128 [00:01<00:10, 11.02it/s] 12%|█▎        | 16/128 [00:01<00:10, 11.10it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.52it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.60it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.06it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.36it/s] 20%|██        | 26/128 [00:02<00:09, 10.54it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.27it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.10it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.33it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.51it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.43it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.58it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.18it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.23it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.37it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.24it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.90it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.72it/s] 41%|████      | 52/128 [00:04<00:06, 11.12it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.76it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.86it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.93it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.96it/s] 48%|████▊     | 62/128 [00:05<00:05, 11.13it/s] 50%|█████     | 64/128 [00:05<00:05, 11.01it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.98it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.67it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.83it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.61it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.44it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.33it/s] 61%|██████    | 78/128 [00:07<00:04, 10.20it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.84it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.96it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.78it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.73it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.94it/s] 70%|███████   | 90/128 [00:08<00:03, 10.85it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.96it/s] 73%|███████▎  | 94/128 [00:08<00:03, 11.07it/s] 75%|███████▌  | 96/128 [00:08<00:02, 10.91it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.61it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.38it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.79it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.14it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.22it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.43it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.33it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.62it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.81it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.83it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.04it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.99it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.34it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.26it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.45it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.63it/s]
[2024-01-18 14:52:41,876] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.06it/s]  3%|▎         | 4/128 [00:00<00:11, 10.48it/s]  5%|▍         | 6/128 [00:00<00:10, 11.23it/s]  6%|▋         | 8/128 [00:00<00:10, 11.66it/s]  8%|▊         | 10/128 [00:00<00:10, 11.15it/s]  9%|▉         | 12/128 [00:01<00:10, 10.96it/s] 11%|█         | 14/128 [00:01<00:10, 10.90it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.92it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.59it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.76it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.15it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.23it/s] 20%|██        | 26/128 [00:02<00:09, 10.42it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.23it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.17it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.45it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.40it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.27it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.37it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.28it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.31it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.37it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.18it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.76it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.74it/s] 41%|████      | 52/128 [00:04<00:06, 11.25it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.87it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.75it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.81it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.77it/s] 48%|████▊     | 62/128 [00:05<00:05, 11.20it/s] 50%|█████     | 64/128 [00:05<00:05, 11.19it/s] 52%|█████▏    | 66/128 [00:06<00:05, 11.16it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.53it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.71it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.46it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.66it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.48it/s] 61%|██████    | 78/128 [00:07<00:04, 10.22it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.78it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.84it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.82it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.98it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.10it/s] 70%|███████   | 90/128 [00:08<00:03, 10.80it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.86it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.86it/s] 75%|███████▌  | 96/128 [00:08<00:02, 10.95it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.72it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.43it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.65it/s] 81%|████████▏ | 104/128 [00:09<00:02,  9.98it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.19it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.47it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.43it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.61it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.72it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.70it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.13it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.08it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.50it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.18it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.32it/s]100%|██████████| 128/128 [00:12<00:00, 10.43it/s]100%|██████████| 128/128 [00:12<00:00, 10.62it/s]
[2024-01-18 14:52:53,941] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.24it/s]  3%|▎         | 4/128 [00:00<00:11, 10.60it/s]  5%|▍         | 6/128 [00:00<00:10, 11.34it/s]  6%|▋         | 8/128 [00:00<00:10, 11.01it/s]  8%|▊         | 10/128 [00:00<00:10, 10.73it/s]  9%|▉         | 12/128 [00:01<00:10, 10.65it/s] 11%|█         | 14/128 [00:01<00:10, 10.69it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.83it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.42it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.18it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.84it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.00it/s] 20%|██        | 26/128 [00:02<00:09, 10.24it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.17it/s] 23%|██▎       | 30/128 [00:02<00:09,  9.84it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.07it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.26it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.17it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.39it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.27it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.83it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.16it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.96it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.65it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.73it/s] 41%|████      | 52/128 [00:04<00:06, 11.13it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.45it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.65it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.69it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.79it/s] 48%|████▊     | 62/128 [00:05<00:05, 11.23it/s] 50%|█████     | 64/128 [00:06<00:05, 10.88it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.81it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.52it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.59it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.45it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.65it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.10it/s] 61%|██████    | 78/128 [00:07<00:04, 10.07it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.57it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.72it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.79it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.94it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.65it/s] 70%|███████   | 90/128 [00:08<00:03, 10.73it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.70it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.83it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.93it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.52it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.23it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.60it/s] 81%|████████▏ | 104/128 [00:09<00:02,  9.96it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.21it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.48it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.10it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.47it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.53it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.62it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.11it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.91it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.18it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.05it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.21it/s]100%|██████████| 128/128 [00:12<00:00, 10.45it/s]100%|██████████| 128/128 [00:12<00:00, 10.47it/s]
[2024-01-18 14:53:06,179] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.32it/s]  3%|▎         | 4/128 [00:00<00:12,  9.97it/s]  5%|▍         | 6/128 [00:00<00:11, 10.99it/s]  6%|▋         | 8/128 [00:00<00:10, 11.31it/s]  8%|▊         | 10/128 [00:00<00:10, 10.90it/s]  9%|▉         | 12/128 [00:01<00:10, 11.02it/s] 11%|█         | 14/128 [00:01<00:10, 10.97it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.38it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.14it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.01it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.45it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.68it/s] 20%|██        | 26/128 [00:02<00:10,  9.56it/s] 21%|██        | 27/128 [00:02<00:10,  9.58it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.54it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.63it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.05it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.30it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.12it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.79it/s] 30%|███       | 39/128 [00:03<00:09,  9.59it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.53it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.59it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.87it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.28it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.31it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.67it/s] 40%|███▉      | 51/128 [00:05<00:06, 11.12it/s] 41%|████▏     | 53/128 [00:05<00:06, 11.03it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.64it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.88it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.95it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.68it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.10it/s] 51%|█████     | 65/128 [00:06<00:05, 11.09it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.75it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.83it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.59it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.47it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.61it/s] 60%|██████    | 77/128 [00:07<00:04, 10.39it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.66it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.87it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.68it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.72it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.54it/s] 70%|██████▉   | 89/128 [00:08<00:03, 11.03it/s] 71%|███████   | 91/128 [00:08<00:03, 11.06it/s] 73%|███████▎  | 93/128 [00:08<00:03, 11.06it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.82it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.59it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.62it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.72it/s] 80%|████████  | 103/128 [00:09<00:02, 10.06it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.03it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.27it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.39it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.38it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.69it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.68it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.46it/s] 93%|█████████▎| 119/128 [00:11<00:00, 11.05it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.61it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.20it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.38it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.31it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]
[2024-01-18 14:53:18,482] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.26it/s]  3%|▎         | 4/128 [00:00<00:11, 10.40it/s]  5%|▍         | 6/128 [00:00<00:10, 11.23it/s]  6%|▋         | 8/128 [00:00<00:10, 11.61it/s]  8%|▊         | 10/128 [00:00<00:10, 10.92it/s]  9%|▉         | 12/128 [00:01<00:10, 10.88it/s] 11%|█         | 14/128 [00:01<00:10, 10.85it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.90it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.59it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.75it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.96it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.25it/s] 20%|██        | 26/128 [00:02<00:09, 10.33it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.25it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.15it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.24it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.39it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.24it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.43it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.32it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.18it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.31it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.11it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.71it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.76it/s] 41%|████      | 52/128 [00:04<00:06, 11.24it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.73it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.81it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.85it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.81it/s] 48%|████▊     | 62/128 [00:05<00:05, 11.25it/s] 50%|█████     | 64/128 [00:06<00:05, 11.18it/s] 52%|█████▏    | 66/128 [00:06<00:05, 11.04it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.57it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.70it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.47it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.64it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.46it/s] 61%|██████    | 78/128 [00:07<00:04, 10.10it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.76it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.76it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.80it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.95it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.00it/s] 70%|███████   | 90/128 [00:08<00:03, 10.72it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.82it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.84it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.92it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.67it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.13it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.58it/s] 81%|████████▏ | 104/128 [00:09<00:02,  9.87it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.14it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.44it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.24it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.47it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.60it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.59it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.07it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.06it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.17it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.13it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.19it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]100%|██████████| 128/128 [00:12<00:00, 10.56it/s]
[2024-01-18 14:53:47,871] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 284.82it/s] 47%|████▋     | 60/128 [00:00<00:00, 296.15it/s] 72%|███████▏  | 92/128 [00:00<00:00, 303.06it/s] 97%|█████████▋| 124/128 [00:00<00:00, 306.51it/s]100%|██████████| 128/128 [00:00<00:00, 303.37it/s]
[2024-01-18 14:53:48,421] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.28it/s]  3%|▎         | 4/128 [00:00<00:12,  9.87it/s]  4%|▍         | 5/128 [00:00<00:13,  8.91it/s]  5%|▍         | 6/128 [00:00<00:13,  9.07it/s]  6%|▋         | 8/128 [00:00<00:12,  9.99it/s]  8%|▊         | 10/128 [00:01<00:11, 10.36it/s]  9%|▉         | 12/128 [00:01<00:11, 10.39it/s] 11%|█         | 14/128 [00:01<00:11,  9.99it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.82it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.57it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.88it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.72it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.69it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.51it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.25it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.21it/s] 19%|█▉        | 24/128 [00:02<00:11,  9.28it/s] 20%|██        | 26/128 [00:02<00:10,  9.61it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.87it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.26it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.09it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.21it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.16it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.03it/s] 31%|███▏      | 40/128 [00:04<00:08, 10.03it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.72it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.93it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.86it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.75it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.18it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.20it/s] 41%|████      | 52/128 [00:05<00:07,  9.91it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.53it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.89it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.18it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.88it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.77it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.24it/s] 50%|█████     | 64/128 [00:06<00:06, 10.31it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.53it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.63it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.42it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.41it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.59it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.47it/s] 61%|██████    | 78/128 [00:07<00:04, 10.31it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.45it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.63it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.24it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.38it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.23it/s] 70%|███████   | 90/128 [00:08<00:03,  9.93it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.16it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.11it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.10it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.20it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.19it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.34it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.54it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.39it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.07it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.07it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.07it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.35it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.30it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.50it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.45it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.41it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.97it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.74it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 14:54:01,123] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.18it/s]  3%|▎         | 4/128 [00:00<00:12,  9.84it/s]  4%|▍         | 5/128 [00:00<00:13,  8.89it/s]  5%|▍         | 6/128 [00:00<00:13,  9.05it/s]  6%|▋         | 8/128 [00:00<00:12,  9.96it/s]  8%|▊         | 10/128 [00:01<00:11, 10.33it/s]  9%|▉         | 12/128 [00:01<00:11, 10.28it/s] 11%|█         | 14/128 [00:01<00:11,  9.93it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.72it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.52it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.83it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.68it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.64it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.35it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.20it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.26it/s] 19%|█▉        | 24/128 [00:02<00:11,  9.31it/s] 20%|██        | 26/128 [00:02<00:10,  9.59it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.87it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.24it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.99it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.16it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.07it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.00it/s] 30%|███       | 39/128 [00:03<00:09,  9.83it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.90it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.55it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.95it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.85it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.68it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.21it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.24it/s] 41%|████      | 52/128 [00:05<00:07,  9.85it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.53it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.91it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.15it/s] 46%|████▌     | 59/128 [00:06<00:06,  9.89it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.78it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.24it/s] 50%|█████     | 64/128 [00:06<00:06, 10.19it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.53it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.63it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.45it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.43it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.43it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.47it/s] 61%|██████    | 78/128 [00:07<00:04, 10.24it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.41it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.61it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.21it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.24it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.20it/s] 70%|███████   | 90/128 [00:09<00:03,  9.85it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.15it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.12it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.92it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.25it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.15it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.40it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.58it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.32it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.12it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.10it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.12it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.39it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.30it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.25it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.60it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.41it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.06it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.74it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.69it/s]100%|██████████| 128/128 [00:12<00:00, 10.04it/s]
[2024-01-18 14:54:13,886] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.93it/s]  3%|▎         | 4/128 [00:00<00:12,  9.83it/s]  4%|▍         | 5/128 [00:00<00:13,  9.00it/s]  5%|▍         | 6/128 [00:00<00:13,  9.13it/s]  6%|▋         | 8/128 [00:00<00:12, 10.00it/s]  8%|▊         | 10/128 [00:01<00:11, 10.00it/s]  9%|▉         | 12/128 [00:01<00:11, 10.24it/s] 11%|█         | 14/128 [00:01<00:11,  9.85it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.75it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.59it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.87it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.62it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.35it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.28it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.32it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.19it/s] 19%|█▉        | 24/128 [00:02<00:11,  9.20it/s] 20%|██        | 26/128 [00:02<00:10,  9.66it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.93it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.01it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.96it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.12it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.11it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.05it/s] 31%|███▏      | 40/128 [00:04<00:08,  9.84it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.64it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.59it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.97it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.86it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.78it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.29it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.06it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.77it/s] 41%|████      | 52/128 [00:05<00:07,  9.65it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.48it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.87it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.27it/s] 46%|████▌     | 59/128 [00:06<00:06,  9.95it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.59it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.97it/s] 50%|█████     | 64/128 [00:06<00:06, 10.26it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.54it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.74it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.50it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.19it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.43it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.46it/s] 61%|██████    | 78/128 [00:07<00:04, 10.30it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.56it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.46it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.11it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.23it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.21it/s] 70%|███████   | 90/128 [00:09<00:03,  9.92it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.98it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.94it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.94it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.25it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.22it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.34it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.38it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.24it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.12it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.18it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.14it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.25it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.18it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.35it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.67it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.55it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.87it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.76it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.59it/s]100%|██████████| 128/128 [00:12<00:00, 10.02it/s]100%|██████████| 128/128 [00:12<00:00, 10.02it/s]
[2024-01-18 14:54:26,667] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.04it/s]  3%|▎         | 4/128 [00:00<00:12, 10.17it/s]  5%|▍         | 6/128 [00:00<00:13,  8.98it/s]  6%|▋         | 8/128 [00:00<00:12,  9.73it/s]  8%|▊         | 10/128 [00:01<00:11, 10.03it/s]  9%|▉         | 12/128 [00:01<00:11, 10.30it/s] 11%|█         | 14/128 [00:01<00:11,  9.93it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.45it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.68it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.55it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.45it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.31it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.32it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.35it/s] 19%|█▉        | 24/128 [00:02<00:11,  9.36it/s] 20%|██        | 26/128 [00:02<00:10,  9.61it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.66it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.02it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.98it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.22it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.11it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.83it/s] 30%|███       | 39/128 [00:04<00:09,  9.71it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.69it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.61it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.09it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.83it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.84it/s] 38%|███▊      | 49/128 [00:05<00:07,  9.92it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.87it/s] 41%|████      | 52/128 [00:05<00:07,  9.73it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.54it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.99it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.09it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.78it/s] 46%|████▌     | 59/128 [00:06<00:07,  9.68it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.52it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.01it/s] 50%|█████     | 64/128 [00:06<00:06, 10.34it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.63it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.51it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.27it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.15it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.39it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.52it/s] 61%|██████    | 78/128 [00:07<00:04, 10.17it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.31it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.44it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.00it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.29it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.17it/s] 70%|███████   | 90/128 [00:09<00:03,  9.69it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.00it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.93it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.00it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.30it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.99it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.28it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.36it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.27it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.13it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.95it/s] 87%|████████▋ | 111/128 [00:11<00:01,  9.72it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.15it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.02it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.22it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.84it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.03it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.96it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.55it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.43it/s]100%|██████████| 128/128 [00:12<00:00,  9.91it/s]100%|██████████| 128/128 [00:12<00:00,  9.96it/s]
[2024-01-18 14:54:39,528] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.92it/s]  2%|▏         | 3/128 [00:00<00:12,  9.90it/s]  3%|▎         | 4/128 [00:00<00:13,  9.33it/s]  4%|▍         | 5/128 [00:00<00:25,  4.87it/s]  5%|▍         | 6/128 [00:00<00:21,  5.80it/s]  6%|▋         | 8/128 [00:01<00:15,  7.58it/s]  8%|▊         | 10/128 [00:01<00:13,  8.62it/s]  9%|▊         | 11/128 [00:01<00:13,  8.79it/s]  9%|▉         | 12/128 [00:01<00:12,  9.04it/s] 10%|█         | 13/128 [00:01<00:12,  9.07it/s] 11%|█         | 14/128 [00:01<00:12,  9.13it/s] 12%|█▏        | 15/128 [00:01<00:12,  9.01it/s] 12%|█▎        | 16/128 [00:01<00:12,  8.89it/s] 14%|█▍        | 18/128 [00:02<00:11,  9.45it/s] 15%|█▍        | 19/128 [00:02<00:11,  9.35it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.36it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.03it/s] 17%|█▋        | 22/128 [00:02<00:11,  8.85it/s] 18%|█▊        | 23/128 [00:02<00:11,  8.94it/s] 19%|█▉        | 24/128 [00:02<00:11,  9.04it/s] 20%|██        | 26/128 [00:03<00:10,  9.29it/s] 22%|██▏       | 28/128 [00:03<00:10,  9.67it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.08it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.83it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.86it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.91it/s] 29%|██▉       | 37/128 [00:04<00:09, 10.06it/s] 30%|███       | 39/128 [00:04<00:09,  9.70it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.80it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.49it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.85it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.75it/s] 36%|███▌      | 46/128 [00:05<00:08,  9.50it/s] 38%|███▊      | 48/128 [00:05<00:07, 10.08it/s] 38%|███▊      | 49/128 [00:05<00:07,  9.93it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.01it/s] 41%|████      | 52/128 [00:05<00:07,  9.58it/s] 41%|████▏     | 53/128 [00:05<00:08,  9.29it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.82it/s] 45%|████▍     | 57/128 [00:06<00:07, 10.03it/s] 45%|████▌     | 58/128 [00:06<00:07,  9.88it/s] 46%|████▌     | 59/128 [00:06<00:07,  9.74it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.62it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.02it/s] 50%|█████     | 64/128 [00:06<00:06, 10.06it/s] 52%|█████▏    | 66/128 [00:07<00:05, 10.41it/s] 53%|█████▎    | 68/128 [00:07<00:05, 10.51it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.35it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.31it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.20it/s] 59%|█████▉    | 76/128 [00:08<00:05, 10.36it/s] 61%|██████    | 78/128 [00:08<00:04, 10.05it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.35it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.54it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.92it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.09it/s] 69%|██████▉   | 88/128 [00:09<00:04,  9.98it/s] 70%|███████   | 90/128 [00:09<00:03,  9.70it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.02it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.90it/s] 75%|███████▌  | 96/128 [00:10<00:03,  9.80it/s] 77%|███████▋  | 98/128 [00:10<00:02, 10.06it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.97it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.26it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.46it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.04it/s] 84%|████████▍ | 108/128 [00:11<00:02,  9.99it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.92it/s] 87%|████████▋ | 111/128 [00:11<00:01,  9.82it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.20it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.07it/s] 91%|█████████▏| 117/128 [00:12<00:01, 10.05it/s] 93%|█████████▎| 119/128 [00:12<00:00, 10.72it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.13it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.16it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.80it/s] 98%|█████████▊| 126/128 [00:13<00:00,  9.43it/s]100%|██████████| 128/128 [00:13<00:00,  9.84it/s]100%|██████████| 128/128 [00:13<00:00,  9.69it/s]
[2024-01-18 14:55:09,123] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 30/128 [00:00<00:00, 290.26it/s] 47%|████▋     | 60/128 [00:00<00:00, 277.20it/s] 69%|██████▉   | 88/128 [00:00<00:00, 271.85it/s] 91%|█████████ | 116/128 [00:00<00:00, 272.52it/s]100%|██████████| 128/128 [00:00<00:00, 270.80it/s]
[2024-01-18 14:55:09,724] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.24it/s]  2%|▏         | 2/128 [00:00<00:14,  8.96it/s]  3%|▎         | 4/128 [00:00<00:12, 10.14it/s]  5%|▍         | 6/128 [00:00<00:12, 10.10it/s]  6%|▋         | 8/128 [00:00<00:11, 10.11it/s]  8%|▊         | 10/128 [00:00<00:11, 10.40it/s]  9%|▉         | 12/128 [00:01<00:11, 10.48it/s] 11%|█         | 14/128 [00:01<00:10, 10.57it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.14it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.74it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.56it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.71it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.53it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.70it/s] 20%|██        | 26/128 [00:02<00:10,  9.83it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.81it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.10it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.85it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.09it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.33it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.47it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.10it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.08it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.01it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.27it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.27it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.84it/s] 41%|████      | 52/128 [00:05<00:07, 10.22it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.88it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.97it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.31it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.32it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.04it/s] 50%|█████     | 64/128 [00:06<00:06, 10.03it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.00it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.03it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.41it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.27it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.17it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.85it/s] 60%|██████    | 77/128 [00:07<00:05,  9.75it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.16it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.35it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.16it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.79it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.75it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.84it/s] 71%|███████   | 91/128 [00:08<00:03, 10.92it/s] 73%|███████▎  | 93/128 [00:09<00:03, 11.13it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.76it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.44it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.31it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.19it/s] 80%|████████  | 103/128 [00:10<00:02, 10.29it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.31it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.53it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.61it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.38it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.61it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.14it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.09it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.98it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.94it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.20it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.99it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]
[2024-01-18 14:55:22,299] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.94it/s]  2%|▏         | 2/128 [00:00<00:14,  8.96it/s]  3%|▎         | 4/128 [00:00<00:12, 10.17it/s]  5%|▍         | 6/128 [00:00<00:12, 10.11it/s]  5%|▌         | 7/128 [00:00<00:12, 10.05it/s]  7%|▋         | 9/128 [00:00<00:11, 10.39it/s]  9%|▊         | 11/128 [00:01<00:11, 10.54it/s] 10%|█         | 13/128 [00:01<00:10, 10.63it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.42it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.05it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.64it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.74it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.58it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.75it/s] 20%|██        | 26/128 [00:02<00:10,  9.85it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.86it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.18it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.88it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.14it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.36it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.47it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.11it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.09it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.03it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.29it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.33it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.91it/s] 41%|████      | 52/128 [00:05<00:07, 10.28it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.94it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.01it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.30it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.27it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.19it/s] 50%|█████     | 64/128 [00:06<00:06, 10.11it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.09it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.08it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.30it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.38it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.20it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.91it/s] 60%|██████    | 77/128 [00:07<00:05,  9.81it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.19it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.29it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.22it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.76it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.75it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.86it/s] 71%|███████   | 91/128 [00:08<00:03, 10.90it/s] 73%|███████▎  | 93/128 [00:09<00:03, 11.28it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.81it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.53it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.36it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.22it/s] 80%|████████  | 103/128 [00:10<00:02, 10.37it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.45it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.63it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.73it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.46it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.56it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.26it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.19it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.09it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.02it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.24it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.02it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.22it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 14:55:34,813] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.11it/s]  2%|▏         | 2/128 [00:00<00:13,  9.02it/s]  3%|▎         | 4/128 [00:00<00:12, 10.21it/s]  5%|▍         | 6/128 [00:00<00:12, 10.12it/s]  6%|▋         | 8/128 [00:00<00:11, 10.16it/s]  8%|▊         | 10/128 [00:00<00:11, 10.52it/s]  9%|▉         | 12/128 [00:01<00:10, 10.56it/s] 11%|█         | 14/128 [00:01<00:10, 10.67it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.19it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.76it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.66it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.73it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.59it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.77it/s] 20%|██        | 26/128 [00:02<00:10,  9.87it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.80it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.24it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.89it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.16it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.39it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.35it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.15it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.06it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.06it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.31it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.23it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.92it/s] 41%|████      | 52/128 [00:05<00:07, 10.25it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.95it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.01it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.27it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.18it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.15it/s] 50%|█████     | 64/128 [00:06<00:06, 10.09it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.08it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.05it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.20it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.40it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.15it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.90it/s] 60%|██████    | 77/128 [00:07<00:05,  9.80it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.08it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.22it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.21it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.75it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.79it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.87it/s] 71%|███████   | 91/128 [00:08<00:03, 10.75it/s] 73%|███████▎  | 93/128 [00:09<00:03, 11.17it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.75it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.50it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.35it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.08it/s] 80%|████████  | 103/128 [00:10<00:02, 10.23it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.40it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.54it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.70it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.43it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.35it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.21it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.08it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.08it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.00it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.98it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.81it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.08it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 14:55:47,371] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.52it/s]  2%|▏         | 2/128 [00:00<00:13,  9.19it/s]  3%|▎         | 4/128 [00:00<00:12, 10.22it/s]  4%|▍         | 5/128 [00:00<00:12, 10.09it/s]  5%|▍         | 6/128 [00:00<00:12,  9.67it/s]  6%|▋         | 8/128 [00:00<00:11, 10.17it/s]  8%|▊         | 10/128 [00:00<00:11, 10.46it/s]  9%|▉         | 12/128 [00:01<00:10, 10.67it/s] 11%|█         | 14/128 [00:01<00:10, 10.72it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.92it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.82it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.71it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.52it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.69it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.61it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.80it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.84it/s] 20%|██        | 26/128 [00:02<00:10,  9.52it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.83it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.20it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.92it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.17it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.15it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.26it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.11it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.06it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.08it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.16it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.99it/s] 39%|███▉      | 50/128 [00:05<00:07,  9.89it/s] 41%|████      | 52/128 [00:05<00:07, 10.19it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.95it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.01it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.08it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.28it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.11it/s] 50%|█████     | 64/128 [00:06<00:06, 10.14it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.10it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.90it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.25it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.32it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.22it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.93it/s] 60%|██████    | 77/128 [00:07<00:05,  9.82it/s] 61%|██████    | 78/128 [00:07<00:05,  9.80it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.84it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.35it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.17it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.83it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.85it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.81it/s] 71%|███████   | 91/128 [00:08<00:03, 10.65it/s] 73%|███████▎  | 93/128 [00:09<00:03, 11.18it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.73it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.50it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.32it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.90it/s] 80%|████████  | 103/128 [00:10<00:02, 10.22it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.32it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.49it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.67it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.18it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.38it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.17it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.12it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.12it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.87it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.03it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.96it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.17it/s]100%|██████████| 128/128 [00:12<00:00, 10.16it/s]
[2024-01-18 14:55:59,981] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.50it/s]  2%|▏         | 2/128 [00:00<00:13,  9.17it/s]  3%|▎         | 4/128 [00:00<00:12,  9.73it/s]  5%|▍         | 6/128 [00:00<00:12,  9.76it/s]  6%|▋         | 8/128 [00:00<00:11, 10.05it/s]  8%|▊         | 10/128 [00:00<00:11, 10.42it/s]  9%|▉         | 12/128 [00:01<00:10, 10.63it/s] 11%|█         | 14/128 [00:01<00:10, 10.56it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.93it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.84it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.68it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.55it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.68it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.60it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.62it/s] 20%|██        | 26/128 [00:02<00:10,  9.62it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.77it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.19it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.93it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.14it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.24it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.33it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.21it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.14it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.12it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.26it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.05it/s] 39%|███▉      | 50/128 [00:05<00:07,  9.92it/s] 41%|████      | 52/128 [00:05<00:07, 10.23it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.98it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.04it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.99it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.24it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.09it/s] 50%|█████     | 64/128 [00:06<00:06, 10.12it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.08it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.87it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.24it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.33it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.21it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.94it/s] 60%|██████    | 77/128 [00:07<00:05,  9.81it/s] 61%|██████    | 78/128 [00:07<00:05,  9.81it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.08it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.08it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.74it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.84it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.83it/s] 70%|███████   | 90/128 [00:08<00:03, 10.71it/s] 72%|███████▏  | 92/128 [00:09<00:03, 11.11it/s] 73%|███████▎  | 94/128 [00:09<00:03, 11.00it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.66it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.18it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.31it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.98it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.26it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.40it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.61it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.98it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.41it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.56it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.02it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.32it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.17it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.83it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.83it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.02it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]100%|██████████| 128/128 [00:12<00:00, 10.16it/s]
[2024-01-18 14:56:28,702] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 27%|██▋       | 34/128 [00:00<00:00, 329.50it/s] 55%|█████▍    | 70/128 [00:00<00:00, 345.35it/s] 84%|████████▍ | 108/128 [00:00<00:00, 355.94it/s]100%|██████████| 128/128 [00:00<00:00, 350.56it/s]
[2024-01-18 14:56:29,192] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.85it/s]  2%|▏         | 2/128 [00:00<00:13,  9.40it/s]  3%|▎         | 4/128 [00:00<00:12,  9.59it/s]  5%|▍         | 6/128 [00:00<00:13,  9.10it/s]  5%|▌         | 7/128 [00:00<00:13,  9.20it/s]  7%|▋         | 9/128 [00:00<00:11,  9.98it/s]  9%|▊         | 11/128 [00:01<00:11, 10.07it/s] 10%|█         | 13/128 [00:01<00:11,  9.96it/s] 11%|█         | 14/128 [00:01<00:11,  9.85it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.78it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.55it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.76it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.84it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.76it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.41it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.62it/s] 20%|██        | 26/128 [00:02<00:10,  9.42it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.97it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.88it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.92it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.01it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.76it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.76it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.62it/s] 30%|███       | 39/128 [00:03<00:08, 10.07it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.13it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.89it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.67it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.39it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.29it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.29it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.59it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.55it/s] 41%|████      | 52/128 [00:05<00:08,  9.45it/s] 41%|████▏     | 53/128 [00:05<00:08,  8.57it/s] 42%|████▏     | 54/128 [00:05<00:08,  8.75it/s] 43%|████▎     | 55/128 [00:05<00:08,  8.91it/s] 44%|████▍     | 56/128 [00:05<00:08,  8.95it/s] 45%|████▌     | 58/128 [00:06<00:07,  8.87it/s] 46%|████▌     | 59/128 [00:06<00:07,  9.02it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.09it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.12it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.67it/s] 51%|█████     | 65/128 [00:06<00:06, 10.00it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.82it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.57it/s] 53%|█████▎    | 68/128 [00:07<00:06,  9.50it/s] 54%|█████▍    | 69/128 [00:07<00:06,  9.50it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.01it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.82it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.25it/s] 60%|██████    | 77/128 [00:07<00:04, 10.42it/s] 62%|██████▏   | 79/128 [00:08<00:04, 10.17it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.42it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.26it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.21it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.20it/s] 70%|██████▉   | 89/128 [00:09<00:03,  9.77it/s] 71%|███████   | 91/128 [00:09<00:03,  9.93it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.41it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.70it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.76it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.10it/s] 77%|███████▋  | 99/128 [00:10<00:02,  9.76it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.65it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.62it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.53it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.03it/s] 82%|████████▏ | 105/128 [00:10<00:02,  8.97it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.01it/s] 84%|████████▎ | 107/128 [00:11<00:02,  9.08it/s] 85%|████████▌ | 109/128 [00:11<00:01,  9.74it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.63it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.69it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.40it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.51it/s] 92%|█████████▏| 118/128 [00:12<00:00, 10.27it/s] 94%|█████████▍| 120/128 [00:12<00:00,  9.92it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.73it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.13it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.20it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.35it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.44it/s] 99%|█████████▉| 127/128 [00:13<00:00,  9.32it/s]100%|██████████| 128/128 [00:13<00:00,  9.69it/s]
[2024-01-18 14:56:42,408] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.09it/s]  2%|▏         | 3/128 [00:00<00:12, 10.31it/s]  4%|▍         | 5/128 [00:00<00:12, 10.04it/s]  5%|▍         | 6/128 [00:00<00:13,  9.01it/s]  5%|▌         | 7/128 [00:00<00:13,  9.04it/s]  7%|▋         | 9/128 [00:00<00:12,  9.91it/s]  9%|▊         | 11/128 [00:01<00:11,  9.92it/s] 10%|█         | 13/128 [00:01<00:11, 10.28it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.99it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.70it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.72it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.70it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.78it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.61it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.77it/s] 20%|██        | 26/128 [00:02<00:10,  9.46it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.86it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.78it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.73it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.14it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.14it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.59it/s] 30%|███       | 39/128 [00:03<00:08,  9.94it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.92it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.96it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.85it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.50it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.23it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.21it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.46it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.37it/s] 41%|████      | 52/128 [00:05<00:08,  9.38it/s] 41%|████▏     | 53/128 [00:05<00:08,  8.78it/s] 42%|████▏     | 54/128 [00:05<00:08,  8.96it/s] 43%|████▎     | 55/128 [00:05<00:08,  9.06it/s] 44%|████▍     | 56/128 [00:05<00:08,  8.89it/s] 45%|████▌     | 58/128 [00:06<00:07,  8.81it/s] 46%|████▌     | 59/128 [00:06<00:07,  8.91it/s] 47%|████▋     | 60/128 [00:06<00:07,  8.93it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.04it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.79it/s] 51%|█████     | 65/128 [00:06<00:06, 10.15it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.71it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.49it/s] 53%|█████▎    | 68/128 [00:07<00:06,  9.50it/s] 54%|█████▍    | 69/128 [00:07<00:06,  9.42it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.89it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.76it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.47it/s] 60%|██████    | 77/128 [00:07<00:04, 10.27it/s] 62%|██████▏   | 79/128 [00:08<00:04, 10.10it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.26it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.18it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.41it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.16it/s] 70%|██████▉   | 89/128 [00:09<00:04,  9.73it/s] 71%|███████   | 91/128 [00:09<00:03,  9.87it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.35it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.79it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.12it/s] 77%|███████▋  | 98/128 [00:10<00:03,  9.89it/s] 77%|███████▋  | 99/128 [00:10<00:02,  9.80it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.64it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.50it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.43it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.11it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.13it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.08it/s] 84%|████████▎ | 107/128 [00:11<00:02,  9.01it/s] 85%|████████▌ | 109/128 [00:11<00:01,  9.71it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.59it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.64it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.47it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.75it/s] 92%|█████████▏| 118/128 [00:12<00:00, 10.33it/s] 94%|█████████▍| 120/128 [00:12<00:00, 10.03it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.32it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.35it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.78it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.63it/s] 99%|█████████▉| 127/128 [00:13<00:00,  9.40it/s]100%|██████████| 128/128 [00:13<00:00,  9.72it/s]
[2024-01-18 14:56:55,582] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.09it/s]  2%|▏         | 3/128 [00:00<00:12, 10.24it/s]  4%|▍         | 5/128 [00:00<00:12, 10.01it/s]  5%|▍         | 6/128 [00:00<00:13,  9.21it/s]  5%|▌         | 7/128 [00:00<00:13,  9.28it/s]  7%|▋         | 9/128 [00:00<00:12,  9.91it/s]  9%|▊         | 11/128 [00:01<00:11, 10.02it/s] 10%|█         | 13/128 [00:01<00:11, 10.30it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.02it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.90it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.89it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.86it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.82it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.61it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.74it/s] 20%|██        | 26/128 [00:02<00:10,  9.62it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.03it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.87it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.90it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.19it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.14it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.83it/s] 30%|███       | 39/128 [00:03<00:08, 10.03it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.07it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.02it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.06it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.40it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.32it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.54it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.48it/s] 41%|████      | 52/128 [00:05<00:08,  9.44it/s] 41%|████▏     | 53/128 [00:05<00:08,  8.83it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.00it/s] 43%|████▎     | 55/128 [00:05<00:08,  9.10it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.13it/s] 45%|████▌     | 58/128 [00:05<00:07,  8.89it/s] 46%|████▌     | 59/128 [00:06<00:07,  9.01it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.05it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.07it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.80it/s] 51%|█████     | 65/128 [00:06<00:06, 10.18it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.70it/s] 53%|█████▎    | 68/128 [00:07<00:06,  9.62it/s] 54%|█████▍    | 69/128 [00:07<00:06,  9.57it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.96it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.72it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.47it/s] 60%|██████    | 77/128 [00:07<00:04, 10.45it/s] 62%|██████▏   | 79/128 [00:08<00:04, 10.25it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.41it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.26it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.45it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.26it/s] 70%|██████▉   | 89/128 [00:09<00:03,  9.89it/s] 71%|███████   | 91/128 [00:09<00:03,  9.97it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.42it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.83it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.06it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.00it/s] 77%|███████▋  | 99/128 [00:10<00:02,  9.87it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.69it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.63it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.53it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.14it/s] 82%|████████▏ | 105/128 [00:10<00:02,  8.99it/s] 83%|████████▎ | 106/128 [00:10<00:02,  8.92it/s] 84%|████████▎ | 107/128 [00:10<00:02,  8.74it/s] 85%|████████▌ | 109/128 [00:11<00:02,  9.42it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.26it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.21it/s] 88%|████████▊ | 113/128 [00:11<00:01,  9.83it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.98it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.24it/s] 93%|█████████▎| 119/128 [00:12<00:00,  9.75it/s] 94%|█████████▍| 120/128 [00:12<00:00,  9.69it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.52it/s] 95%|█████████▌| 122/128 [00:12<00:00,  8.89it/s] 96%|█████████▌| 123/128 [00:12<00:00,  8.95it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.41it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.24it/s] 99%|█████████▉| 127/128 [00:13<00:00,  8.87it/s]100%|██████████| 128/128 [00:13<00:00,  9.71it/s]
[2024-01-18 14:57:08,770] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.84it/s]  2%|▏         | 3/128 [00:00<00:12,  9.98it/s]  3%|▎         | 4/128 [00:00<00:12,  9.61it/s]  5%|▍         | 6/128 [00:00<00:13,  9.22it/s]  5%|▌         | 7/128 [00:00<00:13,  9.28it/s]  7%|▋         | 9/128 [00:00<00:12,  9.85it/s]  9%|▊         | 11/128 [00:01<00:11,  9.91it/s] 10%|█         | 13/128 [00:01<00:11, 10.19it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.95it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.71it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.80it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.81it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.57it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.70it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.50it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.63it/s] 20%|██        | 26/128 [00:02<00:10,  9.42it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.97it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.68it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.74it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.10it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.96it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.84it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.69it/s] 30%|███       | 39/128 [00:03<00:08,  9.92it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.99it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.97it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.83it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.42it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.39it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.21it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.41it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.40it/s] 41%|████      | 52/128 [00:05<00:08,  9.36it/s] 41%|████▏     | 53/128 [00:05<00:08,  8.75it/s] 42%|████▏     | 54/128 [00:05<00:08,  8.89it/s] 43%|████▎     | 55/128 [00:05<00:08,  8.89it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.02it/s] 45%|████▌     | 58/128 [00:06<00:08,  8.71it/s] 46%|████▌     | 59/128 [00:06<00:07,  8.88it/s] 47%|████▋     | 60/128 [00:06<00:07,  8.94it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.01it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.78it/s] 51%|█████     | 65/128 [00:06<00:06, 10.03it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.83it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.50it/s] 53%|█████▎    | 68/128 [00:07<00:06,  9.35it/s] 54%|█████▍    | 69/128 [00:07<00:06,  9.37it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.86it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.70it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.31it/s] 60%|██████    | 77/128 [00:07<00:04, 10.40it/s] 62%|██████▏   | 79/128 [00:08<00:04, 10.09it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.33it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.20it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.30it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.21it/s] 70%|██████▉   | 89/128 [00:09<00:04,  9.73it/s] 71%|███████   | 91/128 [00:09<00:03,  9.88it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.33it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.73it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.03it/s] 77%|███████▋  | 98/128 [00:10<00:03,  9.84it/s] 77%|███████▋  | 99/128 [00:10<00:02,  9.74it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.63it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.54it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.46it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.06it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.07it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.02it/s] 84%|████████▎ | 107/128 [00:11<00:02,  8.95it/s] 85%|████████▌ | 109/128 [00:11<00:01,  9.69it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.55it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.62it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.42it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.59it/s] 92%|█████████▏| 118/128 [00:12<00:00, 10.18it/s] 94%|█████████▍| 120/128 [00:12<00:00,  9.85it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.65it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.05it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.14it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.63it/s] 98%|█████████▊| 126/128 [00:13<00:00,  9.36it/s] 99%|█████████▉| 127/128 [00:13<00:00,  9.24it/s]100%|██████████| 128/128 [00:13<00:00,  9.68it/s]
[2024-01-18 14:57:21,998] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.83it/s]  2%|▏         | 3/128 [00:00<00:12, 10.15it/s]  3%|▎         | 4/128 [00:00<00:12,  9.70it/s]  5%|▍         | 6/128 [00:00<00:13,  9.21it/s]  5%|▌         | 7/128 [00:00<00:13,  9.11it/s]  7%|▋         | 9/128 [00:00<00:12,  9.72it/s]  9%|▊         | 11/128 [00:01<00:11,  9.83it/s] 10%|█         | 13/128 [00:01<00:11, 10.16it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.93it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.82it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.85it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.59it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.67it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.67it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.51it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.69it/s] 20%|██        | 26/128 [00:02<00:10,  9.57it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.81it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.69it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.72it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.06it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.92it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.88it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.74it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.70it/s] 31%|███▏      | 40/128 [00:04<00:08, 10.13it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.86it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.81it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.70it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.40it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.29it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.10it/s] 39%|███▉      | 50/128 [00:05<00:08,  9.38it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.30it/s] 41%|████      | 52/128 [00:05<00:08,  9.22it/s] 41%|████▏     | 53/128 [00:05<00:08,  8.63it/s] 42%|████▏     | 54/128 [00:05<00:08,  8.85it/s] 43%|████▎     | 55/128 [00:05<00:08,  8.99it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.03it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.02it/s] 45%|████▌     | 58/128 [00:06<00:08,  8.37it/s] 46%|████▌     | 59/128 [00:06<00:07,  8.66it/s] 47%|████▋     | 60/128 [00:06<00:07,  8.79it/s] 48%|████▊     | 61/128 [00:06<00:07,  8.84it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.70it/s] 51%|█████     | 65/128 [00:06<00:06, 10.10it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.83it/s] 52%|█████▏    | 67/128 [00:07<00:06,  9.40it/s] 53%|█████▎    | 68/128 [00:07<00:06,  9.29it/s] 54%|█████▍    | 69/128 [00:07<00:06,  9.32it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.74it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.63it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.40it/s] 60%|██████    | 77/128 [00:07<00:04, 10.40it/s] 62%|██████▏   | 79/128 [00:08<00:04,  9.95it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.21it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.04it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.28it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.24it/s] 70%|██████▉   | 89/128 [00:09<00:04,  9.50it/s] 71%|███████   | 91/128 [00:09<00:03,  9.71it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.15it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.63it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.02it/s] 77%|███████▋  | 98/128 [00:10<00:03,  9.81it/s] 77%|███████▋  | 99/128 [00:10<00:03,  9.62it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.54it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.50it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.26it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.03it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.07it/s] 83%|████████▎ | 106/128 [00:11<00:02,  9.07it/s] 84%|████████▎ | 107/128 [00:11<00:02,  9.02it/s] 84%|████████▍ | 108/128 [00:11<00:02,  9.18it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.50it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.43it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.30it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.60it/s] 92%|█████████▏| 118/128 [00:12<00:00, 10.21it/s] 94%|█████████▍| 120/128 [00:12<00:00,  9.79it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.63it/s] 95%|█████████▌| 122/128 [00:12<00:00,  8.94it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.05it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.66it/s] 98%|█████████▊| 126/128 [00:13<00:00,  9.52it/s] 99%|█████████▉| 127/128 [00:13<00:00,  9.34it/s]100%|██████████| 128/128 [00:13<00:00,  9.39it/s]100%|██████████| 128/128 [00:13<00:00,  9.62it/s]
[2024-01-18 14:57:51,745] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 24%|██▍       | 31/128 [00:00<00:00, 302.01it/s] 48%|████▊     | 62/128 [00:00<00:00, 300.02it/s] 73%|███████▎  | 94/128 [00:00<00:00, 306.84it/s]100%|██████████| 128/128 [00:00<00:00, 316.47it/s]100%|██████████| 128/128 [00:00<00:00, 311.52it/s]
[2024-01-18 14:57:52,280] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.59it/s]  2%|▏         | 2/128 [00:00<00:13,  9.34it/s]  3%|▎         | 4/128 [00:00<00:12,  9.76it/s]  4%|▍         | 5/128 [00:00<00:12,  9.53it/s]  5%|▍         | 6/128 [00:00<00:12,  9.44it/s]  6%|▋         | 8/128 [00:00<00:11, 10.09it/s]  8%|▊         | 10/128 [00:00<00:11, 10.54it/s]  9%|▉         | 12/128 [00:01<00:11, 10.40it/s] 11%|█         | 14/128 [00:01<00:10, 10.56it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.62it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.50it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.64it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.78it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.35it/s] 20%|██        | 26/128 [00:02<00:09, 10.50it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.90it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.67it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.75it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.58it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.45it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.19it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.39it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.58it/s] 34%|███▍      | 44/128 [00:04<00:07, 11.07it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.54it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.53it/s] 41%|████      | 52/128 [00:04<00:06, 10.98it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.71it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.25it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.35it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.15it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.40it/s] 50%|█████     | 64/128 [00:06<00:06, 10.35it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.20it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.23it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.16it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.32it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.25it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.51it/s] 61%|██████    | 78/128 [00:07<00:04, 10.36it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.18it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.06it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.36it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.35it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.34it/s] 70%|███████   | 90/128 [00:08<00:03,  9.91it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.18it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.13it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.13it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.17it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.89it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.95it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.86it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.76it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.72it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.61it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.88it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.14it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.42it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.48it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.69it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.45it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.35it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.55it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.52it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.40it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]
[2024-01-18 14:58:04,679] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.97it/s]  3%|▎         | 4/128 [00:00<00:12,  9.70it/s]  4%|▍         | 5/128 [00:00<00:12,  9.63it/s]  5%|▍         | 6/128 [00:00<00:12,  9.45it/s]  6%|▋         | 8/128 [00:00<00:11, 10.01it/s]  8%|▊         | 10/128 [00:00<00:11, 10.49it/s]  9%|▉         | 12/128 [00:01<00:10, 10.72it/s] 11%|█         | 14/128 [00:01<00:10, 10.52it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.69it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.42it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.58it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.82it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.46it/s] 20%|██        | 26/128 [00:02<00:09, 10.44it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.88it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.19it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.10it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.07it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.59it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.23it/s] 30%|███       | 39/128 [00:03<00:09,  9.71it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.92it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.65it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.72it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.39it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.51it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.35it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.43it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.07it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.13it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.06it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.01it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.31it/s] 51%|█████     | 65/128 [00:06<00:06, 10.20it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.93it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.24it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.34it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.51it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.34it/s] 60%|██████    | 77/128 [00:07<00:04, 10.57it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.34it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.43it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.34it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.53it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.39it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.24it/s] 71%|███████   | 91/128 [00:08<00:03, 10.12it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.37it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.24it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.25it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.18it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.10it/s] 80%|████████  | 103/128 [00:10<00:02, 10.02it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.77it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.73it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.63it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.05it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.26it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.53it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.60it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.74it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.47it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.57it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.61it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.67it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.47it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 14:58:17,138] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.91it/s]  3%|▎         | 4/128 [00:00<00:12,  9.94it/s]  4%|▍         | 5/128 [00:00<00:12,  9.73it/s]  5%|▍         | 6/128 [00:00<00:12,  9.56it/s]  6%|▋         | 8/128 [00:00<00:11, 10.12it/s]  8%|▊         | 10/128 [00:00<00:11, 10.57it/s]  9%|▉         | 12/128 [00:01<00:10, 10.70it/s] 11%|█         | 14/128 [00:01<00:10, 10.72it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.73it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.55it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.64it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.86it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.52it/s] 20%|██        | 26/128 [00:02<00:09, 10.52it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.98it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.67it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.76it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.73it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.54it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.36it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.46it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.62it/s] 34%|███▍      | 44/128 [00:04<00:07, 11.06it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.62it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.64it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.74it/s] 41%|████      | 52/128 [00:04<00:06, 11.14it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.81it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.47it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.61it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.39it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.57it/s] 50%|█████     | 64/128 [00:06<00:06, 10.44it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.30it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.40it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.26it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.39it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.29it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.55it/s] 61%|██████    | 78/128 [00:07<00:04, 10.57it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.17it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.15it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.40it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.37it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.49it/s] 70%|███████   | 90/128 [00:08<00:03,  9.92it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.23it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.16it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.15it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.19it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.99it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.04it/s] 81%|████████▏ | 104/128 [00:09<00:02,  9.91it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.81it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.75it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.63it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.01it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.18it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.45it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.51it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.70it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.47it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.41it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.59it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.54it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.42it/s]100%|██████████| 128/128 [00:12<00:00, 10.42it/s]
[2024-01-18 14:58:29,431] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.94it/s]  2%|▏         | 3/128 [00:00<00:12,  9.95it/s]  3%|▎         | 4/128 [00:00<00:12,  9.58it/s]  4%|▍         | 5/128 [00:00<00:12,  9.53it/s]  5%|▍         | 6/128 [00:00<00:13,  9.35it/s]  6%|▋         | 8/128 [00:00<00:12,  9.98it/s]  8%|▊         | 10/128 [00:00<00:11, 10.50it/s]  9%|▉         | 12/128 [00:01<00:10, 10.74it/s] 11%|█         | 14/128 [00:01<00:10, 10.53it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.67it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.39it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.54it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.77it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.40it/s] 20%|██        | 26/128 [00:02<00:09, 10.41it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.89it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.56it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.66it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.74it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.26it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.19it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.27it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.47it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.98it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.49it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.51it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.61it/s] 41%|████      | 52/128 [00:04<00:06, 10.99it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.69it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.47it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.38it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.28it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.43it/s] 50%|█████     | 64/128 [00:06<00:06, 10.35it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.24it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.32it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.19it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.34it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.24it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.49it/s] 61%|██████    | 78/128 [00:07<00:04, 10.49it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.18it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.13it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.38it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.34it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.47it/s] 70%|███████   | 90/128 [00:08<00:03,  9.92it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.21it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.11it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.10it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.12it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.04it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.99it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.94it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.80it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.74it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.61it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.05it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.21it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.53it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.57it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.72it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.46it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.45it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.56it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.59it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.42it/s]100%|██████████| 128/128 [00:12<00:00, 10.36it/s]
[2024-01-18 14:58:41,800] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.95it/s]  3%|▎         | 4/128 [00:00<00:12,  9.79it/s]  4%|▍         | 5/128 [00:00<00:12,  9.60it/s]  5%|▍         | 6/128 [00:00<00:12,  9.48it/s]  6%|▋         | 8/128 [00:00<00:11, 10.03it/s]  8%|▊         | 10/128 [00:00<00:11, 10.48it/s]  9%|▉         | 12/128 [00:01<00:10, 10.71it/s] 11%|█         | 14/128 [00:01<00:10, 10.56it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.65it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.47it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.59it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.81it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.47it/s] 20%|██        | 26/128 [00:02<00:09, 10.50it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.94it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.64it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.72it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.71it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.49it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.34it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.43it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.59it/s] 34%|███▍      | 44/128 [00:04<00:07, 11.06it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.54it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.65it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.69it/s] 41%|████      | 52/128 [00:04<00:06, 11.10it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.77it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.43it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.55it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.37it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.56it/s] 50%|█████     | 64/128 [00:06<00:06, 10.43it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.21it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.34it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.22it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.39it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.28it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.45it/s] 61%|██████    | 78/128 [00:07<00:04, 10.43it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.23it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.13it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.42it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.37it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.28it/s] 70%|███████   | 90/128 [00:08<00:03,  9.99it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.15it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.17it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.13it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.95it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.00it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.96it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.94it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.80it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.74it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.52it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.85it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.20it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.47it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.60it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.75it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.23it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.43it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.52it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.61it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.38it/s]
[2024-01-18 14:59:10,333] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 273.58it/s] 47%|████▋     | 60/128 [00:00<00:00, 289.38it/s] 70%|██████▉   | 89/128 [00:00<00:00, 286.67it/s] 95%|█████████▌| 122/128 [00:00<00:00, 300.79it/s]100%|██████████| 128/128 [00:00<00:00, 297.40it/s]
[2024-01-18 14:59:10,888] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.14it/s]  2%|▏         | 2/128 [00:00<00:13,  9.14it/s]  3%|▎         | 4/128 [00:00<00:11, 10.38it/s]  5%|▍         | 6/128 [00:00<00:12,  9.88it/s]  5%|▌         | 7/128 [00:00<00:12,  9.58it/s]  7%|▋         | 9/128 [00:00<00:11,  9.98it/s]  9%|▊         | 11/128 [00:01<00:10, 10.77it/s] 10%|█         | 13/128 [00:01<00:11, 10.45it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.35it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.97it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.95it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.77it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.13it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.47it/s] 20%|██        | 26/128 [00:02<00:09, 11.06it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.98it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.31it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.55it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.67it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.19it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.39it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.44it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.05it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.29it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.01it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.56it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.64it/s] 41%|████      | 52/128 [00:05<00:07, 10.19it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.36it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.33it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.18it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.32it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.22it/s] 50%|█████     | 64/128 [00:06<00:06, 10.48it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.37it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.62it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.34it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.20it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.22it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.42it/s] 61%|██████    | 78/128 [00:07<00:04, 10.55it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.63it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.11it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.02it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.32it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.06it/s] 70%|███████   | 90/128 [00:08<00:03, 10.25it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.08it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.05it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.80it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.17it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.46it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.16it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.46it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.01it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.09it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.08it/s] 88%|████████▊ | 112/128 [00:10<00:01,  9.89it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.21it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.36it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.30it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.54it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.44it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.30it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00,  9.51it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]
[2024-01-18 14:59:23,414] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.50it/s]  2%|▏         | 2/128 [00:00<00:13,  9.32it/s]  3%|▎         | 4/128 [00:00<00:12, 10.10it/s]  4%|▍         | 5/128 [00:00<00:12,  9.78it/s]  5%|▍         | 6/128 [00:00<00:12,  9.67it/s]  5%|▌         | 7/128 [00:00<00:12,  9.39it/s]  7%|▋         | 9/128 [00:00<00:11, 10.05it/s]  9%|▊         | 11/128 [00:01<00:10, 10.94it/s] 10%|█         | 13/128 [00:01<00:10, 10.54it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.14it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.86it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.95it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.78it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.20it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.33it/s] 20%|██        | 26/128 [00:02<00:09, 10.83it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.93it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.28it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.55it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.70it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.89it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.26it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.34it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.00it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.29it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.88it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.45it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.59it/s] 41%|████      | 52/128 [00:05<00:07, 10.18it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.41it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.22it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.13it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.35it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.23it/s] 50%|█████     | 64/128 [00:06<00:06, 10.52it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.40it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.47it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.37it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.20it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.27it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.47it/s] 61%|██████    | 78/128 [00:07<00:04, 10.41it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.57it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.15it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.09it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.42it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.93it/s] 70%|███████   | 90/128 [00:08<00:03, 10.18it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.09it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.09it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.87it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.07it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.35it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.21it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.47it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.10it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.08it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.90it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.83it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.09it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.38it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.36it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.38it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.47it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.30it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.43it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.63it/s]100%|██████████| 128/128 [00:12<00:00,  9.60it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 14:59:35,973] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.47it/s]  2%|▏         | 2/128 [00:00<00:14,  8.43it/s]  3%|▎         | 4/128 [00:00<00:12, 10.03it/s]  4%|▍         | 5/128 [00:00<00:12,  9.60it/s]  5%|▍         | 6/128 [00:00<00:12,  9.50it/s]  5%|▌         | 7/128 [00:00<00:12,  9.43it/s]  7%|▋         | 9/128 [00:00<00:11, 10.10it/s]  9%|▊         | 11/128 [00:01<00:10, 10.93it/s] 10%|█         | 13/128 [00:01<00:11, 10.21it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.16it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.80it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.95it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.78it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.96it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.16it/s] 20%|██        | 26/128 [00:02<00:09, 10.81it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.80it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.29it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.59it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.47it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.94it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.17it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.36it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.03it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.12it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.79it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.40it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.52it/s] 41%|████      | 52/128 [00:05<00:07, 10.18it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.39it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.02it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.04it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.23it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.20it/s] 50%|█████     | 64/128 [00:06<00:06, 10.49it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.09it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.39it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.29it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.19it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.26it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.38it/s] 61%|██████    | 78/128 [00:07<00:04, 10.43it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.55it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.15it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.10it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.37it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.93it/s] 70%|███████   | 90/128 [00:08<00:03, 10.19it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.12it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.12it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.85it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.03it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.40it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.26it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.51it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.10it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.99it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.99it/s] 88%|████████▊ | 112/128 [00:11<00:01,  9.98it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.29it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.50it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.18it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.37it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.49it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.35it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.22it/s]100%|██████████| 128/128 [00:12<00:00,  9.39it/s]100%|██████████| 128/128 [00:12<00:00, 10.15it/s]
[2024-01-18 14:59:48,599] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.22it/s]  2%|▏         | 2/128 [00:00<00:13,  9.17it/s]  3%|▎         | 4/128 [00:00<00:12, 10.21it/s]  4%|▍         | 5/128 [00:00<00:12,  9.86it/s]  5%|▍         | 6/128 [00:00<00:12,  9.71it/s]  5%|▌         | 7/128 [00:00<00:12,  9.58it/s]  7%|▋         | 9/128 [00:00<00:11, 10.14it/s]  9%|▊         | 11/128 [00:01<00:10, 10.69it/s] 10%|█         | 13/128 [00:01<00:11, 10.39it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.18it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.92it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.02it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.76it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.12it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.70it/s] 21%|██        | 27/128 [00:02<00:09, 10.76it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.56it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.32it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.41it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.23it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.14it/s] 30%|███       | 39/128 [00:03<00:08, 10.36it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.16it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.90it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.96it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.78it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.53it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.69it/s] 41%|████      | 52/128 [00:05<00:07, 10.03it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.19it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.12it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.10it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.35it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.16it/s] 50%|█████     | 64/128 [00:06<00:06, 10.27it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.15it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.39it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.35it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.25it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.99it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.26it/s] 61%|██████    | 78/128 [00:07<00:04, 10.33it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.53it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.17it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.92it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.19it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.86it/s] 70%|███████   | 90/128 [00:08<00:03, 10.16it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.12it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.04it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.57it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.95it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.30it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.23it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.46it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.89it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.96it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.96it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.01it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.29it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.34it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.19it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.40it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.56it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.41it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00,  9.44it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]
[2024-01-18 15:00:01,236] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.26it/s]  2%|▏         | 2/128 [00:00<00:13,  9.08it/s]  3%|▎         | 4/128 [00:00<00:11, 10.35it/s]  5%|▍         | 6/128 [00:00<00:12,  9.75it/s]  5%|▌         | 7/128 [00:00<00:12,  9.52it/s]  7%|▋         | 9/128 [00:00<00:11,  9.94it/s]  9%|▊         | 11/128 [00:01<00:10, 10.74it/s] 10%|█         | 13/128 [00:01<00:11, 10.40it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.28it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.91it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.89it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.73it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.07it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.41it/s] 20%|██        | 26/128 [00:02<00:09, 11.01it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.91it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.25it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.49it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.60it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.11it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.27it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.31it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.94it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.20it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.92it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.45it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.46it/s] 41%|████      | 52/128 [00:05<00:07, 10.08it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.28it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.25it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.11it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.17it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.13it/s] 50%|█████     | 64/128 [00:06<00:06, 10.32it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.24it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.52it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.22it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.13it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.09it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.32it/s] 61%|██████    | 78/128 [00:07<00:04, 10.47it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.52it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.04it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.92it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.25it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.99it/s] 70%|███████   | 90/128 [00:08<00:03, 10.14it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.02it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.95it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.78it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.69it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.14it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.52it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.09it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.40it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.90it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.01it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.04it/s] 88%|████████▊ | 112/128 [00:11<00:01,  9.86it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.14it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.26it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.23it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.44it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.52it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.24it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.12it/s]100%|██████████| 128/128 [00:12<00:00,  9.44it/s]100%|██████████| 128/128 [00:12<00:00, 10.15it/s]
[2024-01-18 15:00:31,334] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 262.90it/s] 48%|████▊     | 61/128 [00:00<00:00, 306.78it/s] 73%|███████▎  | 94/128 [00:00<00:00, 315.50it/s] 98%|█████████▊| 126/128 [00:00<00:00, 309.27it/s]100%|██████████| 128/128 [00:00<00:00, 306.06it/s]
[2024-01-18 15:00:31,875] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.99it/s]  3%|▎         | 4/128 [00:00<00:11, 10.60it/s]  5%|▍         | 6/128 [00:00<00:12,  9.46it/s]  6%|▋         | 8/128 [00:00<00:12,  9.54it/s]  8%|▊         | 10/128 [00:01<00:11, 10.02it/s]  9%|▉         | 12/128 [00:01<00:11, 10.27it/s] 11%|█         | 14/128 [00:01<00:10, 10.50it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.68it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.43it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.37it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.27it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.16it/s] 20%|██        | 26/128 [00:02<00:09, 10.40it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.32it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.31it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.99it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.95it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.24it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.44it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.87it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.14it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.32it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.48it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.45it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.98it/s] 41%|████      | 52/128 [00:05<00:07,  9.79it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.12it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.04it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.39it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.32it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.02it/s] 50%|█████     | 64/128 [00:06<00:06, 10.31it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.13it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.40it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.56it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.55it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.32it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.45it/s] 61%|██████    | 78/128 [00:07<00:04, 10.05it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.09it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.29it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.60it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.57it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.67it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.89it/s] 71%|███████   | 91/128 [00:08<00:03, 10.27it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.02it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.23it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.12it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.11it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.44it/s] 80%|████████  | 103/128 [00:10<00:02, 10.62it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.47it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.72it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.54it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.67it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.43it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.29it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.21it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.35it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.05it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.41it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.49it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.25it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]
[2024-01-18 15:00:44,397] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.90it/s]  3%|▎         | 4/128 [00:00<00:11, 10.51it/s]  5%|▍         | 6/128 [00:00<00:12,  9.42it/s]  6%|▋         | 8/128 [00:00<00:12,  9.49it/s]  8%|▊         | 10/128 [00:01<00:11, 10.03it/s]  9%|▉         | 12/128 [00:01<00:11, 10.29it/s] 11%|█         | 14/128 [00:01<00:10, 10.52it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.69it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.40it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.45it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.28it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.21it/s] 20%|██        | 26/128 [00:02<00:09, 10.44it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.26it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.35it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.02it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.04it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.30it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.45it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.86it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.12it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.38it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.54it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.48it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.90it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.76it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.08it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.32it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.26it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.45it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.10it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.14it/s] 51%|█████     | 65/128 [00:06<00:06, 10.34it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.19it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.47it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.45it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.34it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.43it/s] 60%|██████    | 77/128 [00:07<00:04, 10.36it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.23it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.05it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.23it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.50it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.68it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.88it/s] 71%|███████   | 91/128 [00:08<00:03, 10.13it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.98it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.24it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.13it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.15it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.46it/s] 80%|████████  | 103/128 [00:10<00:02, 10.42it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.59it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.66it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.58it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.71it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.30it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.36it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.24it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.43it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.09it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.41it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.34it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.22it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 15:00:56,912] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.06it/s]  3%|▎         | 4/128 [00:00<00:11, 10.66it/s]  5%|▍         | 6/128 [00:00<00:13,  9.27it/s]  6%|▋         | 8/128 [00:00<00:12,  9.54it/s]  8%|▊         | 10/128 [00:01<00:11,  9.88it/s]  9%|▉         | 12/128 [00:01<00:11, 10.16it/s] 11%|█         | 14/128 [00:01<00:10, 10.44it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.52it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.99it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.24it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.99it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.02it/s] 20%|██        | 26/128 [00:02<00:09, 10.27it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.94it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.16it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.85it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.93it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.18it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.35it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.82it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.06it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.32it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.41it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.36it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.00it/s] 41%|████      | 52/128 [00:05<00:07,  9.79it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.15it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.07it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.40it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.30it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.10it/s] 50%|█████     | 64/128 [00:06<00:06, 10.38it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.25it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.46it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.61it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.77it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.43it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.61it/s] 61%|██████    | 78/128 [00:07<00:04, 10.12it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.10it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.35it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.73it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.66it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.79it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.96it/s] 71%|███████   | 91/128 [00:08<00:03, 10.30it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.09it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.35it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.22it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.20it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.49it/s] 80%|████████  | 103/128 [00:10<00:02, 10.59it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.68it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.85it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.68it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.77it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.46it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.45it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.35it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.52it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.15it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.46it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.48it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.32it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 15:01:09,424] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.03it/s]  3%|▎         | 4/128 [00:00<00:11, 10.65it/s]  5%|▍         | 6/128 [00:00<00:13,  9.33it/s]  6%|▋         | 8/128 [00:00<00:12,  9.56it/s]  8%|▊         | 10/128 [00:01<00:11, 10.04it/s]  9%|▉         | 12/128 [00:01<00:11, 10.34it/s] 11%|█         | 14/128 [00:01<00:10, 10.57it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.64it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.36it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.50it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.32it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.28it/s] 20%|██        | 26/128 [00:02<00:09, 10.47it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.23it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.46it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.09it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.12it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.36it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.19it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.71it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.65it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.71it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.95it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.10it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.88it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.74it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.62it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.51it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.00it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.23it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.03it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.01it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.93it/s] 47%|████▋     | 60/128 [00:05<00:07,  9.68it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.54it/s] 50%|█████     | 64/128 [00:06<00:06,  9.97it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.97it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.29it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.95it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.02it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.66it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.72it/s] 60%|██████    | 77/128 [00:07<00:05,  9.55it/s] 61%|██████    | 78/128 [00:07<00:05,  9.21it/s] 62%|██████▎   | 80/128 [00:08<00:05,  9.44it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.80it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.46it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.45it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.49it/s] 70%|██████▉   | 89/128 [00:08<00:04,  9.47it/s] 70%|███████   | 90/128 [00:09<00:03,  9.55it/s] 71%|███████   | 91/128 [00:09<00:03,  9.59it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.34it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.65it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.75it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.82it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.12it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.28it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.51it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.66it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.55it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.63it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.65it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.30it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.41it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.37it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.22it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.11it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.30it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]100%|██████████| 128/128 [00:12<00:00, 10.03it/s]
[2024-01-18 15:01:22,191] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.76it/s]  3%|▎         | 4/128 [00:00<00:11, 10.38it/s]  5%|▍         | 6/128 [00:00<00:13,  9.15it/s]  6%|▋         | 8/128 [00:00<00:12,  9.48it/s]  8%|▊         | 10/128 [00:01<00:11, 10.02it/s]  9%|▉         | 12/128 [00:01<00:11, 10.25it/s] 11%|█         | 14/128 [00:01<00:10, 10.38it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.42it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.28it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.44it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.28it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.12it/s] 20%|██        | 26/128 [00:02<00:09, 10.22it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.12it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.35it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.05it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.96it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.16it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.28it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.88it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.17it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.35it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.44it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.26it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.92it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.78it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.11it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.29it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.08it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.28it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.15it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.20it/s] 51%|█████     | 65/128 [00:06<00:06, 10.35it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.08it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.33it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.50it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.40it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.54it/s] 60%|██████    | 77/128 [00:07<00:04, 10.24it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.09it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.03it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.30it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.53it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.65it/s] 70%|██████▉   | 89/128 [00:08<00:04,  9.69it/s] 71%|███████   | 91/128 [00:08<00:03, 10.08it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.06it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.31it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.14it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.03it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.29it/s] 80%|████████  | 103/128 [00:10<00:02, 10.46it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.62it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.75it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.53it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.54it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.34it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.38it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.23it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.44it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.94it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.30it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.46it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.21it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]
it took 3988.5923430919647 seconds for gpt2-xlto sort 50 cases with 8 ices in sst5
