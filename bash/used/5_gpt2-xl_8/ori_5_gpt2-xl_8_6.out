Repo card metadata block was not found. Setting CardData to empty.
[2024-01-18 13:30:53,374] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 263.07it/s] 43%|████▎     | 55/128 [00:00<00:00, 267.77it/s] 65%|██████▍   | 83/128 [00:00<00:00, 271.66it/s] 88%|████████▊ | 112/128 [00:00<00:00, 278.76it/s]100%|██████████| 128/128 [00:00<00:00, 273.39it/s]
[2024-01-18 13:30:53,972] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<01:02,  2.03it/s]  2%|▏         | 2/128 [00:00<00:33,  3.74it/s]  2%|▏         | 3/128 [00:00<00:24,  5.09it/s]  3%|▎         | 4/128 [00:00<00:19,  6.21it/s]  4%|▍         | 5/128 [00:00<00:17,  7.08it/s]  5%|▌         | 7/128 [00:01<00:13,  9.15it/s]  7%|▋         | 9/128 [00:01<00:12,  9.68it/s]  9%|▊         | 11/128 [00:01<00:11, 10.24it/s] 10%|█         | 13/128 [00:01<00:11, 10.16it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.15it/s] 13%|█▎        | 17/128 [00:02<00:10, 10.42it/s] 15%|█▍        | 19/128 [00:02<00:10, 10.80it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.46it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.10it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.42it/s] 21%|██        | 27/128 [00:02<00:09, 10.70it/s] 23%|██▎       | 29/128 [00:03<00:09, 10.83it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.74it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.88it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.31it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.34it/s] 30%|███       | 39/128 [00:04<00:08, 10.54it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.30it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.50it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.36it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 49/128 [00:05<00:07, 10.64it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.61it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.25it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.27it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.71it/s] 46%|████▌     | 59/128 [00:06<00:06, 10.78it/s] 48%|████▊     | 61/128 [00:06<00:05, 11.40it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.17it/s] 51%|█████     | 65/128 [00:06<00:05, 10.86it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.59it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.83it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.75it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.39it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.53it/s] 60%|██████    | 77/128 [00:07<00:04, 10.37it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.32it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.64it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.87it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.68it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.68it/s] 70%|██████▉   | 89/128 [00:08<00:03, 11.30it/s] 71%|███████   | 91/128 [00:08<00:03, 11.27it/s] 73%|███████▎  | 93/128 [00:09<00:03, 11.09it/s] 74%|███████▍  | 95/128 [00:09<00:02, 11.20it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.99it/s] 77%|███████▋  | 99/128 [00:09<00:02, 11.10it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.36it/s] 80%|████████  | 103/128 [00:10<00:02, 10.71it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.69it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.34it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.44it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.76it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.57it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.48it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.51it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.37it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.35it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.46it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.44it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.42it/s]100%|██████████| 128/128 [00:12<00:00, 10.26it/s]
[2024-01-18 13:31:06,453] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.74it/s]  2%|▏         | 2/128 [00:00<00:13,  9.03it/s]  2%|▏         | 3/128 [00:00<00:13,  9.14it/s]  3%|▎         | 4/128 [00:00<00:13,  9.12it/s]  4%|▍         | 5/128 [00:00<00:13,  9.13it/s]  5%|▌         | 7/128 [00:00<00:11, 10.72it/s]  7%|▋         | 9/128 [00:00<00:11, 10.64it/s]  9%|▊         | 11/128 [00:01<00:10, 10.66it/s] 10%|█         | 13/128 [00:01<00:11, 10.37it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.25it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.50it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.87it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.45it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.93it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.31it/s] 21%|██        | 27/128 [00:02<00:09, 10.61it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.79it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.70it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.67it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.19it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.15it/s] 30%|███       | 39/128 [00:03<00:08, 10.42it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.24it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.30it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.27it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.19it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.55it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.51it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.11it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.19it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.57it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.70it/s] 48%|████▊     | 61/128 [00:05<00:05, 11.32it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.10it/s] 51%|█████     | 65/128 [00:06<00:05, 10.68it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.51it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.75it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.70it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.34it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.40it/s] 60%|██████    | 77/128 [00:07<00:04, 10.34it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.24it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.58it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.84it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.68it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.66it/s] 70%|██████▉   | 89/128 [00:08<00:03, 11.29it/s] 71%|███████   | 91/128 [00:08<00:03, 11.22it/s] 73%|███████▎  | 93/128 [00:08<00:03, 11.02it/s] 74%|███████▍  | 95/128 [00:09<00:02, 11.15it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.98it/s] 77%|███████▋  | 99/128 [00:09<00:02, 11.11it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.34it/s] 80%|████████  | 103/128 [00:09<00:02, 10.67it/s] 82%|████████▏ | 105/128 [00:09<00:02, 10.66it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.27it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.39it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.70it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.53it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.44it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.47it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.38it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.38it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.48it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.47it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.42it/s]100%|██████████| 128/128 [00:12<00:00, 10.51it/s]
[2024-01-18 13:31:18,642] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.85it/s]  2%|▏         | 2/128 [00:00<00:13,  9.24it/s]  2%|▏         | 3/128 [00:00<00:13,  9.22it/s]  3%|▎         | 4/128 [00:00<00:13,  9.10it/s]  4%|▍         | 5/128 [00:00<00:13,  9.08it/s]  5%|▌         | 7/128 [00:00<00:11, 10.66it/s]  7%|▋         | 9/128 [00:00<00:11, 10.56it/s]  9%|▊         | 11/128 [00:01<00:10, 10.69it/s] 10%|█         | 13/128 [00:01<00:11, 10.43it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.33it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.52it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.88it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.38it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.03it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.38it/s] 21%|██        | 27/128 [00:02<00:09, 10.69it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.83it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.72it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.69it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.23it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.22it/s] 30%|███       | 39/128 [00:03<00:08, 10.46it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.24it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.29it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.29it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.22it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.56it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.48it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.06it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.11it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.52it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.63it/s] 48%|████▊     | 61/128 [00:05<00:05, 11.25it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.03it/s] 51%|█████     | 65/128 [00:06<00:05, 10.60it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.40it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.64it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.59it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.26it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.33it/s] 60%|██████    | 77/128 [00:07<00:05, 10.13it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.09it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.44it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.71it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.61it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.43it/s] 70%|██████▉   | 89/128 [00:08<00:03, 11.10it/s] 71%|███████   | 91/128 [00:08<00:03, 11.06it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.91it/s] 74%|███████▍  | 95/128 [00:09<00:02, 11.03it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.92it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.98it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.29it/s] 80%|████████  | 103/128 [00:09<00:02, 10.61it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.60it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.26it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.34it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.67it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.48it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.41it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.43it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.34it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.30it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.42it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.42it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.47it/s]
[2024-01-18 13:31:30,881] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.82it/s]  2%|▏         | 2/128 [00:00<00:13,  9.20it/s]  2%|▏         | 3/128 [00:00<00:13,  9.17it/s]  3%|▎         | 4/128 [00:00<00:13,  9.09it/s]  4%|▍         | 5/128 [00:00<00:13,  9.17it/s]  5%|▌         | 7/128 [00:00<00:11, 10.72it/s]  7%|▋         | 9/128 [00:00<00:11, 10.60it/s]  9%|▊         | 11/128 [00:01<00:11, 10.50it/s] 10%|█         | 13/128 [00:01<00:11, 10.39it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.23it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.49it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.83it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.24it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.96it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.24it/s] 21%|██        | 27/128 [00:02<00:09, 10.60it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.76it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.65it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.54it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.12it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.10it/s] 30%|███       | 39/128 [00:03<00:08, 10.35it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.15it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.13it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.17it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.07it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.42it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.41it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.94it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.03it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.38it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.57it/s] 48%|████▊     | 61/128 [00:05<00:05, 11.19it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.00it/s] 51%|█████     | 65/128 [00:06<00:05, 10.53it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.39it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.64it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.61it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.24it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.23it/s] 60%|██████    | 77/128 [00:07<00:04, 10.24it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.14it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.48it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.73it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.40it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.57it/s] 70%|██████▉   | 89/128 [00:08<00:03, 11.12it/s] 71%|███████   | 91/128 [00:08<00:03, 11.09it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.90it/s] 74%|███████▍  | 95/128 [00:09<00:02, 11.03it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.73it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.95it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.20it/s] 80%|████████  | 103/128 [00:09<00:02, 10.56it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.55it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.02it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.29it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.52it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.43it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.36it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.31it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.27it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.21it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.37it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.37it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.31it/s]100%|██████████| 128/128 [00:12<00:00, 10.39it/s]
[2024-01-18 13:31:43,205] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.28it/s]  2%|▏         | 2/128 [00:00<00:13,  9.53it/s]  2%|▏         | 3/128 [00:00<00:13,  9.24it/s]  3%|▎         | 4/128 [00:00<00:13,  9.10it/s]  4%|▍         | 5/128 [00:00<00:13,  9.19it/s]  5%|▌         | 7/128 [00:00<00:11, 10.72it/s]  7%|▋         | 9/128 [00:00<00:11, 10.56it/s]  9%|▊         | 11/128 [00:01<00:11, 10.39it/s] 10%|█         | 13/128 [00:01<00:11, 10.33it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.17it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.44it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.78it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.07it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.89it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.15it/s] 21%|██        | 27/128 [00:02<00:09, 10.56it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.71it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.38it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.51it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.02it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.09it/s] 30%|███       | 39/128 [00:03<00:08, 10.35it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.01it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.11it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.12it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.11it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.46it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.41it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.88it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.86it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.63it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.48it/s] 47%|████▋     | 60/128 [00:05<00:06, 11.10it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.86it/s] 50%|█████     | 64/128 [00:06<00:05, 10.96it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.39it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.63it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.59it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.52it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.26it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.48it/s] 61%|██████    | 78/128 [00:07<00:04, 10.36it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.33it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.64it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.68it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.54it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.07it/s] 70%|███████   | 90/128 [00:08<00:03, 11.10it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.26it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.87it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.76it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.93it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.29it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.56it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.83it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.18it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.21it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.51it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.68it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.28it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.41it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.28it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.40it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.35it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.52it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.16it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]
[2024-01-18 13:32:12,198] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 263.30it/s] 45%|████▌     | 58/128 [00:00<00:00, 287.22it/s] 68%|██████▊   | 87/128 [00:00<00:00, 273.92it/s] 91%|█████████ | 116/128 [00:00<00:00, 278.15it/s]100%|██████████| 128/128 [00:00<00:00, 275.85it/s]
[2024-01-18 13:32:12,789] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.32it/s]  3%|▎         | 4/128 [00:00<00:11, 10.64it/s]  5%|▍         | 6/128 [00:00<00:11, 10.19it/s]  6%|▋         | 8/128 [00:00<00:11, 10.72it/s]  8%|▊         | 10/128 [00:00<00:11, 10.62it/s]  9%|▉         | 12/128 [00:01<00:11, 10.47it/s] 11%|█         | 14/128 [00:01<00:10, 10.42it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.16it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.47it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.73it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.48it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.75it/s] 20%|██        | 26/128 [00:02<00:10, 10.12it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.42it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.51it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.68it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.94it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.64it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.33it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.24it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.20it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.22it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.78it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.81it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.03it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.65it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.32it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.63it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.31it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.51it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.61it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.79it/s] 51%|█████     | 65/128 [00:06<00:05, 11.41it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.73it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.62it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.82it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.35it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.39it/s] 60%|██████    | 77/128 [00:07<00:04, 10.43it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.40it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.65it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.41it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.67it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.80it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.94it/s] 71%|███████   | 91/128 [00:08<00:03, 10.63it/s] 73%|███████▎  | 93/128 [00:08<00:03, 11.18it/s] 74%|███████▍  | 95/128 [00:08<00:02, 11.22it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.93it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.99it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.58it/s] 80%|████████  | 103/128 [00:09<00:02, 10.37it/s] 82%|████████▏ | 105/128 [00:09<00:02, 10.58it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.70it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.55it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.39it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.26it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.23it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.98it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.03it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.97it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.21it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.16it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00, 10.48it/s]
[2024-01-18 13:32:25,007] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.19it/s]  3%|▎         | 4/128 [00:00<00:12, 10.22it/s]  5%|▍         | 6/128 [00:00<00:11, 10.19it/s]  6%|▋         | 8/128 [00:00<00:11, 10.54it/s]  8%|▊         | 10/128 [00:00<00:11, 10.55it/s]  9%|▉         | 12/128 [00:01<00:11, 10.41it/s] 11%|█         | 14/128 [00:01<00:11, 10.23it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.05it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.32it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.63it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.36it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.65it/s] 20%|██        | 26/128 [00:02<00:10,  9.99it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.34it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.44it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.63it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.90it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.44it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.36it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.20it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.19it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.23it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.68it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.09it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.05it/s] 41%|████      | 52/128 [00:05<00:07, 10.49it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.46it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.30it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.42it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.58it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.70it/s] 50%|█████     | 64/128 [00:06<00:05, 11.24it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.94it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.46it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.71it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.50it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.50it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.50it/s] 61%|██████    | 78/128 [00:07<00:04, 10.20it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.19it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.45it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.65it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.79it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.93it/s] 70%|███████   | 90/128 [00:08<00:03, 10.43it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.11it/s] 73%|███████▎  | 94/128 [00:08<00:03, 11.03it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.85it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.92it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.45it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.23it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.38it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.59it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.51it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.35it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.07it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.33it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.91it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.84it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.76it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.22it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.84it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.91it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.83it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]100%|██████████| 128/128 [00:12<00:00, 10.39it/s]
[2024-01-18 13:32:37,330] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.24it/s]  3%|▎         | 4/128 [00:00<00:12,  9.92it/s]  5%|▍         | 6/128 [00:00<00:11, 10.17it/s]  6%|▋         | 8/128 [00:00<00:11, 10.48it/s]  8%|▊         | 10/128 [00:00<00:11, 10.48it/s]  9%|▉         | 12/128 [00:01<00:11, 10.33it/s] 11%|█         | 14/128 [00:01<00:11, 10.05it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.03it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.25it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.65it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.44it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.63it/s] 20%|██        | 26/128 [00:02<00:10, 10.02it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.29it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.48it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.65it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.91it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.34it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.32it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.17it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.18it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.21it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.61it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.04it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.01it/s] 41%|████      | 52/128 [00:05<00:07, 10.45it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.42it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.14it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.43it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.47it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.69it/s] 50%|█████     | 64/128 [00:06<00:05, 11.24it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.80it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.48it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.68it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.53it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.50it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.50it/s] 61%|██████    | 78/128 [00:07<00:04, 10.09it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.16it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.46it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.66it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.77it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.69it/s] 70%|███████   | 90/128 [00:08<00:03, 10.49it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.06it/s] 73%|███████▎  | 94/128 [00:08<00:03, 11.04it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.84it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.90it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.27it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.19it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.36it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.59it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.50it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.11it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.14it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.29it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.99it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.83it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.98it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.97it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.93it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.95it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]
[2024-01-18 13:32:49,681] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.68it/s]  3%|▎         | 4/128 [00:00<00:12, 10.17it/s]  5%|▍         | 6/128 [00:00<00:12, 10.13it/s]  6%|▋         | 8/128 [00:00<00:11, 10.59it/s]  8%|▊         | 10/128 [00:00<00:11, 10.58it/s]  9%|▉         | 12/128 [00:01<00:11, 10.39it/s] 11%|█         | 14/128 [00:01<00:11, 10.07it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.12it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.33it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.72it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.47it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.50it/s] 20%|██        | 26/128 [00:02<00:10, 10.13it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.29it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.49it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.64it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.80it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.49it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.37it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.26it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.23it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.14it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.73it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.09it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.09it/s] 41%|████      | 52/128 [00:05<00:07, 10.52it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.38it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.27it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.49it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.64it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.80it/s] 50%|█████     | 64/128 [00:06<00:05, 11.31it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.85it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.60it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.78it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.64it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.56it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.48it/s] 61%|██████    | 78/128 [00:07<00:04, 10.05it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.11it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.37it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.60it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.74it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.62it/s] 70%|███████   | 90/128 [00:08<00:03, 10.40it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.99it/s] 73%|███████▎  | 94/128 [00:08<00:03, 11.02it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.83it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.89it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.35it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.20it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.33it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.57it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.48it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.06it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.10it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.24it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.96it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.80it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.91it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.76it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.08it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.03it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.86it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]100%|██████████| 128/128 [00:12<00:00, 10.38it/s]
[2024-01-18 13:33:02,018] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.39it/s]  3%|▎         | 4/128 [00:00<00:12, 10.12it/s]  5%|▍         | 6/128 [00:00<00:12, 10.05it/s]  6%|▋         | 8/128 [00:00<00:11, 10.58it/s]  8%|▊         | 10/128 [00:00<00:11, 10.57it/s]  9%|▉         | 12/128 [00:01<00:11, 10.30it/s] 11%|█         | 14/128 [00:01<00:11, 10.03it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.06it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.31it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.69it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.44it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.37it/s] 20%|██        | 26/128 [00:02<00:10, 10.05it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.25it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.49it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.66it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.70it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.43it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.29it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.25it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.22it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.09it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.64it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.94it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.01it/s] 41%|████      | 52/128 [00:05<00:07, 10.46it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.35it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.12it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.38it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.50it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.69it/s] 50%|█████     | 64/128 [00:06<00:05, 11.22it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.68it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.44it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.54it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.50it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.44it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.31it/s] 61%|██████    | 78/128 [00:07<00:04, 10.09it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.11it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.44it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.65it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.75it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.63it/s] 70%|███████   | 90/128 [00:08<00:03, 10.51it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.05it/s] 73%|███████▎  | 94/128 [00:09<00:03, 11.11it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.88it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.81it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.39it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.16it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.41it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.62it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.45it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.14it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.13it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.32it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.00it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.74it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.77it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.90it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.09it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.10it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.08it/s]100%|██████████| 128/128 [00:12<00:00, 10.35it/s]
[2024-01-18 13:33:31,184] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 22%|██▏       | 28/128 [00:00<00:00, 277.42it/s] 44%|████▍     | 56/128 [00:00<00:00, 271.24it/s] 66%|██████▌   | 84/128 [00:00<00:00, 274.91it/s] 88%|████████▊ | 113/128 [00:00<00:00, 273.35it/s]100%|██████████| 128/128 [00:00<00:00, 273.66it/s]
[2024-01-18 13:33:31,779] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.13it/s]  3%|▎         | 4/128 [00:00<00:12, 10.09it/s]  5%|▍         | 6/128 [00:00<00:12,  9.92it/s]  6%|▋         | 8/128 [00:00<00:11, 10.84it/s]  8%|▊         | 10/128 [00:00<00:11, 10.61it/s]  9%|▉         | 12/128 [00:01<00:10, 10.77it/s] 11%|█         | 14/128 [00:01<00:10, 10.56it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.47it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.36it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.67it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.05it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.12it/s] 20%|██        | 26/128 [00:02<00:09, 10.41it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.28it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.54it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.09it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.72it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.38it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.08it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.84it/s] 32%|███▏      | 41/128 [00:03<00:08,  9.73it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.88it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.91it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.60it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.44it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.38it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.25it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.96it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.25it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.27it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.53it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.64it/s] 51%|█████     | 65/128 [00:06<00:05, 10.89it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.40it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.87it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.50it/s] 57%|█████▋    | 73/128 [00:07<00:04, 11.12it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.42it/s] 60%|██████    | 77/128 [00:07<00:04, 10.35it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.05it/s] 63%|██████▎   | 81/128 [00:07<00:04,  9.89it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.22it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.15it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.52it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.66it/s] 71%|███████   | 91/128 [00:08<00:03, 10.50it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.43it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.47it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.73it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.83it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.42it/s] 80%|████████  | 103/128 [00:09<00:02, 10.62it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.18it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.47it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.75it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.83it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.86it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.56it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.36it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.54it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.57it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.26it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.18it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.08it/s]100%|██████████| 128/128 [00:12<00:00, 10.39it/s]
[2024-01-18 13:33:44,109] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.15it/s]  3%|▎         | 4/128 [00:00<00:12,  9.77it/s]  5%|▍         | 6/128 [00:00<00:12,  9.89it/s]  6%|▋         | 8/128 [00:00<00:11, 10.78it/s]  8%|▊         | 10/128 [00:00<00:11, 10.59it/s]  9%|▉         | 12/128 [00:01<00:10, 10.81it/s] 11%|█         | 14/128 [00:01<00:10, 10.52it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.18it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.44it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.63it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.16it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.19it/s] 20%|██        | 26/128 [00:02<00:10, 10.14it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.36it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.48it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.16it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.78it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.17it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.06it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.75it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.72it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.94it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.96it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.87it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.56it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.69it/s] 41%|████      | 52/128 [00:05<00:07, 10.45it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.17it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.03it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.01it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.35it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.43it/s] 50%|█████     | 64/128 [00:06<00:05, 10.75it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.66it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.20it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.49it/s] 56%|█████▋    | 72/128 [00:06<00:05, 11.00it/s] 58%|█████▊    | 74/128 [00:07<00:04, 10.81it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.33it/s] 61%|██████    | 78/128 [00:07<00:04, 10.11it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.03it/s] 64%|██████▍   | 82/128 [00:07<00:04,  9.94it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.07it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.35it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.58it/s] 70%|███████   | 90/128 [00:08<00:03, 10.45it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.36it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.50it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.65it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.84it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.54it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.50it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.42it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.30it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.65it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.82it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.73it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.89it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.29it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.46it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.58it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.40it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.33it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00, 10.12it/s]100%|██████████| 128/128 [00:12<00:00, 10.35it/s]
[2024-01-18 13:33:56,483] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.11it/s]  3%|▎         | 4/128 [00:00<00:13,  9.51it/s]  5%|▍         | 6/128 [00:00<00:12,  9.73it/s]  6%|▋         | 8/128 [00:00<00:11, 10.58it/s]  8%|▊         | 10/128 [00:00<00:11, 10.48it/s]  9%|▉         | 12/128 [00:01<00:10, 10.74it/s] 11%|█         | 14/128 [00:01<00:11, 10.36it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.21it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.40it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.67it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.17it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.17it/s] 20%|██        | 26/128 [00:02<00:10, 10.18it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.37it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.56it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.19it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.80it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.22it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.14it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.83it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.78it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.98it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.89it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.86it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.62it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.67it/s] 41%|████      | 52/128 [00:05<00:07, 10.51it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.21it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.89it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.15it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.39it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.56it/s] 50%|█████     | 64/128 [00:06<00:05, 10.85it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.67it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.20it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.56it/s] 56%|█████▋    | 72/128 [00:06<00:05, 11.06it/s] 58%|█████▊    | 74/128 [00:07<00:04, 10.89it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.36it/s] 61%|██████    | 78/128 [00:07<00:04, 10.05it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.09it/s] 64%|██████▍   | 82/128 [00:07<00:04,  9.99it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.12it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.41it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.38it/s] 70%|███████   | 90/128 [00:08<00:03, 10.54it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.32it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.56it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.70it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.77it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.40it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.53it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.45it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.35it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.67it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.56it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.83it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.83it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.33it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.49it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.36it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.44it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.24it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.14it/s]100%|██████████| 128/128 [00:12<00:00, 10.15it/s]100%|██████████| 128/128 [00:12<00:00, 10.35it/s]
[2024-01-18 13:34:08,853] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.41it/s]  3%|▎         | 4/128 [00:00<00:12,  9.61it/s]  5%|▍         | 6/128 [00:00<00:12,  9.76it/s]  6%|▋         | 8/128 [00:00<00:11, 10.77it/s]  8%|▊         | 10/128 [00:00<00:11, 10.62it/s]  9%|▉         | 12/128 [00:01<00:10, 10.71it/s] 11%|█         | 14/128 [00:01<00:11, 10.26it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.18it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.42it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.71it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.16it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.93it/s] 20%|██        | 26/128 [00:02<00:09, 10.21it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.33it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.57it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.18it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.46it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.14it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.00it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.82it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.76it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.83it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.83it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.58it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.47it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.50it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.40it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.33it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.63it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.01it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.20it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.47it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.70it/s] 51%|█████     | 65/128 [00:06<00:05, 10.72it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.16it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.70it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.54it/s] 57%|█████▋    | 73/128 [00:07<00:04, 11.15it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.45it/s] 60%|██████    | 77/128 [00:07<00:05, 10.10it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.85it/s] 63%|██████▎   | 81/128 [00:07<00:04,  9.89it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.24it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.16it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.28it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.46it/s] 71%|███████   | 91/128 [00:08<00:03, 10.49it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.45it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.59it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.54it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.53it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.28it/s] 80%|████████  | 103/128 [00:10<00:02, 10.58it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.23it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.29it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.48it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.61it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.83it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.55it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.39it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.20it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.35it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.17it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.10it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.08it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 13:34:21,317] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.70it/s]  3%|▎         | 4/128 [00:00<00:12,  9.65it/s]  5%|▍         | 6/128 [00:00<00:12,  9.91it/s]  6%|▋         | 8/128 [00:00<00:11, 10.89it/s]  8%|▊         | 10/128 [00:00<00:11, 10.55it/s]  9%|▉         | 12/128 [00:01<00:11, 10.45it/s] 11%|█         | 14/128 [00:01<00:11, 10.29it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.17it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.44it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.69it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.94it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.99it/s] 20%|██        | 26/128 [00:02<00:10, 10.19it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.40it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.59it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.06it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.61it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.19it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.11it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.88it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.70it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.80it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.77it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.44it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.59it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.47it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.24it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.83it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.06it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.29it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.54it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.61it/s] 51%|█████     | 65/128 [00:06<00:05, 10.74it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.21it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.78it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.61it/s] 57%|█████▋    | 73/128 [00:07<00:04, 11.20it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.27it/s] 60%|██████    | 77/128 [00:07<00:04, 10.20it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.88it/s] 63%|██████▎   | 81/128 [00:07<00:04,  9.94it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.26it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.98it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.36it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.41it/s] 71%|███████   | 91/128 [00:08<00:03, 10.54it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.48it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.39it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.56it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.59it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.42it/s] 80%|████████  | 103/128 [00:09<00:02, 10.69it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.17it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.26it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.54it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.67it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.92it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.59it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.15it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.34it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.34it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.29it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.18it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.90it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 13:34:49,864] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 24%|██▍       | 31/128 [00:00<00:00, 300.72it/s] 50%|█████     | 64/128 [00:00<00:00, 317.05it/s] 75%|███████▌  | 96/128 [00:00<00:00, 308.45it/s] 99%|█████████▉| 127/128 [00:00<00:00, 305.29it/s]100%|██████████| 128/128 [00:00<00:00, 307.49it/s]
[2024-01-18 13:34:50,407] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.55it/s]  2%|▏         | 2/128 [00:00<00:14,  8.87it/s]  3%|▎         | 4/128 [00:00<00:12,  9.55it/s]  5%|▍         | 6/128 [00:00<00:12,  9.72it/s]  6%|▋         | 8/128 [00:00<00:11, 10.27it/s]  8%|▊         | 10/128 [00:01<00:11, 10.20it/s]  9%|▉         | 12/128 [00:01<00:10, 11.11it/s] 11%|█         | 14/128 [00:01<00:10, 10.44it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.33it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.61it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.78it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.62it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.68it/s] 20%|██        | 26/128 [00:02<00:10, 10.15it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.39it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.61it/s] 25%|██▌       | 32/128 [00:03<00:08, 11.12it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.56it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.69it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.45it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.35it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.30it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.92it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.92it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.77it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.86it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.27it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.29it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.09it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.30it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.29it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.54it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.81it/s] 51%|█████     | 65/128 [00:06<00:06, 10.41it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.22it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.38it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.03it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.75it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.38it/s] 60%|██████    | 77/128 [00:07<00:05, 10.01it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.24it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.45it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.66it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.17it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.31it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.29it/s] 71%|███████   | 91/128 [00:08<00:03, 10.30it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.36it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.23it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.08it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.42it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.30it/s] 80%|████████  | 103/128 [00:09<00:02, 10.35it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.30it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.05it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.09it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.99it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.76it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.92it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.55it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.59it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.46it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.53it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.65it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.26it/s]100%|██████████| 128/128 [00:12<00:00, 10.35it/s]
[2024-01-18 13:35:02,779] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  9.02it/s]  2%|▏         | 2/128 [00:00<00:13,  9.38it/s]  3%|▎         | 4/128 [00:00<00:12,  9.57it/s]  5%|▍         | 6/128 [00:00<00:12,  9.85it/s]  6%|▋         | 8/128 [00:00<00:11, 10.36it/s]  8%|▊         | 10/128 [00:01<00:11,  9.98it/s]  9%|▉         | 12/128 [00:01<00:10, 11.07it/s] 11%|█         | 14/128 [00:01<00:10, 10.41it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.39it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.68it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.79it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.57it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.75it/s] 20%|██        | 26/128 [00:02<00:10, 10.17it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.41it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.62it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.90it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.52it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.59it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.44it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.34it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.08it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.89it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.85it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.76it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.86it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.27it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.26it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.11it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.27it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.30it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.55it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.73it/s] 51%|█████     | 65/128 [00:06<00:06, 10.32it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.19it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.43it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.07it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.76it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.29it/s] 60%|██████    | 77/128 [00:07<00:05, 10.02it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.22it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.46it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.67it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.07it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.33it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.22it/s] 71%|███████   | 91/128 [00:08<00:03, 10.24it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.34it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.15it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.99it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.27it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.20it/s] 80%|████████  | 103/128 [00:09<00:02, 10.30it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.24it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.98it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.04it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.00it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.76it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.92it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.42it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.66it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.39it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.60it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.69it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.14it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]
[2024-01-18 13:35:15,179] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.53it/s]  2%|▏         | 2/128 [00:00<00:13,  9.50it/s]  3%|▎         | 4/128 [00:00<00:12,  9.62it/s]  5%|▍         | 6/128 [00:00<00:12,  9.87it/s]  6%|▋         | 8/128 [00:00<00:11, 10.34it/s]  8%|▊         | 10/128 [00:01<00:11,  9.92it/s]  9%|▉         | 12/128 [00:01<00:10, 11.11it/s] 11%|█         | 14/128 [00:01<00:11, 10.34it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.35it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.63it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.62it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.47it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.56it/s] 20%|██        | 26/128 [00:02<00:10, 10.10it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.34it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.55it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.77it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.53it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.55it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.42it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.27it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.02it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.96it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.84it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.78it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.86it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.26it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.12it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.03it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.21it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.51it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.51it/s] 51%|█████     | 65/128 [00:06<00:06, 10.28it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.08it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.38it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.02it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.69it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.22it/s] 60%|██████    | 77/128 [00:07<00:05,  9.95it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.20it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.41it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.61it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.94it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.27it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.17it/s] 71%|███████   | 91/128 [00:08<00:03, 10.23it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.32it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.98it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.02it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.25it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.23it/s] 80%|████████  | 103/128 [00:10<00:02, 10.28it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.03it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.01it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.00it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.02it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.75it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.78it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.44it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.66it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.40it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.62it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.65it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.08it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]
[2024-01-18 13:35:27,629] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.40it/s]  2%|▏         | 2/128 [00:00<00:13,  9.41it/s]  3%|▎         | 4/128 [00:00<00:12,  9.72it/s]  5%|▍         | 6/128 [00:00<00:12,  9.91it/s]  6%|▋         | 8/128 [00:00<00:11, 10.21it/s]  8%|▊         | 10/128 [00:01<00:11, 10.02it/s]  9%|▉         | 12/128 [00:01<00:10, 11.18it/s] 11%|█         | 14/128 [00:01<00:10, 10.46it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.43it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.61it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.52it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.61it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.67it/s] 20%|██        | 26/128 [00:02<00:09, 10.23it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.43it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.34it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.93it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.55it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.66it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.50it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.10it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.07it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.96it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.93it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.86it/s] 38%|███▊      | 49/128 [00:04<00:07,  9.90it/s] 40%|███▉      | 51/128 [00:04<00:07,  9.99it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.26it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.11it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.37it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.36it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.32it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.60it/s] 51%|█████     | 65/128 [00:06<00:06, 10.33it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.20it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.49it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.06it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.45it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.31it/s] 60%|██████    | 77/128 [00:07<00:05,  9.95it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.27it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.46it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.33it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.02it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.22it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.26it/s] 71%|███████   | 91/128 [00:08<00:03, 10.29it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.02it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.07it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.95it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.32it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.28it/s] 80%|████████  | 103/128 [00:10<00:02, 10.08it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.00it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.92it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.02it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.04it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.55it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.59it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.38it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.58it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.48it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.65it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.34it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.05it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 13:35:40,089] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.52it/s]  2%|▏         | 2/128 [00:00<00:13,  9.49it/s]  3%|▎         | 4/128 [00:00<00:12,  9.81it/s]  5%|▍         | 6/128 [00:00<00:12,  9.63it/s]  6%|▋         | 8/128 [00:00<00:11, 10.04it/s]  8%|▊         | 10/128 [00:01<00:11,  9.91it/s]  9%|▉         | 12/128 [00:01<00:10, 11.12it/s] 11%|█         | 14/128 [00:01<00:10, 10.48it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.36it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.32it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.52it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.51it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.69it/s] 20%|██        | 26/128 [00:02<00:09, 10.21it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.11it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.34it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.79it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.56it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.71it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.34it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.13it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.04it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.02it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.00it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.88it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.61it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.09it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.24it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.17it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.43it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.15it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.36it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.54it/s] 51%|█████     | 65/128 [00:06<00:06, 10.40it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.26it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.36it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.87it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.53it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.37it/s] 60%|██████    | 77/128 [00:07<00:05, 10.08it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.23it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.26it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.46it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.06it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.36it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.33it/s] 71%|███████   | 91/128 [00:08<00:03, 10.08it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.16it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.08it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.09it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.41it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.05it/s] 80%|████████  | 103/128 [00:10<00:02, 10.15it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.05it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.06it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.11it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.84it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.61it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.67it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.49it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.73it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.38it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.50it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.47it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.11it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 13:36:08,788] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 19%|█▉        | 24/128 [00:00<00:00, 239.05it/s] 40%|███▉      | 51/128 [00:00<00:00, 253.66it/s] 60%|██████    | 77/128 [00:00<00:00, 242.10it/s] 80%|███████▉  | 102/128 [00:00<00:00, 244.25it/s] 99%|█████████▉| 127/128 [00:00<00:00, 243.85it/s]100%|██████████| 128/128 [00:00<00:00, 245.35it/s]
[2024-01-18 13:36:09,437] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.25it/s]  3%|▎         | 4/128 [00:00<00:12,  9.59it/s]  5%|▍         | 6/128 [00:00<00:11, 10.20it/s]  6%|▋         | 8/128 [00:00<00:11, 10.58it/s]  8%|▊         | 10/128 [00:00<00:10, 10.86it/s]  9%|▉         | 12/128 [00:01<00:10, 11.09it/s] 11%|█         | 14/128 [00:01<00:11,  9.97it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.62it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.72it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.89it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.66it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.05it/s] 20%|██        | 26/128 [00:02<00:10,  9.77it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.99it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.61it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.52it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.34it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.14it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.36it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.83it/s] 33%|███▎      | 42/128 [00:03<00:07, 11.30it/s] 34%|███▍      | 44/128 [00:04<00:07, 11.01it/s] 36%|███▌      | 46/128 [00:04<00:07, 11.12it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.56it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.67it/s] 41%|████      | 52/128 [00:04<00:07, 10.82it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.86it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.85it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.67it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.70it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.84it/s] 50%|█████     | 64/128 [00:06<00:05, 11.03it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.74it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.54it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.77it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.79it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.93it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.72it/s] 61%|██████    | 78/128 [00:07<00:04, 10.73it/s] 62%|██████▎   | 80/128 [00:07<00:04, 11.09it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.13it/s] 66%|██████▌   | 84/128 [00:07<00:03, 11.02it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.80it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.92it/s] 70%|███████   | 90/128 [00:08<00:03,  9.84it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.29it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.46it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.37it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.57it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.24it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.46it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.62it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.50it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.75it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.80it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.66it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.74it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.39it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.63it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.81it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.51it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.70it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.34it/s]100%|██████████| 128/128 [00:12<00:00, 10.59it/s]
[2024-01-18 13:36:21,537] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.19it/s]  3%|▎         | 4/128 [00:00<00:12,  9.72it/s]  5%|▍         | 6/128 [00:00<00:12, 10.12it/s]  6%|▋         | 8/128 [00:00<00:11, 10.53it/s]  8%|▊         | 10/128 [00:00<00:10, 10.80it/s]  9%|▉         | 12/128 [00:01<00:10, 11.05it/s] 11%|█         | 14/128 [00:01<00:11, 10.07it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.45it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.63it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.70it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.51it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.12it/s] 20%|██        | 26/128 [00:02<00:10,  9.56it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.95it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.45it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.37it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.34it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.12it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.30it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.80it/s] 33%|███▎      | 42/128 [00:04<00:07, 11.21it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.92it/s] 36%|███▌      | 46/128 [00:04<00:07, 11.36it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.41it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.67it/s] 41%|████      | 52/128 [00:04<00:07, 10.68it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.75it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.84it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.65it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.60it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.76it/s] 50%|█████     | 64/128 [00:06<00:05, 10.91it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.68it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.75it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.80it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.87it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.94it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.67it/s] 61%|██████    | 78/128 [00:07<00:04, 10.84it/s] 62%|██████▎   | 80/128 [00:07<00:04, 11.22it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.09it/s] 66%|██████▌   | 84/128 [00:07<00:03, 11.05it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.77it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.92it/s] 70%|███████   | 90/128 [00:08<00:03,  9.98it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.24it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.31it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.56it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.50it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.41it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.67it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.43it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.70it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.80it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.84it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.66it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.41it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.56it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.74it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.77it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.65it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.42it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]100%|██████████| 128/128 [00:12<00:00, 10.56it/s]
[2024-01-18 13:36:33,662] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.10it/s]  3%|▎         | 4/128 [00:00<00:12, 10.07it/s]  5%|▍         | 6/128 [00:00<00:12, 10.10it/s]  6%|▋         | 8/128 [00:00<00:11, 10.58it/s]  8%|▊         | 10/128 [00:00<00:11, 10.72it/s]  9%|▉         | 12/128 [00:01<00:10, 10.95it/s] 11%|█         | 14/128 [00:01<00:11, 10.08it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.60it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.54it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.72it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.42it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.04it/s] 20%|██        | 26/128 [00:02<00:10,  9.74it/s] 21%|██        | 27/128 [00:02<00:10,  9.69it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.35it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.41it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.30it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.06it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.26it/s] 30%|███       | 39/128 [00:03<00:08, 10.16it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.78it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.85it/s] 35%|███▌      | 45/128 [00:04<00:07, 11.33it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.98it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.57it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.63it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.65it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.68it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.83it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.83it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.24it/s] 49%|████▉     | 63/128 [00:05<00:05, 10.91it/s] 51%|█████     | 65/128 [00:06<00:05, 10.80it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.61it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.76it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.70it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.74it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.73it/s] 60%|██████    | 77/128 [00:07<00:04, 10.49it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.68it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.17it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.90it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.63it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.41it/s] 70%|██████▉   | 89/128 [00:08<00:04,  9.68it/s] 71%|███████   | 91/128 [00:08<00:03, 10.15it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.25it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.40it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.18it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.46it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.38it/s] 80%|████████  | 103/128 [00:09<00:02, 10.50it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.26it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.51it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.57it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.77it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.90it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.61it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.41it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.55it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.66it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.79it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.49it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.22it/s]100%|██████████| 128/128 [00:12<00:00, 10.51it/s]
[2024-01-18 13:36:45,854] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.68it/s]  3%|▎         | 4/128 [00:00<00:12,  9.94it/s]  5%|▍         | 6/128 [00:00<00:11, 10.43it/s]  6%|▋         | 8/128 [00:00<00:11, 10.58it/s]  8%|▊         | 10/128 [00:00<00:10, 10.77it/s]  9%|▉         | 12/128 [00:01<00:10, 10.80it/s] 11%|█         | 14/128 [00:01<00:11,  9.95it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.64it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.73it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.54it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.34it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.90it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.82it/s] 20%|██        | 26/128 [00:02<00:10,  9.73it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.08it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.35it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.30it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.12it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.15it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.40it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.65it/s] 33%|███▎      | 42/128 [00:04<00:07, 10.98it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.66it/s] 36%|███▌      | 46/128 [00:04<00:07, 11.12it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.59it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.77it/s] 41%|████      | 52/128 [00:04<00:07, 10.55it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.63it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.65it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.75it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.77it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.69it/s] 50%|█████     | 64/128 [00:06<00:05, 10.80it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.48it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.59it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.82it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.93it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.65it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.49it/s] 61%|██████    | 78/128 [00:07<00:04, 10.60it/s] 62%|██████▎   | 80/128 [00:07<00:04, 11.12it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.17it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.91it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.58it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.67it/s] 70%|██████▉   | 89/128 [00:08<00:04,  9.65it/s] 71%|███████   | 91/128 [00:08<00:03, 10.17it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.54it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.32it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.23it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.37it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.32it/s] 80%|████████  | 103/128 [00:09<00:02, 10.62it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.38it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.47it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.55it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.68it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.80it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.84it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.19it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.51it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.49it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.65it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.53it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.27it/s]100%|██████████| 128/128 [00:12<00:00, 10.49it/s]
[2024-01-18 13:36:58,066] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.05it/s]  3%|▎         | 4/128 [00:00<00:12,  9.93it/s]  5%|▍         | 6/128 [00:00<00:11, 10.40it/s]  6%|▋         | 8/128 [00:00<00:11, 10.83it/s]  8%|▊         | 10/128 [00:00<00:10, 10.82it/s]  9%|▉         | 12/128 [00:01<00:10, 10.90it/s] 11%|█         | 14/128 [00:01<00:11,  9.99it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.65it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.81it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.83it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.43it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.98it/s] 20%|██        | 26/128 [00:02<00:10,  9.74it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.04it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.59it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.22it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.16it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.14it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.38it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.90it/s] 33%|███▎      | 42/128 [00:03<00:07, 11.03it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.76it/s] 36%|███▌      | 46/128 [00:04<00:07, 11.12it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.58it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.79it/s] 41%|████      | 52/128 [00:04<00:07, 10.73it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.61it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.65it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.72it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.72it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.89it/s] 50%|█████     | 64/128 [00:06<00:05, 10.78it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.50it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.54it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.75it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.91it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.88it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.45it/s] 61%|██████    | 78/128 [00:07<00:04, 10.61it/s] 62%|██████▎   | 80/128 [00:07<00:04, 11.08it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.14it/s] 66%|██████▌   | 84/128 [00:07<00:03, 11.10it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.54it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.73it/s] 70%|██████▉   | 89/128 [00:08<00:04,  9.63it/s] 71%|███████   | 91/128 [00:08<00:03, 10.16it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.54it/s] 74%|███████▍  | 95/128 [00:08<00:03, 10.55it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.24it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.28it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.20it/s] 80%|████████  | 103/128 [00:09<00:02, 10.54it/s] 82%|████████▏ | 105/128 [00:09<00:02, 10.47it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.43it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.59it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.70it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.84it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.88it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.20it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.48it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.50it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.66it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.57it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.25it/s]100%|██████████| 128/128 [00:12<00:00, 10.53it/s]
[2024-01-18 13:37:26,347] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 28%|██▊       | 36/128 [00:00<00:00, 352.61it/s] 56%|█████▋    | 72/128 [00:00<00:00, 344.40it/s] 84%|████████▍ | 108/128 [00:00<00:00, 349.24it/s]100%|██████████| 128/128 [00:00<00:00, 354.45it/s]
[2024-01-18 13:37:26,836] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.90it/s]  2%|▏         | 3/128 [00:00<00:14,  8.67it/s]  3%|▎         | 4/128 [00:00<00:14,  8.66it/s]  4%|▍         | 5/128 [00:00<00:13,  8.93it/s]  5%|▍         | 6/128 [00:00<00:13,  8.91it/s]  5%|▌         | 7/128 [00:00<00:13,  8.91it/s]  7%|▋         | 9/128 [00:00<00:12,  9.80it/s]  9%|▊         | 11/128 [00:01<00:10, 10.76it/s] 10%|█         | 13/128 [00:01<00:11, 10.17it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.38it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.46it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.35it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.37it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.85it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.08it/s] 21%|██        | 27/128 [00:02<00:10,  9.94it/s] 23%|██▎       | 29/128 [00:02<00:09,  9.99it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.23it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.60it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.32it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.20it/s] 30%|███       | 39/128 [00:03<00:09,  9.85it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.90it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.58it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.29it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.92it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.21it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.15it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.16it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.22it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.14it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.33it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.28it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.25it/s] 51%|█████     | 65/128 [00:06<00:06, 10.00it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.00it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.06it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.86it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.18it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.34it/s] 60%|██████    | 77/128 [00:07<00:04, 10.46it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.38it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.05it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.27it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.14it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.45it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.35it/s] 71%|███████   | 91/128 [00:08<00:03, 10.28it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.21it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.96it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.90it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.63it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.62it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.70it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.65it/s] 80%|████████  | 103/128 [00:10<00:02, 10.12it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.01it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.78it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.07it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.22it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.52it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.84it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.88it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.78it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.65it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.39it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.09it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]
[2024-01-18 13:37:39,495] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.92it/s]  2%|▏         | 3/128 [00:00<00:13,  8.99it/s]  3%|▎         | 4/128 [00:00<00:13,  9.02it/s]  4%|▍         | 5/128 [00:00<00:13,  9.15it/s]  5%|▍         | 6/128 [00:00<00:13,  9.19it/s]  5%|▌         | 7/128 [00:00<00:13,  9.19it/s]  7%|▋         | 9/128 [00:00<00:12,  9.70it/s]  9%|▊         | 11/128 [00:01<00:11, 10.59it/s] 10%|█         | 13/128 [00:01<00:11, 10.25it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.56it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.70it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.47it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.18it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.86it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.23it/s] 21%|██        | 27/128 [00:02<00:09, 10.13it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.14it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.10it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.50it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.32it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.29it/s] 30%|███       | 39/128 [00:03<00:08,  9.92it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.87it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.64it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.55it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.27it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.92it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.27it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.93it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.98it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.10it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.12it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.36it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.03it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.00it/s] 51%|█████     | 65/128 [00:06<00:06,  9.93it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.98it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.09it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.64it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.96it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.17it/s] 60%|██████    | 77/128 [00:07<00:04, 10.39it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.37it/s] 63%|██████▎   | 81/128 [00:08<00:04,  9.84it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.00it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.95it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.39it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.33it/s] 71%|███████   | 91/128 [00:09<00:03, 10.22it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.02it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.73it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.73it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.68it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.83it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.54it/s] 80%|████████  | 103/128 [00:10<00:02,  9.89it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.80it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.79it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.12it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.33it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.31it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.62it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.59it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.84it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.71it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.35it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.87it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.79it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.07it/s]100%|██████████| 128/128 [00:12<00:00, 10.09it/s]
[2024-01-18 13:37:52,196] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.94it/s]  2%|▏         | 3/128 [00:00<00:13,  9.19it/s]  3%|▎         | 4/128 [00:00<00:14,  8.73it/s]  4%|▍         | 5/128 [00:00<00:14,  8.74it/s]  5%|▍         | 6/128 [00:00<00:13,  8.91it/s]  5%|▌         | 7/128 [00:00<00:13,  8.87it/s]  7%|▋         | 9/128 [00:00<00:12,  9.73it/s]  9%|▊         | 11/128 [00:01<00:10, 10.68it/s] 10%|█         | 13/128 [00:01<00:11, 10.41it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.42it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.48it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.24it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.24it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.94it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.12it/s] 21%|██        | 27/128 [00:02<00:10,  9.93it/s] 23%|██▎       | 29/128 [00:02<00:09,  9.91it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.19it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.53it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.33it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.06it/s] 30%|███       | 39/128 [00:03<00:09,  9.73it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.78it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.48it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.34it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.69it/s] 38%|███▊      | 49/128 [00:04<00:07,  9.99it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.95it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.00it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.23it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.94it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.20it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.09it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.10it/s] 51%|█████     | 65/128 [00:06<00:06, 10.07it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.81it/s] 54%|█████▍    | 69/128 [00:06<00:05,  9.94it/s] 55%|█████▍    | 70/128 [00:07<00:05,  9.69it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.66it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.08it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.42it/s] 60%|██████    | 77/128 [00:07<00:04, 10.27it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.28it/s] 63%|██████▎   | 81/128 [00:08<00:04,  9.87it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.11it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.14it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.31it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.20it/s] 71%|███████   | 91/128 [00:09<00:03, 10.14it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.09it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.87it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.73it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.60it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.75it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.66it/s] 80%|████████  | 103/128 [00:10<00:02, 10.05it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.95it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.98it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.02it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.23it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.43it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.75it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.84it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.83it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.56it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.32it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.01it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.04it/s]100%|██████████| 128/128 [00:12<00:00, 10.26it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]
[2024-01-18 13:38:04,916] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.64it/s]  2%|▏         | 3/128 [00:00<00:14,  8.86it/s]  3%|▎         | 4/128 [00:00<00:13,  8.86it/s]  4%|▍         | 5/128 [00:00<00:13,  9.02it/s]  5%|▍         | 6/128 [00:00<00:13,  9.03it/s]  5%|▌         | 7/128 [00:00<00:13,  9.03it/s]  7%|▋         | 9/128 [00:00<00:12,  9.80it/s]  9%|▊         | 11/128 [00:01<00:11, 10.52it/s] 10%|█         | 13/128 [00:01<00:11, 10.28it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.55it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.66it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.49it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.20it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.89it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.22it/s] 21%|██        | 27/128 [00:02<00:10, 10.10it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.13it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.09it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.44it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.26it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.23it/s] 30%|███       | 39/128 [00:03<00:09,  9.89it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.70it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.40it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.16it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.87it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.19it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.93it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.94it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.07it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.10it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.34it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.06it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.00it/s] 51%|█████     | 65/128 [00:06<00:06,  9.92it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.95it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.07it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.62it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.94it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.18it/s] 60%|██████    | 77/128 [00:07<00:04, 10.35it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.34it/s] 63%|██████▎   | 81/128 [00:08<00:04,  9.95it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.95it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.84it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.54it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.41it/s] 70%|███████   | 90/128 [00:08<00:03, 10.08it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.98it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.88it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.77it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.68it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.63it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.83it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.74it/s] 80%|████████  | 103/128 [00:10<00:02,  9.83it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.74it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.77it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.08it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.30it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.56it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.54it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.68it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.78it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.67it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.46it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.86it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.77it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]
[2024-01-18 13:38:17,638] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.90it/s]  2%|▏         | 3/128 [00:00<00:13,  9.17it/s]  3%|▎         | 4/128 [00:00<00:13,  9.11it/s]  4%|▍         | 5/128 [00:00<00:13,  8.84it/s]  5%|▍         | 6/128 [00:00<00:13,  8.76it/s]  5%|▌         | 7/128 [00:00<00:13,  8.87it/s]  7%|▋         | 9/128 [00:00<00:12,  9.67it/s]  9%|▊         | 11/128 [00:01<00:11, 10.62it/s] 10%|█         | 13/128 [00:01<00:11, 10.38it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.63it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.41it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.23it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.17it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.89it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.29it/s] 21%|██        | 27/128 [00:02<00:10,  9.81it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.87it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.08it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.43it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.36it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.98it/s] 30%|███       | 39/128 [00:03<00:09,  9.71it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.68it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.39it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.29it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.64it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.01it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.93it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.99it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.21it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.93it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.15it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.01it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.03it/s] 51%|█████     | 65/128 [00:06<00:06, 10.02it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.82it/s] 54%|█████▍    | 69/128 [00:06<00:05,  9.89it/s] 55%|█████▍    | 70/128 [00:07<00:05,  9.73it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.56it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.00it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.36it/s] 60%|██████    | 77/128 [00:07<00:04, 10.39it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.15it/s] 63%|██████▎   | 81/128 [00:08<00:04,  9.80it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.03it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.06it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.45it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.10it/s] 71%|███████   | 91/128 [00:09<00:03, 10.15it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.96it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.86it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.73it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.68it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.39it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.64it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.49it/s] 80%|████████  | 103/128 [00:10<00:02,  9.95it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.87it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.94it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.88it/s] 86%|████████▌ | 110/128 [00:11<00:01, 10.12it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.31it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.65it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.77it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.87it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.46it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.26it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.92it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.84it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.23it/s]100%|██████████| 128/128 [00:12<00:00, 10.03it/s]
[2024-01-18 13:38:46,671] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|██        | 26/128 [00:00<00:00, 258.30it/s] 41%|████▏     | 53/128 [00:00<00:00, 262.98it/s] 62%|██████▎   | 80/128 [00:00<00:00, 263.35it/s] 84%|████████▎ | 107/128 [00:00<00:00, 255.51it/s]100%|██████████| 128/128 [00:00<00:00, 252.66it/s]
[2024-01-18 13:38:47,320] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.99it/s]  3%|▎         | 4/128 [00:00<00:11, 10.69it/s]  5%|▍         | 6/128 [00:00<00:11, 10.49it/s]  6%|▋         | 8/128 [00:00<00:10, 11.30it/s]  8%|▊         | 10/128 [00:00<00:11, 10.72it/s]  9%|▉         | 12/128 [00:01<00:11, 10.37it/s] 11%|█         | 14/128 [00:01<00:11,  9.88it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.79it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.74it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.27it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.29it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.90it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.97it/s] 20%|██        | 26/128 [00:02<00:10, 10.09it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.20it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.12it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.21it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.92it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.94it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.86it/s] 30%|███       | 39/128 [00:03<00:08,  9.93it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.61it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.32it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.64it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.07it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.16it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.18it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.93it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.06it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.99it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.24it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.23it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.30it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.14it/s] 51%|█████     | 65/128 [00:06<00:06, 10.00it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.08it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.34it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.13it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.13it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.34it/s] 60%|██████    | 77/128 [00:07<00:04, 10.43it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.62it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.80it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.52it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.44it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.52it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.40it/s] 71%|███████   | 91/128 [00:08<00:03, 10.34it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.37it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.53it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.66it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.59it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.20it/s] 80%|████████  | 103/128 [00:10<00:02, 10.48it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.22it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.23it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.42it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.15it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.49it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.08it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.29it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.20it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.13it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.17it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.54it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.45it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.17it/s]
[2024-01-18 13:38:59,915] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.79it/s]  3%|▎         | 4/128 [00:00<00:11, 10.92it/s]  5%|▍         | 6/128 [00:00<00:11, 10.60it/s]  6%|▋         | 8/128 [00:00<00:11, 10.88it/s]  8%|▊         | 10/128 [00:00<00:11, 10.66it/s]  9%|▉         | 12/128 [00:01<00:11, 10.36it/s] 11%|█         | 14/128 [00:01<00:11, 10.00it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.79it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.08it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.27it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.99it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.09it/s] 20%|██        | 26/128 [00:02<00:09, 10.21it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.10it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.07it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.36it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.06it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.06it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.95it/s] 30%|███       | 39/128 [00:03<00:09,  9.80it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.58it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.48it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.69it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.22it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.14it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.04it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.89it/s] 41%|████      | 52/128 [00:05<00:07, 10.34it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.23it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.20it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.04it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.43it/s] 50%|█████     | 64/128 [00:06<00:06, 10.09it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.30it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.15it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.06it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.25it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.44it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.58it/s] 61%|██████    | 78/128 [00:07<00:04, 10.70it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.42it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.60it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.36it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.65it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.50it/s] 70%|███████   | 90/128 [00:08<00:03, 10.37it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.17it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.40it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.57it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.74it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.52it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.12it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.40it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.17it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.45it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.46it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.18it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.37it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.25it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.28it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.22it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.29it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.54it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.66it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.60it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]
[2024-01-18 13:39:12,464] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.97it/s]  3%|▎         | 4/128 [00:00<00:11, 10.67it/s]  5%|▍         | 6/128 [00:00<00:11, 10.37it/s]  6%|▋         | 8/128 [00:00<00:10, 11.12it/s]  8%|▊         | 10/128 [00:00<00:10, 10.77it/s]  9%|▉         | 12/128 [00:01<00:10, 10.57it/s] 11%|█         | 14/128 [00:01<00:11, 10.00it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.75it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.12it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.37it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.07it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.06it/s] 20%|██        | 26/128 [00:02<00:10, 10.13it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.15it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.17it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.45it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.01it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.99it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.98it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.75it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.62it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.69it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.13it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.12it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.12it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.16it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.13it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.10it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.26it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.20it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.48it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.26it/s] 51%|█████     | 65/128 [00:06<00:06, 10.15it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.13it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.35it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.26it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.37it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.46it/s] 60%|██████    | 77/128 [00:07<00:04, 10.57it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.69it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.80it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.83it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.52it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.70it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.46it/s] 71%|███████   | 91/128 [00:08<00:03, 10.39it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.59it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.62it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.74it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.74it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.28it/s] 80%|████████  | 103/128 [00:09<00:02, 10.52it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.45it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.35it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.59it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.24it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.54it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.25it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.46it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.38it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.23it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.10it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.29it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.23it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.12it/s]100%|██████████| 128/128 [00:12<00:00,  9.29it/s]100%|██████████| 128/128 [00:12<00:00, 10.22it/s]
[2024-01-18 13:39:24,994] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.70it/s]  2%|▏         | 2/128 [00:00<00:12,  9.86it/s]  3%|▎         | 4/128 [00:00<00:12, 10.24it/s]  5%|▍         | 6/128 [00:00<00:11, 10.23it/s]  6%|▋         | 8/128 [00:00<00:10, 10.95it/s]  8%|▊         | 10/128 [00:00<00:11, 10.70it/s]  9%|▉         | 12/128 [00:01<00:11, 10.43it/s] 11%|█         | 14/128 [00:01<00:11,  9.81it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.62it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.41it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.39it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.79it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.85it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.77it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.00it/s] 20%|██        | 26/128 [00:02<00:10, 10.10it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.04it/s] 23%|██▎       | 29/128 [00:02<00:09,  9.92it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.33it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.11it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.08it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.72it/s] 30%|███       | 39/128 [00:03<00:09,  9.83it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.66it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.43it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.64it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.12it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.01it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.06it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.01it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.06it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.03it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.11it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.11it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.35it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.16it/s] 51%|█████     | 65/128 [00:06<00:06, 10.11it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.02it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.26it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.10it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.26it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.45it/s] 60%|██████    | 77/128 [00:07<00:04, 10.43it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.61it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.71it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.62it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.52it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.56it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.36it/s] 71%|███████   | 91/128 [00:08<00:03, 10.28it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.38it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.60it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.62it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.67it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.19it/s] 80%|████████  | 103/128 [00:10<00:02, 10.31it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.45it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.29it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.47it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.13it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.32it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.24it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.38it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.29it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.14it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.94it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.36it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.60it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.56it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]
[2024-01-18 13:39:37,633] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.58it/s]  3%|▎         | 4/128 [00:00<00:11, 10.53it/s]  5%|▍         | 6/128 [00:00<00:11, 10.24it/s]  6%|▋         | 8/128 [00:00<00:10, 11.06it/s]  8%|▊         | 10/128 [00:00<00:10, 10.76it/s]  9%|▉         | 12/128 [00:01<00:11, 10.41it/s] 11%|█         | 14/128 [00:01<00:11,  9.89it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.68it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.64it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.13it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.38it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.91it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.96it/s] 20%|██        | 26/128 [00:02<00:10, 10.02it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.07it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.10it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.24it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.89it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.84it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.76it/s] 30%|███       | 39/128 [00:03<00:09,  9.84it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.67it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.43it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.66it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.93it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.03it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.04it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.91it/s] 41%|████      | 52/128 [00:05<00:07, 10.22it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.07it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.93it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.97it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.33it/s] 50%|█████     | 64/128 [00:06<00:06, 10.01it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.08it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.09it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.06it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.15it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.37it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.39it/s] 61%|██████    | 78/128 [00:07<00:04, 10.52it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.62it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.63it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.46it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.68it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.35it/s] 70%|███████   | 90/128 [00:08<00:03, 10.49it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.25it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.50it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.63it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.62it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.43it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.20it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.43it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.29it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.39it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.38it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.22it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.43it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.26it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.15it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.14it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.24it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.48it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.66it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.48it/s]100%|██████████| 128/128 [00:12<00:00, 10.15it/s]
[2024-01-18 13:40:06,070] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 287.14it/s] 48%|████▊     | 62/128 [00:00<00:00, 308.81it/s] 75%|███████▌  | 96/128 [00:00<00:00, 322.77it/s]100%|██████████| 128/128 [00:00<00:00, 310.63it/s]
[2024-01-18 13:40:06,609] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.54it/s]  2%|▏         | 2/128 [00:00<00:14,  8.94it/s]  3%|▎         | 4/128 [00:00<00:12, 10.03it/s]  5%|▍         | 6/128 [00:00<00:12, 10.02it/s]  5%|▌         | 7/128 [00:00<00:12,  9.69it/s]  6%|▋         | 8/128 [00:00<00:12,  9.56it/s]  8%|▊         | 10/128 [00:00<00:11, 10.66it/s]  9%|▉         | 12/128 [00:01<00:10, 10.85it/s] 11%|█         | 14/128 [00:01<00:10, 10.49it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.63it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.23it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.20it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.88it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.92it/s] 20%|██        | 26/128 [00:02<00:10,  9.99it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.14it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.75it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.42it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.24it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.43it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.28it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.37it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.19it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.10it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.00it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.99it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.71it/s] 41%|████      | 52/128 [00:05<00:07, 10.14it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.11it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.82it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.89it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.17it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.21it/s] 50%|█████     | 64/128 [00:06<00:06, 10.45it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.32it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.20it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.60it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.85it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.60it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.13it/s] 61%|██████    | 78/128 [00:07<00:04, 10.10it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.32it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.29it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.43it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.24it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.49it/s] 70%|███████   | 90/128 [00:08<00:03, 10.40it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.43it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.15it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.03it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.07it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.02it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.17it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.46it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.24it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.39it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.56it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.58it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.73it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.75it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.86it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.66it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.32it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.27it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00,  9.78it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 13:40:19,118] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.58it/s]  2%|▏         | 2/128 [00:00<00:13,  9.23it/s]  3%|▎         | 4/128 [00:00<00:12, 10.00it/s]  5%|▍         | 6/128 [00:00<00:12, 10.10it/s]  5%|▌         | 7/128 [00:00<00:12,  9.84it/s]  6%|▋         | 8/128 [00:00<00:12,  9.50it/s]  8%|▊         | 10/128 [00:00<00:11, 10.64it/s]  9%|▉         | 12/128 [00:01<00:10, 10.83it/s] 11%|█         | 14/128 [00:01<00:10, 10.48it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.61it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.27it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.18it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.86it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.89it/s] 20%|██        | 26/128 [00:02<00:10,  9.97it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.16it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.75it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.43it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.19it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.39it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.27it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.33it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.17it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.08it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.95it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.99it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.66it/s] 41%|████      | 52/128 [00:05<00:07, 10.09it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.07it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.79it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.79it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.12it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.17it/s] 50%|█████     | 64/128 [00:06<00:06, 10.40it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.28it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.17it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.60it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.81it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.57it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.09it/s] 61%|██████    | 78/128 [00:07<00:04, 10.06it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.20it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.20it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.37it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.17it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.44it/s] 70%|███████   | 90/128 [00:08<00:03, 10.20it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.39it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.08it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.07it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.07it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.83it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.15it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.39it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.24it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.37it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.41it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.50it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.65it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.78it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.84it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.57it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.24it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.19it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00,  9.73it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 13:40:31,673] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.61it/s]  2%|▏         | 2/128 [00:00<00:14,  8.90it/s]  3%|▎         | 4/128 [00:00<00:12,  9.94it/s]  5%|▍         | 6/128 [00:00<00:12,  9.97it/s]  5%|▌         | 7/128 [00:00<00:12,  9.81it/s]  6%|▋         | 8/128 [00:00<00:12,  9.65it/s]  8%|▊         | 10/128 [00:00<00:11, 10.59it/s]  9%|▉         | 12/128 [00:01<00:10, 10.75it/s] 11%|█         | 14/128 [00:01<00:10, 10.40it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.52it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.36it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.16it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.74it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.86it/s] 20%|██        | 26/128 [00:02<00:10,  9.92it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.27it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.75it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.40it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.13it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.35it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.35it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.38it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.17it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.01it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.96it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.03it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.68it/s] 41%|████      | 52/128 [00:05<00:07, 10.09it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.99it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.76it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.94it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.16it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.15it/s] 50%|█████     | 64/128 [00:06<00:06, 10.26it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.28it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.18it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.70it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.87it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.54it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.11it/s] 61%|██████    | 78/128 [00:07<00:04, 10.06it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.36it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.28it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.39it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.17it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.44it/s] 70%|███████   | 90/128 [00:08<00:03, 10.30it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.40it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.05it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.03it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.06it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.91it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.17it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.39it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.18it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.36it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.53it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.54it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.69it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.65it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.87it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.63it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.27it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.24it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.94it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.77it/s]100%|██████████| 128/128 [00:12<00:00,  9.71it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 13:40:44,229] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.26it/s]  2%|▏         | 2/128 [00:00<00:13,  9.12it/s]  3%|▎         | 4/128 [00:00<00:12, 10.01it/s]  5%|▍         | 6/128 [00:00<00:12, 10.00it/s]  5%|▌         | 7/128 [00:00<00:12,  9.65it/s]  6%|▋         | 8/128 [00:00<00:12,  9.50it/s]  8%|▊         | 10/128 [00:00<00:11, 10.61it/s]  9%|▉         | 12/128 [00:01<00:10, 10.81it/s] 11%|█         | 14/128 [00:01<00:10, 10.51it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.54it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.21it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.17it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.85it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.90it/s] 20%|██        | 26/128 [00:02<00:10,  9.94it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.13it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.73it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.42it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.30it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.32it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.18it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.31it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.13it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.12it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.93it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.87it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.71it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.65it/s] 41%|████      | 52/128 [00:05<00:07, 10.18it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.18it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.76it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.74it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.16it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.16it/s] 50%|█████     | 64/128 [00:06<00:06, 10.41it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.28it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.04it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.61it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.82it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.61it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.11it/s] 61%|██████    | 78/128 [00:07<00:05,  9.97it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.32it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.23it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.43it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.22it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.39it/s] 70%|███████   | 90/128 [00:08<00:03, 10.26it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.42it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.12it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.06it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.01it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.89it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.14it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.41it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.24it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.32it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.45it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.57it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.70it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.76it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.87it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.51it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.28it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.24it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.12it/s]100%|██████████| 128/128 [00:12<00:00,  9.70it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]
[2024-01-18 13:40:56,795] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.11it/s]  2%|▏         | 2/128 [00:00<00:14,  8.87it/s]  3%|▎         | 4/128 [00:00<00:12,  9.98it/s]  5%|▍         | 6/128 [00:00<00:12, 10.04it/s]  5%|▌         | 7/128 [00:00<00:12,  9.85it/s]  6%|▋         | 8/128 [00:00<00:12,  9.56it/s]  8%|▊         | 10/128 [00:00<00:11, 10.52it/s]  9%|▉         | 12/128 [00:01<00:10, 10.70it/s] 11%|█         | 14/128 [00:01<00:10, 10.44it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.57it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.33it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.12it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.78it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.91it/s] 20%|██        | 26/128 [00:02<00:10,  9.96it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.23it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.70it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.34it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.20it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.40it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.37it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.29it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.10it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.04it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.98it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.07it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.61it/s] 41%|████      | 52/128 [00:05<00:07, 10.05it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.02it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.81it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.95it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.09it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.12it/s] 50%|█████     | 64/128 [00:06<00:06, 10.26it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.29it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.20it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.57it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.72it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.41it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.08it/s] 61%|██████    | 78/128 [00:07<00:04, 10.05it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.28it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.13it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.26it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.19it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.46it/s] 70%|███████   | 90/128 [00:08<00:03, 10.28it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.25it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.94it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.02it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.06it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.94it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.87it/s] 80%|████████  | 103/128 [00:10<00:02, 10.12it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.32it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.22it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.41it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.49it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.52it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.68it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.76it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.89it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.30it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.33it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.25it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.82it/s]100%|██████████| 128/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00, 10.18it/s]
[2024-01-18 13:41:25,259] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 261.85it/s] 42%|████▏     | 54/128 [00:00<00:00, 253.49it/s] 62%|██████▎   | 80/128 [00:00<00:00, 256.34it/s] 84%|████████▎ | 107/128 [00:00<00:00, 258.84it/s]100%|██████████| 128/128 [00:00<00:00, 259.93it/s]
[2024-01-18 13:41:25,880] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.14it/s]  3%|▎         | 4/128 [00:00<00:11, 10.71it/s]  5%|▍         | 6/128 [00:00<00:12,  9.71it/s]  6%|▋         | 8/128 [00:00<00:11, 10.74it/s]  8%|▊         | 10/128 [00:00<00:11, 10.49it/s]  9%|▉         | 12/128 [00:01<00:10, 11.11it/s] 11%|█         | 14/128 [00:01<00:10, 11.09it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.71it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.29it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.86it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.87it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.00it/s] 20%|██        | 26/128 [00:02<00:09, 10.73it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.52it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.30it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.44it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.36it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.51it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.13it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.38it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.20it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.46it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.41it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.47it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.88it/s] 41%|████      | 52/128 [00:04<00:07, 10.83it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.62it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.74it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.29it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.25it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.49it/s] 50%|█████     | 64/128 [00:06<00:06, 10.54it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.40it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.57it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.29it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.51it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.25it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.46it/s] 61%|██████    | 78/128 [00:07<00:04, 10.40it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.50it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.58it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.65it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.51it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.79it/s] 70%|███████   | 90/128 [00:08<00:03, 10.82it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.60it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.41it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.22it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.50it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.43it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.20it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.39it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.47it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.66it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.58it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.72it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.49it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.34it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.12it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.10it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.04it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.17it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.04it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]
[2024-01-18 13:41:38,129] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.98it/s]  3%|▎         | 4/128 [00:00<00:11, 10.64it/s]  5%|▍         | 6/128 [00:00<00:12,  9.80it/s]  6%|▋         | 8/128 [00:00<00:11, 10.79it/s]  8%|▊         | 10/128 [00:00<00:11, 10.61it/s]  9%|▉         | 12/128 [00:01<00:10, 11.22it/s] 11%|█         | 14/128 [00:01<00:10, 11.14it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.72it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.26it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.86it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.84it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.00it/s] 20%|██        | 26/128 [00:02<00:09, 10.73it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.50it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.25it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.40it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.33it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.50it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.08it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.31it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.13it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.41it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.38it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.44it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.88it/s] 41%|████      | 52/128 [00:04<00:07, 10.84it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.58it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.68it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.29it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.21it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.45it/s] 50%|█████     | 64/128 [00:06<00:06, 10.54it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.37it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.53it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.27it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.37it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.17it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.41it/s] 61%|██████    | 78/128 [00:07<00:04, 10.35it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.59it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.38it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.53it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.39it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.68it/s] 70%|███████   | 90/128 [00:08<00:03, 10.77it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.61it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.36it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.25it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.50it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.40it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.35it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.43it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.57it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.67it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.54it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.67it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.72it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.44it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.23it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.15it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.06it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.25it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.45it/s]
[2024-01-18 13:41:50,384] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.09it/s]  3%|▎         | 4/128 [00:00<00:11, 10.64it/s]  5%|▍         | 6/128 [00:00<00:12,  9.89it/s]  6%|▋         | 8/128 [00:00<00:11, 10.88it/s]  8%|▊         | 10/128 [00:00<00:11, 10.67it/s]  9%|▉         | 12/128 [00:01<00:10, 11.26it/s] 11%|█         | 14/128 [00:01<00:10, 11.17it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.86it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.42it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.97it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.94it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.05it/s] 20%|██        | 26/128 [00:02<00:09, 10.76it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.68it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.36it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.51it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.38it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.53it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.28it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.47it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.31it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.53it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.46it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.57it/s] 39%|███▉      | 50/128 [00:04<00:07, 11.04it/s] 41%|████      | 52/128 [00:04<00:06, 10.96it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.72it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.78it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.36it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.41it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.56it/s] 50%|█████     | 64/128 [00:06<00:05, 10.72it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.50it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.62it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.36it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.58it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.35it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.56it/s] 61%|██████    | 78/128 [00:07<00:04, 10.44it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.57it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.71it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.73it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.63it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.84it/s] 70%|███████   | 90/128 [00:08<00:03, 10.82it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.80it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.54it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.40it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.64it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.50it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.27it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.53it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.65it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.51it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.15it/s] 88%|████████▊ | 112/128 [00:10<00:01,  9.97it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.14it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.87it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.77it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.10it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.76it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.03it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.10it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.59it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]
[2024-01-18 13:42:02,626] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.52it/s]  3%|▎         | 4/128 [00:00<00:12, 10.07it/s]  5%|▍         | 6/128 [00:00<00:12,  9.74it/s]  6%|▋         | 8/128 [00:00<00:11, 10.75it/s]  8%|▊         | 10/128 [00:00<00:11, 10.56it/s]  9%|▉         | 12/128 [00:01<00:10, 11.17it/s] 11%|█         | 14/128 [00:01<00:10, 10.99it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.69it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.29it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.88it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.90it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.01it/s] 20%|██        | 26/128 [00:02<00:09, 10.56it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.51it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.25it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.44it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.34it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.38it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.14it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.32it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.22it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.46it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.25it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.44it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.82it/s] 41%|████      | 52/128 [00:04<00:07, 10.78it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.60it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.60it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.21it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.19it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.43it/s] 50%|█████     | 64/128 [00:06<00:06, 10.63it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.35it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.46it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.28it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.45it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.29it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.51it/s] 61%|██████    | 78/128 [00:07<00:04, 10.28it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.43it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.55it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.64it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.54it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.66it/s] 70%|███████   | 90/128 [00:08<00:03, 10.71it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.61it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.39it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.29it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.46it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.33it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.18it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.45it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.56it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.73it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.46it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.47it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.68it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.43it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.28it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.09it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.91it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.18it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.07it/s]100%|██████████| 128/128 [00:12<00:00, 10.12it/s]100%|██████████| 128/128 [00:12<00:00, 10.43it/s]
[2024-01-18 13:42:14,906] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.64it/s]  3%|▎         | 4/128 [00:00<00:12, 10.17it/s]  5%|▍         | 6/128 [00:00<00:12,  9.75it/s]  6%|▋         | 8/128 [00:00<00:11, 10.78it/s]  8%|▊         | 10/128 [00:00<00:11, 10.60it/s]  9%|▉         | 12/128 [00:01<00:10, 11.10it/s] 11%|█         | 14/128 [00:01<00:10, 10.94it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.62it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.37it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.91it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.94it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.86it/s] 20%|██        | 26/128 [00:02<00:09, 10.48it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.50it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.25it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.48it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.30it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.21it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.13it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.29it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.23it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.46it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.08it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.39it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.79it/s] 41%|████      | 52/128 [00:04<00:07, 10.79it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.62it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.60it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.08it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.31it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.45it/s] 50%|█████     | 64/128 [00:06<00:05, 10.68it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.46it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.31it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.27it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.43it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.30it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.52it/s] 61%|██████    | 78/128 [00:07<00:04, 10.14it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.44it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.54it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.63it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.56it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.66it/s] 70%|███████   | 90/128 [00:08<00:03, 10.55it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.65it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.38it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.29it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.54it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.15it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.17it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.38it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.55it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.73it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.34it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.52it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.61it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.42it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.29it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.00it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.89it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.07it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.95it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.86it/s]100%|██████████| 128/128 [00:12<00:00, 10.40it/s]
[2024-01-18 13:42:43,175] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 22%|██▏       | 28/128 [00:00<00:00, 275.49it/s] 44%|████▍     | 56/128 [00:00<00:00, 267.22it/s] 65%|██████▍   | 83/128 [00:00<00:00, 260.01it/s] 88%|████████▊ | 112/128 [00:00<00:00, 267.57it/s]100%|██████████| 128/128 [00:00<00:00, 272.29it/s]
[2024-01-18 13:42:43,789] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.33it/s]  3%|▎         | 4/128 [00:00<00:11, 10.37it/s]  5%|▍         | 6/128 [00:00<00:12,  9.57it/s]  6%|▋         | 8/128 [00:00<00:11, 10.11it/s]  8%|▊         | 10/128 [00:00<00:10, 10.85it/s]  9%|▉         | 12/128 [00:01<00:10, 10.88it/s] 11%|█         | 14/128 [00:01<00:10, 10.70it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.45it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.83it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.91it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.55it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.75it/s] 20%|██        | 26/128 [00:02<00:09, 10.62it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.54it/s] 23%|██▎       | 30/128 [00:02<00:08, 10.97it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.91it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.93it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.62it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.49it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.42it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.57it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.39it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.94it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.36it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.54it/s] 41%|████      | 52/128 [00:04<00:06, 11.01it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.68it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.87it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.90it/s] 47%|████▋     | 60/128 [00:05<00:06, 11.09it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.52it/s] 50%|█████     | 64/128 [00:05<00:05, 11.52it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.96it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.71it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.87it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.48it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.62it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.11it/s] 61%|██████    | 78/128 [00:07<00:04, 10.37it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.56it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.44it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.39it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.26it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.80it/s] 70%|███████   | 90/128 [00:08<00:03, 10.84it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.95it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.68it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.67it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.79it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.75it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.24it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.47it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.43it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.67it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.80it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.97it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.03it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.56it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.29it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.49it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.72it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.54it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.42it/s]100%|██████████| 128/128 [00:12<00:00, 10.74it/s]100%|██████████| 128/128 [00:12<00:00, 10.63it/s]
[2024-01-18 13:42:55,840] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.35it/s]  3%|▎         | 4/128 [00:00<00:12, 10.18it/s]  5%|▍         | 6/128 [00:00<00:12,  9.75it/s]  6%|▋         | 8/128 [00:00<00:11, 10.29it/s]  8%|▊         | 10/128 [00:00<00:11, 10.71it/s]  9%|▉         | 12/128 [00:01<00:10, 10.67it/s] 11%|█         | 14/128 [00:01<00:10, 10.44it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.30it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.99it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.01it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.40it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.60it/s] 20%|██        | 26/128 [00:02<00:09, 10.44it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.61it/s] 23%|██▎       | 30/128 [00:02<00:08, 11.12it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.79it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.88it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.46it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.38it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.55it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.51it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.34it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.82it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.25it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.59it/s] 41%|████      | 52/128 [00:04<00:06, 11.13it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.57it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.83it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.76it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.97it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.73it/s] 50%|█████     | 64/128 [00:05<00:05, 11.54it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.89it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.56it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.75it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.58it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.67it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.99it/s] 61%|██████    | 78/128 [00:07<00:04, 10.26it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.41it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.40it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.63it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.15it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.79it/s] 70%|███████   | 90/128 [00:08<00:03, 10.66it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.82it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.70it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.64it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.62it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.63it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.09it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.36it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.60it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.48it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.76it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.80it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.88it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.56it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.19it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.39it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.60it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.41it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.94it/s]100%|██████████| 128/128 [00:12<00:00, 10.59it/s]
[2024-01-18 13:43:07,941] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:12,  9.88it/s]  2%|▏         | 2/128 [00:00<00:13,  9.24it/s]  3%|▎         | 4/128 [00:00<00:12,  9.84it/s]  4%|▍         | 5/128 [00:00<00:12,  9.47it/s]  5%|▍         | 6/128 [00:00<00:12,  9.42it/s]  6%|▋         | 8/128 [00:00<00:11, 10.20it/s]  8%|▊         | 10/128 [00:00<00:10, 11.02it/s]  9%|▉         | 12/128 [00:01<00:10, 10.76it/s] 11%|█         | 14/128 [00:01<00:10, 10.55it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.20it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.91it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.02it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.51it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.57it/s] 20%|██        | 26/128 [00:02<00:09, 10.44it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.51it/s] 23%|██▎       | 30/128 [00:02<00:08, 11.05it/s] 25%|██▌       | 32/128 [00:03<00:08, 11.00it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.77it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.49it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.29it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.47it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.65it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.28it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.81it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.12it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.52it/s] 41%|████      | 52/128 [00:04<00:06, 11.12it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.71it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.65it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.71it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.83it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.63it/s] 50%|█████     | 64/128 [00:06<00:05, 11.61it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.84it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.56it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.62it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.49it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.69it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.05it/s] 61%|██████    | 78/128 [00:07<00:04, 10.24it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.38it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.33it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.56it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.32it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.70it/s] 70%|███████   | 90/128 [00:08<00:03, 10.76it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.79it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.68it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.78it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.64it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.63it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.05it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.35it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.60it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.61it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.69it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.84it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.85it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.56it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.44it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.50it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.68it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.45it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.38it/s]100%|██████████| 128/128 [00:12<00:00, 10.94it/s]100%|██████████| 128/128 [00:12<00:00, 10.57it/s]
[2024-01-18 13:43:20,062] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.94it/s]  3%|▎         | 4/128 [00:00<00:12, 10.02it/s]  5%|▍         | 6/128 [00:00<00:12,  9.62it/s]  6%|▋         | 8/128 [00:00<00:11, 10.17it/s]  8%|▊         | 10/128 [00:00<00:10, 10.90it/s]  9%|▉         | 12/128 [00:01<00:10, 10.89it/s] 11%|█         | 14/128 [00:01<00:10, 10.54it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.33it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.95it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.04it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.67it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.66it/s] 20%|██        | 26/128 [00:02<00:09, 10.39it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.47it/s] 23%|██▎       | 30/128 [00:02<00:08, 10.98it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.95it/s] 27%|██▋       | 34/128 [00:03<00:08, 11.01it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.39it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.32it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.37it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.58it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.47it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.76it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.15it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.41it/s] 41%|████      | 52/128 [00:04<00:06, 11.01it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.74it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.95it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.57it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.81it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.48it/s] 50%|█████     | 64/128 [00:06<00:05, 11.48it/s] 52%|█████▏    | 66/128 [00:06<00:05, 11.04it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.49it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.59it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.33it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.51it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.11it/s] 61%|██████    | 78/128 [00:07<00:04, 10.26it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.31it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.27it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.48it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.33it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.92it/s] 70%|███████   | 90/128 [00:08<00:03, 10.60it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.75it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.55it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.69it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.83it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.63it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.04it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.24it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.49it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.72it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.86it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.77it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.87it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.48it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.42it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.64it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.60it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.43it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.26it/s]100%|██████████| 128/128 [00:12<00:00, 10.84it/s]100%|██████████| 128/128 [00:12<00:00, 10.57it/s]
[2024-01-18 13:43:32,183] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.31it/s]  3%|▎         | 4/128 [00:00<00:12,  9.96it/s]  4%|▍         | 5/128 [00:00<00:12,  9.51it/s]  5%|▍         | 6/128 [00:00<00:12,  9.46it/s]  6%|▋         | 8/128 [00:00<00:11, 10.06it/s]  8%|▊         | 10/128 [00:00<00:10, 10.90it/s]  9%|▉         | 12/128 [00:01<00:10, 11.00it/s] 11%|█         | 14/128 [00:01<00:10, 10.66it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.15it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.85it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.83it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.56it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.74it/s] 20%|██        | 26/128 [00:02<00:09, 10.32it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.38it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.83it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.81it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.92it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.58it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.13it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.34it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.43it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.35it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.90it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.90it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.25it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.58it/s] 41%|████▏     | 53/128 [00:05<00:06, 11.08it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.75it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.89it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.35it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.61it/s] 49%|████▉     | 63/128 [00:05<00:05, 11.03it/s] 51%|█████     | 65/128 [00:06<00:05, 11.08it/s] 52%|█████▏    | 67/128 [00:06<00:05, 11.04it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.70it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.51it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.43it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.26it/s] 60%|██████    | 77/128 [00:07<00:05, 10.13it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.40it/s] 63%|██████▎   | 81/128 [00:07<00:04,  9.96it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.33it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.35it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.58it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.74it/s] 71%|███████   | 91/128 [00:08<00:03, 10.72it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.59it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.45it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.50it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.66it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.39it/s] 80%|████████  | 103/128 [00:09<00:02, 10.04it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.35it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.47it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.69it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.90it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.80it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.38it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.25it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.49it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.40it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.54it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.23it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.41it/s]100%|██████████| 128/128 [00:12<00:00, 10.51it/s]
[2024-01-18 13:44:00,366] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 30/128 [00:00<00:00, 295.00it/s] 47%|████▋     | 60/128 [00:00<00:00, 292.11it/s] 71%|███████   | 91/128 [00:00<00:00, 295.21it/s] 96%|█████████▌| 123/128 [00:00<00:00, 300.57it/s]100%|██████████| 128/128 [00:00<00:00, 296.64it/s]
[2024-01-18 13:44:00,924] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:15,  8.26it/s]  2%|▏         | 2/128 [00:00<00:14,  8.69it/s]  3%|▎         | 4/128 [00:00<00:12, 10.04it/s]  4%|▍         | 5/128 [00:00<00:12,  9.71it/s]  5%|▍         | 6/128 [00:00<00:12,  9.54it/s]  6%|▋         | 8/128 [00:00<00:11, 10.26it/s]  8%|▊         | 10/128 [00:00<00:11, 10.49it/s]  9%|▉         | 12/128 [00:01<00:11, 10.36it/s] 11%|█         | 14/128 [00:01<00:10, 10.38it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.17it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.11it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.11it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.85it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.71it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.04it/s] 21%|██        | 27/128 [00:02<00:10, 10.05it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.76it/s] 24%|██▍       | 31/128 [00:03<00:08, 10.91it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.38it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.55it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.59it/s] 30%|███       | 39/128 [00:03<00:08, 10.17it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.17it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.15it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.17it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.07it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.06it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.43it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.19it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.47it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.28it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.49it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.71it/s] 49%|████▉     | 63/128 [00:06<00:05, 10.86it/s] 51%|█████     | 65/128 [00:06<00:06, 10.31it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.60it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.38it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.93it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.72it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.30it/s] 60%|██████    | 77/128 [00:07<00:05, 10.14it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.09it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.30it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.52it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.34it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.31it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.29it/s] 71%|███████   | 91/128 [00:08<00:03, 10.38it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.30it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.26it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.14it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.35it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.46it/s] 80%|████████  | 103/128 [00:10<00:02, 10.37it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.08it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.22it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.12it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.43it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.72it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.81it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.57it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.35it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.37it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.17it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.00it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.26it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 13:44:13,363] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.53it/s]  2%|▏         | 2/128 [00:00<00:14,  8.95it/s]  3%|▎         | 4/128 [00:00<00:12, 10.09it/s]  4%|▍         | 5/128 [00:00<00:12,  9.81it/s]  5%|▍         | 6/128 [00:00<00:12,  9.61it/s]  6%|▋         | 8/128 [00:00<00:11, 10.29it/s]  8%|▊         | 10/128 [00:00<00:11, 10.41it/s]  9%|▉         | 12/128 [00:01<00:11, 10.36it/s] 11%|█         | 14/128 [00:01<00:11, 10.35it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.16it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.09it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.08it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.79it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.67it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.03it/s] 21%|██        | 27/128 [00:02<00:10, 10.05it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.77it/s] 24%|██▍       | 31/128 [00:03<00:08, 10.90it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.36it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.52it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.58it/s] 30%|███       | 39/128 [00:03<00:08, 10.17it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.15it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.11it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.13it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.03it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.01it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.39it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.13it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.38it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.22it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.46it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.68it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.82it/s] 51%|█████     | 65/128 [00:06<00:06, 10.29it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.57it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.35it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.94it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.72it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.24it/s] 60%|██████    | 77/128 [00:07<00:05, 10.13it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.07it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.31it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.48it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.34it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.33it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.31it/s] 71%|███████   | 91/128 [00:08<00:03, 10.44it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.36it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.30it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.22it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.43it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.56it/s] 80%|████████  | 103/128 [00:10<00:02, 10.41it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.09it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.25it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.18it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.50it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.77it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.86it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.47it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.50it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.37it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.24it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.03it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.19it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 13:44:25,801] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.42it/s]  2%|▏         | 2/128 [00:00<00:13,  9.32it/s]  3%|▎         | 4/128 [00:00<00:12, 10.20it/s]  4%|▍         | 5/128 [00:00<00:12,  9.95it/s]  5%|▍         | 6/128 [00:00<00:12,  9.70it/s]  6%|▋         | 8/128 [00:00<00:11, 10.34it/s]  8%|▊         | 10/128 [00:00<00:11, 10.23it/s]  9%|▉         | 12/128 [00:01<00:11, 10.37it/s] 11%|█         | 14/128 [00:01<00:11, 10.24it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.14it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.08it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.96it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.95it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.76it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.61it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.02it/s] 21%|██        | 27/128 [00:02<00:10, 10.05it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.80it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.74it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.43it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.51it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.62it/s] 30%|███       | 39/128 [00:03<00:08, 10.19it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.06it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.16it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.13it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.07it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.05it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.42it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.10it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.46it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.25it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.48it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.69it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.60it/s] 51%|█████     | 65/128 [00:06<00:06, 10.37it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.49it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.42it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.98it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.66it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.25it/s] 60%|██████    | 77/128 [00:07<00:05, 10.17it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.13it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.33it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.51it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.13it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.40it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.24it/s] 71%|███████   | 91/128 [00:08<00:03, 10.43it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.33it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.02it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.27it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.34it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.55it/s] 80%|████████  | 103/128 [00:10<00:02, 10.36it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.84it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.13it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.04it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.41it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.74it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.81it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.26it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.41it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.28it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.20it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.99it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.89it/s]100%|██████████| 128/128 [00:12<00:00, 10.26it/s]
[2024-01-18 13:44:38,280] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.39it/s]  2%|▏         | 2/128 [00:00<00:13,  9.04it/s]  3%|▎         | 4/128 [00:00<00:12, 10.27it/s]  5%|▍         | 6/128 [00:00<00:12,  9.79it/s]  6%|▋         | 8/128 [00:00<00:11, 10.14it/s]  8%|▊         | 10/128 [00:01<00:11, 10.05it/s]  9%|▉         | 12/128 [00:01<00:11, 10.39it/s] 11%|█         | 14/128 [00:01<00:11, 10.27it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.20it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.10it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.78it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.84it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.61it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.07it/s] 21%|██        | 27/128 [00:02<00:10, 10.08it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.65it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.50it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.35it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.44it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.62it/s] 30%|███       | 39/128 [00:03<00:08, 10.17it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.80it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.12it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.04it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.08it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.04it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.12it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.14it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.37it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.29it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.52it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.54it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.57it/s] 51%|█████     | 65/128 [00:06<00:06, 10.32it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.53it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.45it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.00it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.45it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.31it/s] 60%|██████    | 77/128 [00:07<00:05, 10.15it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.16it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.39it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.27it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.19it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.31it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.30it/s] 71%|███████   | 91/128 [00:08<00:03, 10.48it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.16it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.07it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.19it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.39it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.59it/s] 80%|████████  | 103/128 [00:10<00:02, 10.32it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.85it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.17it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.08it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.46it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.74it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.49it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.34it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.35it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.30it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.22it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.75it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.02it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]
[2024-01-18 13:44:50,796] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.98it/s]  2%|▏         | 2/128 [00:00<00:13,  9.13it/s]  3%|▎         | 4/128 [00:00<00:11, 10.37it/s]  5%|▍         | 6/128 [00:00<00:12,  9.76it/s]  6%|▋         | 8/128 [00:00<00:11, 10.07it/s]  8%|▊         | 10/128 [00:00<00:11, 10.24it/s]  9%|▉         | 12/128 [00:01<00:11, 10.52it/s] 11%|█         | 14/128 [00:01<00:10, 10.43it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.31it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.03it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.94it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.93it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.75it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.18it/s] 21%|██        | 27/128 [00:02<00:10, 10.05it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.65it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.77it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.48it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.63it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.74it/s] 30%|███       | 39/128 [00:03<00:08, 10.06it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.04it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.24it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.20it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.20it/s] 38%|███▊      | 49/128 [00:04<00:07,  9.91it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.27it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.19it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.53it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.38it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.50it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.47it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.62it/s] 51%|█████     | 65/128 [00:06<00:06, 10.32it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.56it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.46it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.84it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.55it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.34it/s] 60%|██████    | 77/128 [00:07<00:04, 10.25it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.23it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.29it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.39it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.25it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.46it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.39it/s] 71%|███████   | 91/128 [00:08<00:03, 10.40it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.22it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.16it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.35it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.48it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.54it/s] 80%|████████  | 103/128 [00:09<00:02, 10.29it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.98it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.30it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.23it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.34it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.56it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.67it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.44it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.55it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.37it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.13it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.91it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.15it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 13:45:19,265] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|██        | 26/128 [00:00<00:00, 252.04it/s] 41%|████      | 52/128 [00:00<00:00, 241.76it/s] 61%|██████    | 78/128 [00:00<00:00, 246.45it/s] 82%|████████▏ | 105/128 [00:00<00:00, 254.68it/s]100%|██████████| 128/128 [00:00<00:00, 250.00it/s]
[2024-01-18 13:45:19,905] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.26it/s]  3%|▎         | 4/128 [00:00<00:11, 10.59it/s]  5%|▍         | 6/128 [00:00<00:12, 10.02it/s]  6%|▋         | 8/128 [00:00<00:11, 10.36it/s]  8%|▊         | 10/128 [00:00<00:11, 10.55it/s]  9%|▉         | 12/128 [00:01<00:10, 10.90it/s] 11%|█         | 14/128 [00:01<00:10, 10.75it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.25it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.84it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.54it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.72it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.87it/s] 20%|██        | 26/128 [00:02<00:09, 10.80it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.52it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.10it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.41it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.40it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.28it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.13it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.02it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.07it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.37it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.89it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.89it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.61it/s] 41%|████      | 52/128 [00:04<00:07, 10.82it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.31it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.54it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.58it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.36it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.39it/s] 50%|█████     | 64/128 [00:06<00:06, 10.59it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.72it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.49it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.42it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.28it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.34it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.26it/s] 61%|██████    | 78/128 [00:07<00:04, 10.61it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.48it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.48it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.66it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.64it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.18it/s] 70%|███████   | 90/128 [00:08<00:03, 10.88it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.41it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.02it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.33it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.55it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.74it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.75it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.57it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.74it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.45it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.33it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.63it/s] 89%|████████▉ | 114/128 [00:10<00:01,  9.97it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.00it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.17it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.49it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.71it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.33it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.36it/s]100%|██████████| 128/128 [00:12<00:00,  9.90it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]
[2024-01-18 13:45:32,155] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.17it/s]  3%|▎         | 4/128 [00:00<00:11, 10.62it/s]  5%|▍         | 6/128 [00:00<00:11, 10.27it/s]  6%|▋         | 8/128 [00:00<00:11, 10.29it/s]  8%|▊         | 10/128 [00:00<00:11, 10.52it/s]  9%|▉         | 12/128 [00:01<00:10, 10.78it/s] 11%|█         | 14/128 [00:01<00:10, 10.67it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.45it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.72it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.55it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.58it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.73it/s] 20%|██        | 26/128 [00:02<00:09, 10.81it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.61it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.09it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.36it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.33it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.28it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.11it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.90it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.91it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.20it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.78it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.93it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.37it/s] 41%|████      | 52/128 [00:04<00:07, 10.65it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.12it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.38it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.60it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.30it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.26it/s] 50%|█████     | 64/128 [00:06<00:06, 10.41it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.54it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.39it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.54it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.12it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.40it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.23it/s] 61%|██████    | 78/128 [00:07<00:04, 10.54it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.43it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.45it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.56it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.63it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.15it/s] 70%|███████   | 90/128 [00:08<00:03, 10.86it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.49it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.91it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.26it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.43it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.67it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.73it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.47it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.65it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.36it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.26it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.56it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.00it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.95it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.12it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.44it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.67it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.37it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.35it/s]100%|██████████| 128/128 [00:12<00:00,  9.89it/s]100%|██████████| 128/128 [00:12<00:00, 10.40it/s]
[2024-01-18 13:45:44,469] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.96it/s]  3%|▎         | 4/128 [00:00<00:11, 10.48it/s]  5%|▍         | 6/128 [00:00<00:11, 10.28it/s]  6%|▋         | 8/128 [00:00<00:11, 10.21it/s]  8%|▊         | 10/128 [00:00<00:11, 10.54it/s]  9%|▉         | 12/128 [00:01<00:10, 10.76it/s] 11%|█         | 14/128 [00:01<00:10, 10.65it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.41it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.75it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.53it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.57it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.73it/s] 20%|██        | 26/128 [00:02<00:09, 10.80it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.70it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.03it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.37it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.28it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.22it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.22it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.84it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.91it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.18it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.75it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.90it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.50it/s] 41%|████      | 52/128 [00:04<00:07, 10.66it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.12it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.36it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.57it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.34it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.18it/s] 50%|█████     | 64/128 [00:06<00:06, 10.43it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.50it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.35it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.53it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.17it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.43it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.22it/s] 61%|██████    | 78/128 [00:07<00:04, 10.56it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.45it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.48it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.55it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.66it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.14it/s] 70%|███████   | 90/128 [00:08<00:03, 10.84it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.56it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.02it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.39it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.54it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.74it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.78it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.73it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.77it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.50it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.31it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.60it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.13it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.01it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.24it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.50it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.67it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.42it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.32it/s]100%|██████████| 128/128 [00:12<00:00,  9.90it/s]100%|██████████| 128/128 [00:12<00:00, 10.42it/s]
[2024-01-18 13:45:56,758] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.77it/s]  3%|▎         | 4/128 [00:00<00:11, 10.39it/s]  5%|▍         | 6/128 [00:00<00:11, 10.25it/s]  6%|▋         | 8/128 [00:00<00:11, 10.22it/s]  8%|▊         | 10/128 [00:00<00:11, 10.55it/s]  9%|▉         | 12/128 [00:01<00:10, 10.77it/s] 11%|█         | 14/128 [00:01<00:10, 10.64it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.41it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.88it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.48it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.59it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.69it/s] 20%|██        | 26/128 [00:02<00:09, 10.77it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.78it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.02it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.41it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.29it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.22it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.21it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.90it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.99it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.22it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.78it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.90it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.58it/s] 41%|████      | 52/128 [00:04<00:07, 10.68it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.17it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.40it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.59it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.40it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.19it/s] 50%|█████     | 64/128 [00:06<00:06, 10.45it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.53it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.37it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.54it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.20it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.41it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.26it/s] 61%|██████    | 78/128 [00:07<00:04, 10.59it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.47it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.51it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.59it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.70it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.17it/s] 70%|███████   | 90/128 [00:08<00:03, 10.87it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.54it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.98it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.33it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.49it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.71it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.74it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.59it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.72it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.39it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.27it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.57it/s] 89%|████████▉ | 114/128 [00:10<00:01,  9.99it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.93it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.12it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.43it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.66it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.35it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.31it/s]100%|██████████| 128/128 [00:12<00:00,  9.85it/s]100%|██████████| 128/128 [00:12<00:00, 10.42it/s]
[2024-01-18 13:46:09,056] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.96it/s]  3%|▎         | 4/128 [00:00<00:11, 10.45it/s]  5%|▍         | 6/128 [00:00<00:11, 10.28it/s]  6%|▋         | 8/128 [00:00<00:11, 10.16it/s]  8%|▊         | 10/128 [00:00<00:11, 10.49it/s]  9%|▉         | 12/128 [00:01<00:10, 10.69it/s] 11%|█         | 14/128 [00:01<00:10, 10.60it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.39it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.66it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.44it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.48it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.64it/s] 20%|██        | 26/128 [00:02<00:09, 10.71it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.70it/s] 23%|██▎       | 30/128 [00:02<00:09,  9.93it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.27it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.21it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.17it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.16it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.81it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.91it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.15it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.73it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.87it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.45it/s] 41%|████      | 52/128 [00:04<00:07, 10.65it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.13it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.38it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.57it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.31it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.22it/s] 50%|█████     | 64/128 [00:06<00:06, 10.40it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.50it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.35it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.51it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.16it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.40it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.21it/s] 61%|██████    | 78/128 [00:07<00:04, 10.53it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.43it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.45it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.52it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.59it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.12it/s] 70%|███████   | 90/128 [00:08<00:03, 10.82it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.46it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.92it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.26it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.44it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.66it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.70it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.42it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.63it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.33it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.23it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.52it/s] 89%|████████▉ | 114/128 [00:10<00:01,  9.95it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.87it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.02it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.35it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.59it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.27it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.28it/s]100%|██████████| 128/128 [00:12<00:00,  9.83it/s]100%|██████████| 128/128 [00:12<00:00, 10.36it/s]
[2024-01-18 13:46:37,546] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 30/128 [00:00<00:00, 297.71it/s] 47%|████▋     | 60/128 [00:00<00:00, 298.46it/s] 70%|███████   | 90/128 [00:00<00:00, 289.86it/s] 95%|█████████▍| 121/128 [00:00<00:00, 295.54it/s]100%|██████████| 128/128 [00:00<00:00, 292.76it/s]
[2024-01-18 13:46:38,121] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.87it/s]  2%|▏         | 2/128 [00:00<00:13,  9.22it/s]  3%|▎         | 4/128 [00:00<00:12,  9.92it/s]  5%|▍         | 6/128 [00:00<00:12,  9.96it/s]  6%|▋         | 8/128 [00:00<00:11, 10.44it/s]  8%|▊         | 10/128 [00:00<00:11, 10.50it/s]  9%|▉         | 12/128 [00:01<00:11, 10.19it/s] 11%|█         | 14/128 [00:01<00:11, 10.13it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.08it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.13it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.78it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.78it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.63it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.50it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.61it/s] 20%|██        | 26/128 [00:02<00:10,  9.56it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.21it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.22it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.93it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.99it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.18it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.50it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.64it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.47it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.04it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.24it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.20it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.42it/s] 41%|████      | 52/128 [00:05<00:07, 10.54it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.22it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.51it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.34it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.58it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.46it/s] 50%|█████     | 64/128 [00:06<00:05, 10.68it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.63it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.36it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.65it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.73it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.31it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.19it/s] 61%|██████    | 78/128 [00:07<00:04, 10.31it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.27it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.27it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.41it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.03it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.98it/s] 70%|███████   | 90/128 [00:08<00:03,  9.97it/s] 71%|███████   | 91/128 [00:08<00:03,  9.89it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.19it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.93it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.61it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.75it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.77it/s] 80%|████████  | 103/128 [00:10<00:02, 10.61it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.68it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.95it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.99it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.19it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.49it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.43it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.03it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.41it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.42it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.34it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.27it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.77it/s]100%|██████████| 128/128 [00:12<00:00,  9.58it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]
[2024-01-18 13:46:50,670] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.60it/s]  2%|▏         | 2/128 [00:00<00:13,  9.30it/s]  3%|▎         | 4/128 [00:00<00:12, 10.09it/s]  5%|▍         | 6/128 [00:00<00:12, 10.05it/s]  6%|▋         | 8/128 [00:00<00:11, 10.47it/s]  8%|▊         | 10/128 [00:00<00:11, 10.35it/s]  9%|▉         | 12/128 [00:01<00:11, 10.20it/s] 11%|█         | 14/128 [00:01<00:11, 10.08it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.08it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.14it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.65it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.74it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.54it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.69it/s] 20%|██        | 26/128 [00:02<00:10,  9.63it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.19it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.02it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.02it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.97it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.25it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.52it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.58it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.45it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.05it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.28it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.24it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.41it/s] 41%|████      | 52/128 [00:05<00:07, 10.41it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.28it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.49it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.38it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.59it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.23it/s] 50%|█████     | 64/128 [00:06<00:06, 10.67it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.52it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.36it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.65it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.61it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.39it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.27it/s] 61%|██████    | 78/128 [00:07<00:04, 10.44it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.36it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.24it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.42it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.20it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.11it/s] 70%|███████   | 90/128 [00:08<00:03, 10.09it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.00it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.99it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.52it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.78it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.82it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.87it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.55it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.18it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.91it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.16it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.46it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.66it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.18it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.19it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.36it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.51it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.14it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.93it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00,  9.65it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]
[2024-01-18 13:47:03,195] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.79it/s]  2%|▏         | 2/128 [00:00<00:13,  9.11it/s]  3%|▎         | 4/128 [00:00<00:12, 10.13it/s]  5%|▍         | 6/128 [00:00<00:12, 10.07it/s]  6%|▋         | 8/128 [00:00<00:11, 10.15it/s]  8%|▊         | 10/128 [00:00<00:11, 10.50it/s]  9%|▉         | 12/128 [00:01<00:11, 10.30it/s] 11%|█         | 14/128 [00:01<00:11, 10.23it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.19it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.92it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.82it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.70it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.74it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.58it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.81it/s] 20%|██        | 26/128 [00:02<00:10,  9.70it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.95it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.84it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.26it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.15it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.16it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.41it/s] 30%|███       | 39/128 [00:03<00:08, 10.33it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.48it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.22it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.17it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.45it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.04it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.35it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.42it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.05it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.66it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.23it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.20it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.32it/s] 51%|█████     | 65/128 [00:06<00:05, 10.93it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.46it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.62it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.49it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.36it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.21it/s] 60%|██████    | 77/128 [00:07<00:04, 10.44it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.31it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.27it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.27it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.12it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.05it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.08it/s] 71%|███████   | 91/128 [00:08<00:03,  9.84it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.07it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.97it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.69it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.87it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.76it/s] 80%|████████  | 103/128 [00:10<00:02, 10.44it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.46it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.10it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.12it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.24it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.38it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.28it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.20it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.50it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.57it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.18it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.14it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.79it/s]100%|██████████| 128/128 [00:12<00:00,  9.69it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 13:47:15,752] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.37it/s]  2%|▏         | 2/128 [00:00<00:13,  9.36it/s]  3%|▎         | 4/128 [00:00<00:12,  9.70it/s]  5%|▍         | 6/128 [00:00<00:12,  9.76it/s]  6%|▋         | 8/128 [00:00<00:11, 10.10it/s]  8%|▊         | 10/128 [00:00<00:11, 10.49it/s]  9%|▉         | 12/128 [00:01<00:11, 10.40it/s] 11%|█         | 14/128 [00:01<00:11, 10.11it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.02it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.96it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.86it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.74it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.85it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.56it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.59it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.49it/s] 20%|██        | 26/128 [00:02<00:10,  9.47it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.03it/s] 23%|██▎       | 29/128 [00:02<00:09,  9.91it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.43it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.27it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.92it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.31it/s] 30%|███       | 39/128 [00:03<00:08, 10.35it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.50it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.34it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.00it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.23it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.06it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.36it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.62it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.94it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.43it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.24it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.41it/s] 51%|█████     | 65/128 [00:06<00:05, 11.03it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.18it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.42it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.54it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.40it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.34it/s] 60%|██████    | 77/128 [00:07<00:04, 10.28it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.16it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.28it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.28it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.22it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.90it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.93it/s] 71%|███████   | 91/128 [00:08<00:03,  9.88it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.10it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.10it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.62it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.68it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.73it/s] 80%|████████  | 103/128 [00:10<00:02, 10.49it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.58it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.17it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.90it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.16it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.38it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.31it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.22it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.33it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.38it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.21it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.17it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.89it/s]100%|██████████| 128/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00, 10.17it/s]
[2024-01-18 13:47:28,343] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:15,  8.31it/s]  2%|▏         | 2/128 [00:00<00:14,  8.79it/s]  3%|▎         | 4/128 [00:00<00:12,  9.88it/s]  5%|▍         | 6/128 [00:00<00:12,  9.84it/s]  6%|▋         | 8/128 [00:00<00:11, 10.31it/s]  8%|▊         | 10/128 [00:00<00:11, 10.61it/s]  9%|▉         | 12/128 [00:01<00:11, 10.18it/s] 11%|█         | 14/128 [00:01<00:11, 10.17it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.01it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.04it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.81it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.73it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.49it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.67it/s] 20%|██        | 26/128 [00:02<00:10,  9.54it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.11it/s] 23%|██▎       | 29/128 [00:02<00:09,  9.97it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.40it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.01it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.89it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.17it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.47it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.62it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.60it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.96it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.22it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.12it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.33it/s] 41%|████      | 52/128 [00:05<00:07, 10.63it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.14it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.42it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.23it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.48it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.38it/s] 50%|█████     | 64/128 [00:06<00:05, 10.67it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.57it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.31it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.56it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.65it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.27it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.16it/s] 61%|██████    | 78/128 [00:07<00:04, 10.28it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.23it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.19it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.31it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.07it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.95it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.83it/s] 71%|███████   | 91/128 [00:08<00:03,  9.93it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.20it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.85it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.60it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.67it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.75it/s] 80%|████████  | 103/128 [00:10<00:02, 10.57it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.52it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.90it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.88it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.13it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.46it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.40it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.97it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.33it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.34it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.29it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.22it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.67it/s]100%|██████████| 128/128 [00:12<00:00,  9.59it/s]100%|██████████| 128/128 [00:12<00:00, 10.16it/s]
[2024-01-18 13:47:57,045] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 30/128 [00:00<00:00, 294.73it/s] 48%|████▊     | 61/128 [00:00<00:00, 300.48it/s] 73%|███████▎  | 93/128 [00:00<00:00, 308.92it/s] 97%|█████████▋| 124/128 [00:00<00:00, 309.29it/s]100%|██████████| 128/128 [00:00<00:00, 305.50it/s]
[2024-01-18 13:47:57,594] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.74it/s]  2%|▏         | 2/128 [00:00<00:14,  8.73it/s]  3%|▎         | 4/128 [00:00<00:12,  9.65it/s]  4%|▍         | 5/128 [00:00<00:13,  9.39it/s]  5%|▍         | 6/128 [00:00<00:13,  9.37it/s]  6%|▋         | 8/128 [00:00<00:11, 10.09it/s]  7%|▋         | 9/128 [00:00<00:11,  9.94it/s]  8%|▊         | 10/128 [00:01<00:12,  9.58it/s]  9%|▊         | 11/128 [00:01<00:12,  9.67it/s] 10%|█         | 13/128 [00:01<00:11, 10.29it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.83it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.98it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.06it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.91it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.22it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.09it/s] 21%|██        | 27/128 [00:02<00:09, 10.12it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.75it/s] 24%|██▍       | 31/128 [00:03<00:08, 10.86it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.29it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.23it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.13it/s] 30%|███       | 39/128 [00:03<00:08, 10.19it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.08it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.88it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.31it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.97it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.29it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.51it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.30it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.08it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.12it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.06it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.12it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.00it/s] 51%|█████     | 65/128 [00:06<00:06, 10.26it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.13it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.17it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.50it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.54it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.18it/s] 60%|██████    | 77/128 [00:07<00:04, 10.83it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.83it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.88it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.55it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.07it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.38it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.23it/s] 71%|███████   | 91/128 [00:08<00:03, 10.26it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.98it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.83it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.13it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.68it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.30it/s] 80%|████████  | 103/128 [00:10<00:02, 10.53it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.55it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.58it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.44it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.37it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.59it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.33it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.32it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.52it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.58it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.69it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.50it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.81it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]
[2024-01-18 13:48:10,117] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.24it/s]  2%|▏         | 2/128 [00:00<00:14,  8.90it/s]  3%|▎         | 4/128 [00:00<00:12,  9.75it/s]  4%|▍         | 5/128 [00:00<00:12,  9.56it/s]  5%|▍         | 6/128 [00:00<00:12,  9.50it/s]  6%|▋         | 8/128 [00:00<00:12,  9.96it/s]  7%|▋         | 9/128 [00:00<00:12,  9.63it/s]  8%|▊         | 10/128 [00:01<00:12,  9.47it/s]  9%|▉         | 12/128 [00:01<00:11, 10.13it/s] 11%|█         | 14/128 [00:01<00:11, 10.08it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.94it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.05it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.82it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.97it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.19it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.17it/s] 21%|██        | 27/128 [00:02<00:09, 10.15it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.65it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.68it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.39it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.26it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.23it/s] 30%|███       | 39/128 [00:03<00:08, 10.21it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.84it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.78it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.09it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.19it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.24it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.33it/s] 41%|████      | 52/128 [00:05<00:07, 10.42it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.96it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.28it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.24it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.80it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.01it/s] 50%|█████     | 64/128 [00:06<00:06, 10.02it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.31it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.97it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.66it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.18it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.35it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.55it/s] 61%|██████    | 78/128 [00:07<00:04, 10.70it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.83it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.59it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.05it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.19it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.44it/s] 70%|███████   | 90/128 [00:08<00:03, 10.11it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.89it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.72it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.68it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.00it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.31it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.69it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.29it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.36it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.47it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.65it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.51it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.43it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.27it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.14it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.31it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.49it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.63it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.27it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.07it/s]100%|██████████| 128/128 [00:12<00:00,  9.93it/s]100%|██████████| 128/128 [00:12<00:00, 10.18it/s]
[2024-01-18 13:48:22,696] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.33it/s]  2%|▏         | 2/128 [00:00<00:13,  9.20it/s]  3%|▎         | 4/128 [00:00<00:12,  9.83it/s]  4%|▍         | 5/128 [00:00<00:12,  9.51it/s]  5%|▍         | 6/128 [00:00<00:13,  9.09it/s]  6%|▋         | 8/128 [00:00<00:12,  9.85it/s]  7%|▋         | 9/128 [00:00<00:12,  9.67it/s]  8%|▊         | 10/128 [00:01<00:12,  9.45it/s]  9%|▉         | 12/128 [00:01<00:11, 10.20it/s] 11%|█         | 14/128 [00:01<00:11, 10.20it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.90it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.77it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.85it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.97it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.31it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.22it/s] 21%|██        | 27/128 [00:02<00:10,  9.93it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.58it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.63it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.41it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.32it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.98it/s] 30%|███       | 39/128 [00:03<00:08, 10.03it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.88it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.77it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.16it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.23it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.94it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.26it/s] 41%|████      | 52/128 [00:05<00:07, 10.36it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.01it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.34it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.96it/s] 47%|████▋     | 60/128 [00:05<00:07,  9.71it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.95it/s] 50%|█████     | 64/128 [00:06<00:06, 10.03it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.33it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.84it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.50it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.31it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.43it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.70it/s] 61%|██████    | 78/128 [00:07<00:04, 10.71it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.75it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.68it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.10it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.36it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.50it/s] 70%|███████   | 90/128 [00:08<00:03, 10.04it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.99it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.80it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.13it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.35it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.58it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.20it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.46it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.52it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.76it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.58it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.21it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.43it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.18it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.49it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.59it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.47it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.27it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.04it/s]100%|██████████| 128/128 [00:12<00:00, 10.02it/s]100%|██████████| 128/128 [00:12<00:00, 10.18it/s]
[2024-01-18 13:48:35,273] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.31it/s]  2%|▏         | 2/128 [00:00<00:13,  9.18it/s]  3%|▎         | 4/128 [00:00<00:13,  9.38it/s]  4%|▍         | 5/128 [00:00<00:13,  9.11it/s]  5%|▍         | 6/128 [00:00<00:13,  9.18it/s]  6%|▋         | 8/128 [00:00<00:12,  9.77it/s]  7%|▋         | 9/128 [00:00<00:12,  9.70it/s]  8%|▊         | 10/128 [00:01<00:12,  9.51it/s]  9%|▉         | 12/128 [00:01<00:11, 10.24it/s] 11%|█         | 14/128 [00:01<00:11,  9.95it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.67it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.84it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.84it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.02it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.33it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.97it/s] 21%|██        | 27/128 [00:02<00:10,  9.98it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.44it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.65it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.43it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.11it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.01it/s] 30%|███       | 39/128 [00:03<00:08,  9.97it/s] 31%|███▏      | 40/128 [00:04<00:08,  9.79it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.84it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.23it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.96it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.88it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.17it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.44it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.36it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.14it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.91it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.88it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.74it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.12it/s] 50%|█████     | 64/128 [00:06<00:06, 10.16it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.26it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.80it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.48it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.27it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.44it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.68it/s] 61%|██████    | 78/128 [00:07<00:04, 10.42it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.63it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.57it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.06it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.32it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.20it/s] 70%|███████   | 90/128 [00:08<00:03,  9.93it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.86it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.78it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.69it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.15it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.13it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.45it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.20it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.50it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.65it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.77it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.32it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.26it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.34it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.19it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.50it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.27it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.43it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.21it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]
[2024-01-18 13:48:47,917] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.80it/s]  2%|▏         | 2/128 [00:00<00:14,  8.41it/s]  3%|▎         | 4/128 [00:00<00:13,  9.40it/s]  4%|▍         | 5/128 [00:00<00:13,  9.18it/s]  5%|▍         | 6/128 [00:00<00:13,  9.16it/s]  6%|▋         | 8/128 [00:00<00:12,  9.90it/s]  7%|▋         | 9/128 [00:00<00:12,  9.81it/s]  8%|▊         | 10/128 [00:01<00:12,  9.58it/s]  9%|▉         | 12/128 [00:01<00:11,  9.91it/s] 11%|█         | 14/128 [00:01<00:11,  9.91it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.72it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.81it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.93it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.05it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.94it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.19it/s] 20%|██        | 26/128 [00:02<00:10, 10.02it/s] 21%|██        | 27/128 [00:02<00:10,  9.91it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.64it/s] 24%|██▍       | 31/128 [00:03<00:08, 10.82it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.17it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.11it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.99it/s] 30%|███       | 39/128 [00:03<00:08, 10.06it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.00it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.76it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.16it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.82it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.14it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.44it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.13it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.95it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.93it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.89it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.82it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.18it/s] 50%|█████     | 64/128 [00:06<00:06,  9.88it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.24it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.75it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.51it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.34it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.26it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.40it/s] 61%|██████    | 78/128 [00:07<00:04, 10.53it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.62it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.68it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.11it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.02it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.30it/s] 70%|███████   | 90/128 [00:08<00:03,  9.89it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.91it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.82it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.73it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.73it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.04it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.74it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.18it/s] 80%|████████  | 103/128 [00:10<00:02, 10.46it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.61it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.46it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.38it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.22it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.48it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.28it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.31it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.39it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.44it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.55it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.41it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.81it/s]100%|██████████| 128/128 [00:12<00:00,  9.84it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]
[2024-01-18 13:49:16,660] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 16%|█▋        | 21/128 [00:00<00:00, 205.71it/s] 35%|███▌      | 45/128 [00:00<00:00, 218.47it/s] 52%|█████▏    | 67/128 [00:00<00:00, 214.63it/s] 70%|███████   | 90/128 [00:00<00:00, 218.55it/s] 88%|████████▊ | 113/128 [00:00<00:00, 218.82it/s]100%|██████████| 128/128 [00:00<00:00, 217.90it/s]
[2024-01-18 13:49:17,375] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.68it/s]  3%|▎         | 4/128 [00:00<00:12, 10.22it/s]  5%|▍         | 6/128 [00:00<00:10, 11.14it/s]  6%|▋         | 8/128 [00:00<00:10, 11.17it/s]  8%|▊         | 10/128 [00:00<00:10, 11.67it/s]  9%|▉         | 12/128 [00:01<00:10, 11.58it/s] 11%|█         | 14/128 [00:01<00:10, 10.67it/s] 12%|█▎        | 16/128 [00:01<00:09, 11.29it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.57it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.33it/s] 17%|█▋        | 22/128 [00:01<00:09, 11.22it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.70it/s] 20%|██        | 26/128 [00:02<00:09, 10.34it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.22it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.35it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.61it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.09it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.87it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.26it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.37it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.38it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.60it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.52it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.37it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.54it/s] 41%|████      | 52/128 [00:04<00:07, 10.43it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.36it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.57it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.26it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.03it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.24it/s] 50%|█████     | 64/128 [00:06<00:06, 10.62it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.81it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.40it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.34it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.51it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.74it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.55it/s] 61%|██████    | 78/128 [00:07<00:04, 10.31it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.46it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.64it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.80it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.69it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.85it/s] 70%|███████   | 90/128 [00:08<00:03, 10.73it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.92it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.88it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.89it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.95it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.87it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.43it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.49it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.66it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.54it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.67it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.57it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.78it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.52it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.79it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.64it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.45it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.98it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.99it/s]100%|██████████| 128/128 [00:12<00:00, 10.72it/s]100%|██████████| 128/128 [00:12<00:00, 10.64it/s]
[2024-01-18 13:49:29,417] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:10, 11.55it/s]  3%|▎         | 4/128 [00:00<00:11, 10.48it/s]  5%|▍         | 6/128 [00:00<00:10, 11.10it/s]  6%|▋         | 8/128 [00:00<00:10, 11.20it/s]  8%|▊         | 10/128 [00:00<00:10, 11.52it/s]  9%|▉         | 12/128 [00:01<00:10, 11.50it/s] 11%|█         | 14/128 [00:01<00:10, 10.98it/s] 12%|█▎        | 16/128 [00:01<00:09, 11.28it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.57it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.31it/s] 17%|█▋        | 22/128 [00:01<00:09, 11.07it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.70it/s] 20%|██        | 26/128 [00:02<00:09, 10.60it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.23it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.37it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.55it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.02it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.10it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.26it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.45it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.37it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.56it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.71it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.43it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.53it/s] 41%|████      | 52/128 [00:04<00:07, 10.42it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.34it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.55it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.42it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.96it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.19it/s] 50%|█████     | 64/128 [00:06<00:06, 10.53it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.75it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.59it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.22it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.51it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.60it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.42it/s] 61%|██████    | 78/128 [00:07<00:04, 10.38it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.55it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.59it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.76it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.59it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.77it/s] 70%|███████   | 90/128 [00:08<00:03, 10.89it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.83it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.92it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.84it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.88it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.96it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.56it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.55it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.65it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.52it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.71it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.72it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.63it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.49it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.70it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.58it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.67it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.89it/s] 98%|█████████▊| 126/128 [00:11<00:00, 11.02it/s]100%|██████████| 128/128 [00:12<00:00, 10.60it/s]100%|██████████| 128/128 [00:12<00:00, 10.64it/s]
[2024-01-18 13:49:41,452] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.40it/s]  3%|▎         | 4/128 [00:00<00:11, 10.71it/s]  5%|▍         | 6/128 [00:00<00:10, 11.50it/s]  6%|▋         | 8/128 [00:00<00:10, 11.16it/s]  8%|▊         | 10/128 [00:00<00:10, 11.64it/s]  9%|▉         | 12/128 [00:01<00:10, 11.41it/s] 11%|█         | 14/128 [00:01<00:10, 10.88it/s] 12%|█▎        | 16/128 [00:01<00:09, 11.48it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.69it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.26it/s] 17%|█▋        | 22/128 [00:01<00:09, 11.02it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.61it/s] 20%|██        | 26/128 [00:02<00:09, 10.57it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.26it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.22it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.46it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.90it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.01it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.34it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.20it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.23it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.36it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.55it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.47it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.40it/s] 41%|████      | 52/128 [00:04<00:07, 10.26it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.09it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.37it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.38it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.91it/s] 48%|████▊     | 61/128 [00:05<00:06,  9.91it/s] 49%|████▉     | 63/128 [00:05<00:06, 10.33it/s] 51%|█████     | 65/128 [00:06<00:05, 10.51it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.41it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.41it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.43it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.54it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.41it/s] 60%|██████    | 77/128 [00:07<00:04, 10.26it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.52it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.80it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.57it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.47it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.55it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.77it/s] 71%|███████   | 91/128 [00:08<00:03, 10.96it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.87it/s] 74%|███████▍  | 95/128 [00:08<00:03, 10.73it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.73it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.81it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.86it/s] 80%|████████  | 103/128 [00:09<00:02, 10.65it/s] 82%|████████▏ | 105/128 [00:09<00:02, 10.38it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.36it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.48it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.64it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.75it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.38it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.54it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.69it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.46it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.98it/s] 98%|█████████▊| 125/128 [00:11<00:00, 11.37it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.33it/s]100%|██████████| 128/128 [00:12<00:00, 10.58it/s]
[2024-01-18 13:49:53,560] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.08it/s]  3%|▎         | 4/128 [00:00<00:11, 10.47it/s]  5%|▍         | 6/128 [00:00<00:10, 11.44it/s]  6%|▋         | 8/128 [00:00<00:10, 11.42it/s]  8%|▊         | 10/128 [00:00<00:10, 11.46it/s]  9%|▉         | 12/128 [00:01<00:10, 11.35it/s] 11%|█         | 14/128 [00:01<00:10, 10.73it/s] 12%|█▎        | 16/128 [00:01<00:09, 11.35it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.73it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.46it/s] 17%|█▋        | 22/128 [00:01<00:09, 10.87it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.54it/s] 20%|██        | 26/128 [00:02<00:09, 10.39it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.26it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.43it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.38it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.86it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.76it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.16it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.42it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.16it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.33it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.42it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.28it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.51it/s] 41%|████      | 52/128 [00:04<00:07, 10.41it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.98it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.23it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.18it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.98it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.24it/s] 50%|█████     | 64/128 [00:06<00:06, 10.24it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.53it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.29it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.28it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.55it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.45it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.21it/s] 61%|██████    | 78/128 [00:07<00:04, 10.12it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.42it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.66it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.80it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.46it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.61it/s] 70%|███████   | 90/128 [00:08<00:03, 10.76it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.92it/s] 73%|███████▎  | 94/128 [00:08<00:03, 11.00it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.84it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.75it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.82it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.56it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.65it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.74it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.32it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.54it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.58it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.78it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.58it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.57it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.44it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.45it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.97it/s] 98%|█████████▊| 126/128 [00:11<00:00, 11.11it/s]100%|██████████| 128/128 [00:12<00:00, 10.74it/s]100%|██████████| 128/128 [00:12<00:00, 10.57it/s]
[2024-01-18 13:50:05,682] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.36it/s]  3%|▎         | 4/128 [00:00<00:12, 10.23it/s]  5%|▍         | 6/128 [00:00<00:10, 11.14it/s]  6%|▋         | 8/128 [00:00<00:10, 11.23it/s]  8%|▊         | 10/128 [00:00<00:10, 11.65it/s]  9%|▉         | 12/128 [00:01<00:10, 11.41it/s] 11%|█         | 14/128 [00:01<00:10, 10.73it/s] 12%|█▎        | 16/128 [00:01<00:09, 11.31it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.66it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.38it/s] 17%|█▋        | 22/128 [00:01<00:09, 11.23it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.61it/s] 20%|██        | 26/128 [00:02<00:09, 10.48it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.30it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.44it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.66it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.95it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.97it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.26it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.47it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.40it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.47it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.49it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.38it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.56it/s] 41%|████      | 52/128 [00:04<00:07, 10.47it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.27it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.33it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.30it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.03it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.30it/s] 50%|█████     | 64/128 [00:06<00:06, 10.55it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.62it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.47it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.33it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.58it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.75it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.32it/s] 61%|██████    | 78/128 [00:07<00:04, 10.26it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.47it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.66it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.84it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.44it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.59it/s] 70%|███████   | 90/128 [00:08<00:03, 10.70it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.88it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.97it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.86it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.64it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.80it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.50it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.61it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.74it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.35it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.49it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.54it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.73it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.58it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.67it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.37it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.41it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.89it/s] 98%|█████████▊| 126/128 [00:11<00:00, 11.04it/s]100%|██████████| 128/128 [00:12<00:00, 10.74it/s]100%|██████████| 128/128 [00:12<00:00, 10.61it/s]
[2024-01-18 13:50:33,669] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 27%|██▋       | 35/128 [00:00<00:00, 344.29it/s] 55%|█████▍    | 70/128 [00:00<00:00, 337.48it/s] 82%|████████▏ | 105/128 [00:00<00:00, 341.92it/s]100%|██████████| 128/128 [00:00<00:00, 338.13it/s]
[2024-01-18 13:50:34,174] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.74it/s]  2%|▏         | 2/128 [00:00<00:13,  9.61it/s]  3%|▎         | 4/128 [00:00<00:12, 10.25it/s]  5%|▍         | 6/128 [00:00<00:12,  9.51it/s]  6%|▋         | 8/128 [00:00<00:11, 10.03it/s]  8%|▊         | 10/128 [00:00<00:10, 10.80it/s]  9%|▉         | 12/128 [00:01<00:10, 10.65it/s] 11%|█         | 14/128 [00:01<00:10, 10.40it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.64it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.81it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.89it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.63it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.45it/s] 20%|██        | 26/128 [00:02<00:09, 10.60it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.68it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.75it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.77it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.90it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.61it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.35it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.55it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.71it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.78it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.66it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.37it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.23it/s] 41%|████      | 52/128 [00:04<00:07, 10.19it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.62it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.41it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.21it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.08it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.04it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.44it/s] 51%|█████     | 65/128 [00:06<00:06, 10.16it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.89it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.86it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.99it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.05it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.13it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.29it/s] 61%|██████    | 78/128 [00:07<00:05,  9.97it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.20it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.18it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.31it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.49it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.72it/s] 70%|███████   | 90/128 [00:08<00:03, 11.10it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.44it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.26it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.31it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.23it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.05it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.13it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.07it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.12it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.40it/s] 86%|████████▌ | 110/128 [00:10<00:01, 11.03it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.84it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.95it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.33it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.53it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.02it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.21it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.65it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.90it/s]100%|██████████| 128/128 [00:12<00:00,  9.93it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 13:50:46,613] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.67it/s]  2%|▏         | 2/128 [00:00<00:13,  9.58it/s]  3%|▎         | 4/128 [00:00<00:12,  9.99it/s]  5%|▍         | 6/128 [00:00<00:12,  9.40it/s]  6%|▋         | 8/128 [00:00<00:12,  9.88it/s]  8%|▊         | 10/128 [00:00<00:11, 10.68it/s]  9%|▉         | 12/128 [00:01<00:10, 10.58it/s] 11%|█         | 14/128 [00:01<00:11, 10.26it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.47it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.66it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.74it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.50it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.39it/s] 20%|██        | 26/128 [00:02<00:09, 10.28it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.55it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.55it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.66it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.81it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.34it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.16it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.29it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.52it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.64it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.50it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.12it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.11it/s] 41%|████      | 52/128 [00:05<00:07, 10.42it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.10it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.10it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.51it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.64it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.41it/s] 50%|█████     | 64/128 [00:06<00:06, 10.44it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.07it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.81it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.16it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.27it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.46it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.63it/s] 61%|██████    | 78/128 [00:07<00:05,  9.96it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.27it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.14it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.40it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.55it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.58it/s] 70%|███████   | 90/128 [00:08<00:03, 10.97it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.41it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.27it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.30it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.22it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.90it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.14it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.02it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.10it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.35it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.75it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.92it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.88it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.36it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.55it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.82it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.65it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.13it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.59it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.97it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.79it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]
[2024-01-18 13:50:59,059] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.24it/s]  2%|▏         | 2/128 [00:00<00:14,  8.74it/s]  3%|▎         | 4/128 [00:00<00:12, 10.00it/s]  5%|▍         | 6/128 [00:00<00:13,  9.29it/s]  6%|▋         | 8/128 [00:00<00:12,  9.93it/s]  8%|▊         | 10/128 [00:00<00:10, 10.75it/s]  9%|▉         | 12/128 [00:01<00:11, 10.27it/s] 11%|█         | 14/128 [00:01<00:11, 10.11it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.41it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.60it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.79it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.50it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.07it/s] 20%|██        | 26/128 [00:02<00:09, 10.34it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.46it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.61it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.69it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.57it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.30it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.11it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.36it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.59it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.55it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.30it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.20it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.14it/s] 41%|████      | 52/128 [00:05<00:07, 10.49it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.11it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.84it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.51it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.55it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.45it/s] 50%|█████     | 64/128 [00:06<00:06, 10.43it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.81it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.72it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.03it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.28it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.51it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.63it/s] 60%|██████    | 77/128 [00:07<00:05, 10.16it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.14it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.34it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.27it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.50it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.36it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.65it/s] 71%|███████   | 91/128 [00:08<00:03, 10.78it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.35it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.54it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.27it/s] 77%|███████▋  | 99/128 [00:09<00:02,  9.91it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.11it/s] 80%|████████  | 103/128 [00:09<00:02, 10.28it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.25it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.11it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.74it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.83it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.99it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.71it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.37it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.87it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.81it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.30it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.77it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.04it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.74it/s]100%|██████████| 128/128 [00:12<00:00, 10.27it/s]
[2024-01-18 13:51:11,527] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.96it/s]  2%|▏         | 2/128 [00:00<00:14,  8.93it/s]  3%|▎         | 4/128 [00:00<00:12, 10.11it/s]  5%|▍         | 6/128 [00:00<00:12,  9.48it/s]  6%|▋         | 8/128 [00:00<00:12,  9.93it/s]  8%|▊         | 10/128 [00:00<00:11, 10.70it/s]  9%|▉         | 12/128 [00:01<00:11, 10.35it/s] 11%|█         | 14/128 [00:01<00:11, 10.17it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.52it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.73it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.73it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.37it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.18it/s] 20%|██        | 26/128 [00:02<00:09, 10.42it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.59it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.56it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.66it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.55it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.39it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.28it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.39it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.54it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.43it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.41it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.30it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.18it/s] 41%|████      | 52/128 [00:05<00:07, 10.51it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.90it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.98it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.59it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.70it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.42it/s] 50%|█████     | 64/128 [00:06<00:06, 10.29it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.90it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.78it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.11it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.35it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.41it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.50it/s] 60%|██████    | 77/128 [00:07<00:04, 10.33it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.25it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.47it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.22it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.38it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.51it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.71it/s] 71%|███████   | 91/128 [00:08<00:03, 10.91it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.33it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.46it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.28it/s] 77%|███████▋  | 99/128 [00:09<00:02,  9.97it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.20it/s] 80%|████████  | 103/128 [00:09<00:02, 10.27it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.14it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.10it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.74it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.92it/s] 88%|████████▊ | 113/128 [00:10<00:01, 11.03it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.60it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.35it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.85it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.91it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.38it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.71it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.94it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.76it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 13:51:23,969] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.47it/s]  2%|▏         | 2/128 [00:00<00:13,  9.47it/s]  3%|▎         | 4/128 [00:00<00:11, 10.33it/s]  5%|▍         | 6/128 [00:00<00:13,  9.37it/s]  6%|▋         | 8/128 [00:00<00:12,  9.90it/s]  8%|▊         | 10/128 [00:00<00:11, 10.69it/s]  9%|▉         | 12/128 [00:01<00:11, 10.53it/s] 11%|█         | 14/128 [00:01<00:11, 10.36it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.55it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.58it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.74it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.46it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.36it/s] 20%|██        | 26/128 [00:02<00:09, 10.43it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.55it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.54it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.55it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.71it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.38it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.20it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.34it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.53it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.60it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.43it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.24it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.12it/s] 41%|████      | 52/128 [00:05<00:07, 10.45it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.09it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.04it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.58it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.56it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.40it/s] 50%|█████     | 64/128 [00:06<00:06, 10.40it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.96it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.90it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.08it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.31it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.47it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.59it/s] 61%|██████    | 78/128 [00:07<00:04, 10.07it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.20it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.18it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.37it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.52it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.58it/s] 70%|███████   | 90/128 [00:08<00:03, 11.09it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.43it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.29it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.31it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.10it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.98it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.12it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.07it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.12it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.27it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.87it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.81it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.92it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.36it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.44it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.89it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.63it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.01it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.61it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.96it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.70it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 13:51:52,348] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 266.29it/s] 43%|████▎     | 55/128 [00:00<00:00, 271.74it/s] 65%|██████▍   | 83/128 [00:00<00:00, 256.81it/s] 86%|████████▌ | 110/128 [00:00<00:00, 261.07it/s]100%|██████████| 128/128 [00:00<00:00, 257.73it/s]
[2024-01-18 13:51:52,972] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.97it/s]  2%|▏         | 3/128 [00:00<00:13,  9.58it/s]  4%|▍         | 5/128 [00:00<00:12, 10.06it/s]  5%|▌         | 7/128 [00:00<00:11, 10.93it/s]  7%|▋         | 9/128 [00:00<00:11, 10.71it/s]  9%|▊         | 11/128 [00:01<00:10, 10.90it/s] 10%|█         | 13/128 [00:01<00:10, 10.83it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.37it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.34it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.59it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.52it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.06it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.99it/s] 21%|██        | 27/128 [00:02<00:10, 10.05it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.34it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.20it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.10it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.21it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.16it/s] 30%|███       | 39/128 [00:03<00:08,  9.93it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.91it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.11it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.23it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.43it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.51it/s] 40%|███▉      | 51/128 [00:04<00:06, 11.03it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.36it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.22it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.40it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.37it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.37it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.21it/s] 51%|█████     | 65/128 [00:06<00:06, 10.36it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.97it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.28it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.88it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.94it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.62it/s] 60%|██████    | 77/128 [00:07<00:04, 10.37it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.68it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.16it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.84it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.24it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.74it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.44it/s] 71%|███████   | 91/128 [00:08<00:03, 10.29it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.56it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.36it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.49it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.57it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.19it/s] 80%|████████  | 103/128 [00:09<00:02, 10.39it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.01it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.29it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.13it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.42it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.40it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.19it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.07it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.17it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.37it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.54it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.35it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.92it/s]100%|██████████| 128/128 [00:12<00:00,  9.67it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]
[2024-01-18 13:52:05,375] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.34it/s]  2%|▏         | 3/128 [00:00<00:12,  9.78it/s]  4%|▍         | 5/128 [00:00<00:11, 10.31it/s]  5%|▌         | 7/128 [00:00<00:10, 11.01it/s]  7%|▋         | 9/128 [00:00<00:11, 10.68it/s]  9%|▊         | 11/128 [00:01<00:10, 10.68it/s] 10%|█         | 13/128 [00:01<00:10, 10.82it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.49it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.39it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.59it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.35it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.07it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.06it/s] 21%|██        | 27/128 [00:02<00:10, 10.07it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.29it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.01it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.06it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.29it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.21it/s] 30%|███       | 39/128 [00:03<00:09,  9.83it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.93it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.07it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.29it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.46it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.41it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.96it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.26it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.23it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.45it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.30it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.29it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.12it/s] 51%|█████     | 65/128 [00:06<00:06, 10.37it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.01it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.24it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.84it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.83it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.58it/s] 60%|██████    | 77/128 [00:07<00:04, 10.49it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.60it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.15it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.74it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.19it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.77it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.43it/s] 71%|███████   | 91/128 [00:08<00:03, 10.29it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.45it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.36it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.50it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.57it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.18it/s] 80%|████████  | 103/128 [00:09<00:02, 10.29it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.96it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.26it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.13it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.43it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.34it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.13it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.02it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.25it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.36it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.51it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.16it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.85it/s]100%|██████████| 128/128 [00:12<00:00,  9.71it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]
[2024-01-18 13:52:17,800] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.46it/s]  2%|▏         | 3/128 [00:00<00:13,  9.58it/s]  4%|▍         | 5/128 [00:00<00:12, 10.10it/s]  5%|▌         | 7/128 [00:00<00:11, 10.72it/s]  7%|▋         | 9/128 [00:00<00:11, 10.58it/s]  9%|▊         | 11/128 [00:01<00:10, 10.78it/s] 10%|█         | 13/128 [00:01<00:10, 10.77it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.44it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.22it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.52it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.42it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.10it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.01it/s] 21%|██        | 27/128 [00:02<00:10,  9.94it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.26it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.12it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.14it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.25it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.07it/s] 30%|███       | 39/128 [00:03<00:09,  9.82it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.90it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.18it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.26it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.36it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.90it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.38it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.18it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.39it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.23it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.22it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.19it/s] 51%|█████     | 65/128 [00:06<00:06, 10.30it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.95it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.14it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.76it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.86it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.52it/s] 60%|██████    | 77/128 [00:07<00:04, 10.46it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.54it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.03it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.73it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.25it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.76it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.40it/s] 71%|███████   | 91/128 [00:08<00:03, 10.21it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.45it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.35it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.39it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.60it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.03it/s] 80%|████████  | 103/128 [00:09<00:02, 10.27it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.00it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.19it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.20it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.30it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.31it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.15it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.98it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.23it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.22it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.44it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.30it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.80it/s]100%|██████████| 128/128 [00:12<00:00,  9.67it/s]100%|██████████| 128/128 [00:12<00:00, 10.27it/s]
[2024-01-18 13:52:30,268] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.41it/s]  2%|▏         | 2/128 [00:00<00:12,  9.72it/s]  2%|▏         | 3/128 [00:00<00:13,  9.25it/s]  4%|▍         | 5/128 [00:00<00:12, 10.08it/s]  5%|▌         | 7/128 [00:00<00:11, 10.97it/s]  7%|▋         | 9/128 [00:00<00:11, 10.61it/s]  9%|▊         | 11/128 [00:01<00:10, 10.79it/s] 10%|█         | 13/128 [00:01<00:10, 10.63it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.31it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.29it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.57it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.35it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.89it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.74it/s] 20%|██        | 26/128 [00:02<00:10, 10.16it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.18it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.27it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.87it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.02it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.05it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.05it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.93it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.85it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.99it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.21it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.40it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.51it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.90it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.31it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.12it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.38it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.36it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.24it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.16it/s] 51%|█████     | 65/128 [00:06<00:06, 10.14it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.92it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.25it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.77it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.84it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.42it/s] 60%|██████    | 77/128 [00:07<00:04, 10.37it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.62it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.14it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.70it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.22it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.69it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.46it/s] 71%|███████   | 91/128 [00:08<00:03, 10.27it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.40it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.38it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.41it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.62it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.18it/s] 80%|████████  | 103/128 [00:09<00:02, 10.24it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.01it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.19it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.20it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.43it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.28it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.18it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.99it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.19it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.36it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.40it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.28it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.80it/s]100%|██████████| 128/128 [00:12<00:00,  9.64it/s]100%|██████████| 128/128 [00:12<00:00, 10.26it/s]
[2024-01-18 13:52:42,752] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.35it/s]  2%|▏         | 3/128 [00:00<00:13,  9.52it/s]  4%|▍         | 5/128 [00:00<00:12, 10.08it/s]  5%|▌         | 7/128 [00:00<00:11, 10.90it/s]  7%|▋         | 9/128 [00:00<00:11, 10.53it/s]  9%|▊         | 11/128 [00:01<00:10, 10.74it/s] 10%|█         | 13/128 [00:01<00:10, 10.80it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.28it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.27it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.42it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.34it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.97it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.94it/s] 21%|██        | 27/128 [00:02<00:10,  9.98it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.17it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.06it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.01it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.21it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.13it/s] 30%|███       | 39/128 [00:03<00:09,  9.76it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.87it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.02it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.23it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.40it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.38it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.92it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.34it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.15it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.38it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.20it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.20it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.15it/s] 51%|█████     | 65/128 [00:06<00:06, 10.29it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.96it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.14it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.74it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.85it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.61it/s] 60%|██████    | 77/128 [00:07<00:04, 10.40it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.66it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.93it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.68it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.22it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.68it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.49it/s] 71%|███████   | 91/128 [00:08<00:03, 10.13it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.43it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.36it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.40it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.63it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.00it/s] 80%|████████  | 103/128 [00:09<00:02, 10.25it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.97it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.19it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.19it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.23it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.26it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.12it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.01it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.19it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.23it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.39it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.25it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.84it/s]100%|██████████| 128/128 [00:12<00:00,  9.66it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]
[2024-01-18 13:53:10,917] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 289.76it/s] 45%|████▌     | 58/128 [00:00<00:00, 264.39it/s] 73%|███████▎  | 93/128 [00:00<00:00, 297.60it/s] 98%|█████████▊| 125/128 [00:00<00:00, 302.67it/s]100%|██████████| 128/128 [00:00<00:00, 296.06it/s]
[2024-01-18 13:53:11,476] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.59it/s]  3%|▎         | 4/128 [00:00<00:11, 10.41it/s]  5%|▍         | 6/128 [00:00<00:11, 10.24it/s]  6%|▋         | 8/128 [00:00<00:11, 10.27it/s]  8%|▊         | 10/128 [00:00<00:11, 10.60it/s]  9%|▉         | 12/128 [00:01<00:10, 11.22it/s] 11%|█         | 14/128 [00:01<00:10, 11.11it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.80it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.59it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.48it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.58it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.35it/s] 20%|██        | 26/128 [00:02<00:09, 10.28it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.88it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.74it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.89it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.43it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.61it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.08it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.79it/s] 32%|███▏      | 41/128 [00:03<00:09,  9.61it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.58it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.55it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.39it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.31it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.44it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.39it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.16it/s] 40%|███▉      | 51/128 [00:04<00:07,  9.82it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.14it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.40it/s] 45%|████▍     | 57/128 [00:05<00:06, 11.03it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.21it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.36it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.53it/s] 51%|█████     | 65/128 [00:06<00:06, 10.10it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.83it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.76it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.27it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.24it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.13it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.38it/s] 61%|██████    | 78/128 [00:07<00:04, 10.59it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.64it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.55it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.71it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.47it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.02it/s] 70%|███████   | 90/128 [00:08<00:03, 10.22it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.15it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.46it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.43it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.52it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.10it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.10it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.11it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.67it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.47it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.30it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.52it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.16it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.05it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.07it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.30it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.17it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.35it/s]100%|██████████| 128/128 [00:12<00:00, 10.50it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 13:53:23,917] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.03it/s]  3%|▎         | 4/128 [00:00<00:11, 10.37it/s]  5%|▍         | 6/128 [00:00<00:11, 10.20it/s]  6%|▋         | 8/128 [00:00<00:11, 10.23it/s]  8%|▊         | 10/128 [00:00<00:11, 10.45it/s]  9%|▉         | 12/128 [00:01<00:10, 11.17it/s] 11%|█         | 14/128 [00:01<00:10, 11.10it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.65it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.49it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.30it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.48it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.32it/s] 20%|██        | 26/128 [00:02<00:10, 10.14it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.76it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.54it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.56it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.33it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.41it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.97it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.65it/s] 32%|███▏      | 41/128 [00:03<00:09,  9.59it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.99it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.84it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.61it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.06it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.92it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.70it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.12it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.45it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.45it/s] 45%|████▍     | 57/128 [00:05<00:06, 11.06it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.38it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.47it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.76it/s] 51%|█████     | 65/128 [00:06<00:06, 10.44it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.06it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.15it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.33it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.30it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.13it/s] 60%|██████    | 77/128 [00:07<00:04, 10.34it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.64it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.38it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.68it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.40it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.19it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.18it/s] 71%|███████   | 91/128 [00:08<00:03, 10.33it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.31it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.24it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.31it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.50it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.27it/s] 80%|████████  | 103/128 [00:09<00:02,  9.95it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.98it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.17it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.83it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.56it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.32it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.26it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.82it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.98it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.17it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.12it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.32it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.34it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]
[2024-01-18 13:53:36,338] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.01it/s]  3%|▎         | 4/128 [00:00<00:12, 10.31it/s]  5%|▍         | 6/128 [00:00<00:11, 10.22it/s]  6%|▋         | 8/128 [00:00<00:11, 10.18it/s]  8%|▊         | 10/128 [00:00<00:11, 10.43it/s]  9%|▉         | 12/128 [00:01<00:10, 11.15it/s] 11%|█         | 14/128 [00:01<00:10, 11.01it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.67it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.46it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.27it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.47it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.27it/s] 20%|██        | 26/128 [00:02<00:10, 10.14it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.76it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.45it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.68it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.42it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.45it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.99it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.64it/s] 32%|███▏      | 41/128 [00:03<00:09,  9.61it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.96it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.87it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.65it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.07it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.92it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.53it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.11it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.41it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.54it/s] 45%|████▍     | 57/128 [00:05<00:06, 11.02it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.28it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.37it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.66it/s] 51%|█████     | 65/128 [00:06<00:05, 10.51it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.01it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.06it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.25it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.21it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.17it/s] 60%|██████    | 77/128 [00:07<00:04, 10.32it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.62it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.31it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.62it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.40it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.16it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.13it/s] 71%|███████   | 91/128 [00:08<00:03, 10.29it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.28it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.23it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.39it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.42it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.16it/s] 80%|████████  | 103/128 [00:10<00:02,  9.91it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.96it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.25it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.78it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.46it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.22it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.23it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.96it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.95it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.11it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.04it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.26it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.43it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 13:53:48,779] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.68it/s]  3%|▎         | 4/128 [00:00<00:12, 10.20it/s]  5%|▍         | 6/128 [00:00<00:12, 10.11it/s]  6%|▋         | 8/128 [00:00<00:11, 10.10it/s]  8%|▊         | 10/128 [00:00<00:11, 10.50it/s]  9%|▉         | 12/128 [00:01<00:10, 11.22it/s] 11%|█         | 14/128 [00:01<00:10, 10.93it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.64it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.43it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.39it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.54it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.22it/s] 20%|██        | 26/128 [00:02<00:10, 10.13it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.72it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.59it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.78it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.35it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.46it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.94it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.76it/s] 32%|███▏      | 41/128 [00:03<00:08,  9.71it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.96it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.78it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.62it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.02it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.87it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.71it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.25it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.41it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.56it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.92it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.52it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.74it/s] 51%|█████     | 65/128 [00:06<00:06, 10.47it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.89it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.82it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.29it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.22it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.10it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.35it/s] 61%|██████    | 78/128 [00:07<00:04, 10.35it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.61it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.48it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.58it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.29it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.81it/s] 70%|███████   | 90/128 [00:08<00:03, 10.20it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.46it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.01it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.32it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.26it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.46it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.10it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.05it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.99it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.55it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.39it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.30it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.53it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.02it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.94it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.92it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.27it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.17it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.26it/s]100%|██████████| 128/128 [00:12<00:00, 10.48it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]
[2024-01-18 13:54:01,232] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.50it/s]  3%|▎         | 4/128 [00:00<00:12, 10.29it/s]  5%|▍         | 6/128 [00:00<00:11, 10.19it/s]  6%|▋         | 8/128 [00:00<00:11, 10.08it/s]  8%|▊         | 10/128 [00:00<00:11, 10.42it/s]  9%|▉         | 12/128 [00:01<00:10, 10.92it/s] 11%|█         | 14/128 [00:01<00:10, 10.94it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.68it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.38it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.33it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.32it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.23it/s] 20%|██        | 26/128 [00:02<00:10, 10.18it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.77it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.50it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.55it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.29it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.48it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.97it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.69it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.52it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.60it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.78it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.69it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.09it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.84it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.66it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.11it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.24it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.44it/s] 45%|████▍     | 57/128 [00:05<00:06, 11.01it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.50it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.53it/s] 51%|█████     | 65/128 [00:06<00:06, 10.43it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.05it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.05it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.34it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.10it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.09it/s] 60%|██████    | 77/128 [00:07<00:04, 10.34it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.59it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.40it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.47it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.30it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.19it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.12it/s] 71%|███████   | 91/128 [00:08<00:03, 10.40it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.19it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.13it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.32it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.50it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.25it/s] 80%|████████  | 103/128 [00:10<00:02,  9.86it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.87it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.19it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.79it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.48it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.28it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.13it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.87it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.99it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.10it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.08it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.14it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.26it/s]
[2024-01-18 13:54:29,805] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|██        | 26/128 [00:00<00:00, 247.95it/s] 42%|████▏     | 54/128 [00:00<00:00, 263.61it/s] 64%|██████▍   | 82/128 [00:00<00:00, 268.37it/s] 86%|████████▌ | 110/128 [00:00<00:00, 271.67it/s]100%|██████████| 128/128 [00:00<00:00, 268.12it/s]
[2024-01-18 13:54:30,413] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.05it/s]  3%|▎         | 4/128 [00:00<00:11, 11.03it/s]  5%|▍         | 6/128 [00:00<00:11, 10.63it/s]  6%|▋         | 8/128 [00:00<00:10, 11.42it/s]  8%|▊         | 10/128 [00:00<00:10, 11.19it/s]  9%|▉         | 12/128 [00:01<00:10, 10.93it/s] 11%|█         | 14/128 [00:01<00:11, 10.34it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.77it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.18it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.05it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.15it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.41it/s] 20%|██        | 26/128 [00:02<00:09, 10.23it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.97it/s] 23%|██▎       | 30/128 [00:02<00:09,  9.88it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.23it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.45it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.02it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.88it/s] 30%|███       | 39/128 [00:03<00:09,  9.82it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.68it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.05it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.85it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.71it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.20it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.16it/s] 41%|████      | 52/128 [00:05<00:07, 10.25it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.25it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.27it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.41it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.48it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.92it/s] 50%|█████     | 64/128 [00:06<00:05, 10.99it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.49it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.00it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.55it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.42it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.24it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.20it/s] 61%|██████    | 78/128 [00:07<00:04, 10.09it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.12it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.42it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.24it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.21it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.49it/s] 70%|███████   | 90/128 [00:08<00:03, 10.41it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.54it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.61it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.50it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.28it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.34it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.51it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.37it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.63it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.85it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.57it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.34it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.22it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.42it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.35it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.84it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.18it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.79it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.70it/s]100%|██████████| 128/128 [00:12<00:00, 10.31it/s]
[2024-01-18 13:54:42,831] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.05it/s]  3%|▎         | 4/128 [00:00<00:11, 10.44it/s]  5%|▍         | 6/128 [00:00<00:11, 10.71it/s]  6%|▋         | 8/128 [00:00<00:10, 11.40it/s]  8%|▊         | 10/128 [00:00<00:10, 11.29it/s]  9%|▉         | 12/128 [00:01<00:10, 11.00it/s] 11%|█         | 14/128 [00:01<00:11, 10.32it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.79it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.22it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.14it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.21it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.43it/s] 20%|██        | 26/128 [00:02<00:10, 10.11it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.10it/s] 23%|██▎       | 30/128 [00:02<00:09,  9.91it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.27it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.48it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.81it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.93it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.70it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.06it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.70it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.42it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.30it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.13it/s] 41%|████      | 52/128 [00:05<00:07, 10.33it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.31it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.13it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.42it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.51it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.98it/s] 50%|█████     | 64/128 [00:06<00:05, 11.04it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.49it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.88it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.54it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.37it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.25it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.18it/s] 61%|██████    | 78/128 [00:07<00:05,  9.91it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.29it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.45it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.35it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.28it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.44it/s] 70%|███████   | 90/128 [00:08<00:03, 10.45it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.58it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.68it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.70it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.52it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.14it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.43it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.43it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.39it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.61it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.68it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.60it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.36it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.28it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.45it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.25it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.89it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.20it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.87it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 13:54:55,239] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.55it/s]  3%|▎         | 4/128 [00:00<00:11, 10.58it/s]  5%|▍         | 6/128 [00:00<00:11, 10.81it/s]  6%|▋         | 8/128 [00:00<00:10, 11.40it/s]  8%|▊         | 10/128 [00:00<00:10, 11.35it/s]  9%|▉         | 12/128 [00:01<00:10, 11.00it/s] 11%|█         | 14/128 [00:01<00:11, 10.17it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.89it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.20it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.14it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.18it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.23it/s] 20%|██        | 26/128 [00:02<00:09, 10.22it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.10it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.02it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.35it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.26it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.92it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.91it/s] 30%|███       | 39/128 [00:03<00:09,  9.83it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.77it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.17it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.68it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.43it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.28it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.19it/s] 41%|████      | 52/128 [00:05<00:07, 10.38it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.24it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.03it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.40it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.45it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.96it/s] 50%|█████     | 64/128 [00:06<00:05, 11.02it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.17it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.88it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.45it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.38it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.28it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.00it/s] 61%|██████    | 78/128 [00:07<00:05,  9.89it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.22it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.48it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.39it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.17it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.25it/s] 70%|███████   | 90/128 [00:08<00:03, 10.49it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.56it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.69it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.73it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.23it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.16it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.32it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.48it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.44it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.51it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.58it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.56it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.29it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.28it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.42it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.06it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.82it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.12it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.83it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.71it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 13:55:07,698] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:12,  9.89it/s]  2%|▏         | 3/128 [00:00<00:11, 10.51it/s]  4%|▍         | 5/128 [00:00<00:11, 10.57it/s]  5%|▌         | 7/128 [00:00<00:11, 10.86it/s]  7%|▋         | 9/128 [00:00<00:10, 11.03it/s]  9%|▊         | 11/128 [00:00<00:10, 11.52it/s] 10%|█         | 13/128 [00:01<00:11, 10.36it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.97it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.93it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.29it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.25it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.91it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.24it/s] 21%|██        | 27/128 [00:02<00:10, 10.09it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.10it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.00it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.08it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.04it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.97it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.90it/s] 30%|███       | 39/128 [00:03<00:09,  9.81it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.74it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.87it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.65it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.44it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.35it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.25it/s] 41%|████      | 52/128 [00:05<00:07, 10.23it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.12it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.05it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.47it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.60it/s] 48%|████▊     | 62/128 [00:06<00:05, 11.02it/s] 50%|█████     | 64/128 [00:06<00:05, 10.79it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.30it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.93it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.58it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.48it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.04it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.99it/s] 61%|██████    | 78/128 [00:07<00:05,  9.89it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.30it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.56it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.14it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.09it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.25it/s] 70%|███████   | 90/128 [00:08<00:03, 10.50it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.67it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.63it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.46it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.32it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.20it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.44it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.58it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.13it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.45it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.56it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.63it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.41it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.12it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.24it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.09it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.90it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.23it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.68it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.42it/s]100%|██████████| 128/128 [00:12<00:00, 10.24it/s]
[2024-01-18 13:55:20,207] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.49it/s]  3%|▎         | 4/128 [00:00<00:11, 10.74it/s]  5%|▍         | 6/128 [00:00<00:11, 10.94it/s]  6%|▋         | 8/128 [00:00<00:10, 11.59it/s]  8%|▊         | 10/128 [00:00<00:10, 10.97it/s]  9%|▉         | 12/128 [00:01<00:10, 10.74it/s] 11%|█         | 14/128 [00:01<00:11, 10.10it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.86it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.30it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.06it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.10it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.31it/s] 20%|██        | 26/128 [00:02<00:09, 10.27it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.21it/s] 23%|██▎       | 30/128 [00:02<00:09,  9.93it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.23it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.38it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.00it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.06it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.68it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.00it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.60it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.52it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.42it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.26it/s] 41%|████      | 52/128 [00:05<00:07, 10.10it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.11it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.08it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.47it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.60it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.88it/s] 50%|█████     | 64/128 [00:06<00:05, 10.84it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.29it/s] 53%|█████▎    | 68/128 [00:06<00:06, 10.00it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.58it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.36it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.11it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.05it/s] 61%|██████    | 78/128 [00:07<00:05,  9.97it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.37it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.48it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.21it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.12it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.39it/s] 70%|███████   | 90/128 [00:08<00:03, 10.61it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.68it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.54it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.59it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.37it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.33it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.55it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.37it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.32it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.49it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.73it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.75it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.26it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.13it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.23it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.19it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.98it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.09it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.71it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.57it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]
[2024-01-18 13:55:48,651] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 284.35it/s] 45%|████▌     | 58/128 [00:00<00:00, 270.92it/s] 67%|██████▋   | 86/128 [00:00<00:00, 270.90it/s] 89%|████████▉ | 114/128 [00:00<00:00, 263.45it/s]100%|██████████| 128/128 [00:00<00:00, 262.59it/s]
[2024-01-18 13:55:49,276] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.89it/s]  2%|▏         | 3/128 [00:00<00:13,  9.56it/s]  3%|▎         | 4/128 [00:00<00:12,  9.55it/s]  4%|▍         | 5/128 [00:00<00:12,  9.54it/s]  5%|▍         | 6/128 [00:00<00:13,  9.37it/s]  6%|▋         | 8/128 [00:00<00:11, 10.02it/s]  7%|▋         | 9/128 [00:00<00:12,  9.49it/s]  9%|▊         | 11/128 [00:01<00:11, 10.08it/s] 10%|█         | 13/128 [00:01<00:11, 10.01it/s] 11%|█         | 14/128 [00:01<00:11,  9.79it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.95it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.28it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.93it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.84it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.06it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.04it/s] 21%|██        | 27/128 [00:02<00:09, 10.29it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.50it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.05it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.11it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.39it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.29it/s] 30%|███       | 39/128 [00:03<00:08, 10.25it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.82it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.19it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.14it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.18it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.43it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.94it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.39it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.29it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.25it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.43it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.40it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.35it/s] 51%|█████     | 65/128 [00:06<00:06, 10.22it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.93it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.22it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.38it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.27it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.88it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.77it/s] 61%|██████    | 78/128 [00:07<00:05,  9.88it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.28it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.03it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.02it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.29it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.90it/s] 70%|███████   | 90/128 [00:08<00:03, 10.70it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.78it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.45it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.35it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.54it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.75it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.57it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.52it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.37it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.27it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.51it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.43it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.39it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.31it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.93it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.27it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.97it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.14it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00, 10.02it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]
[2024-01-18 13:56:01,823] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.01it/s]  3%|▎         | 4/128 [00:00<00:12,  9.74it/s]  4%|▍         | 5/128 [00:00<00:12,  9.56it/s]  5%|▍         | 6/128 [00:00<00:13,  9.08it/s]  6%|▋         | 8/128 [00:00<00:12,  9.86it/s]  7%|▋         | 9/128 [00:00<00:12,  9.69it/s]  9%|▊         | 11/128 [00:01<00:11, 10.25it/s] 10%|█         | 13/128 [00:01<00:11, 10.25it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.11it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.86it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.16it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.85it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.18it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.10it/s] 21%|██        | 27/128 [00:02<00:10, 10.04it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.37it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.01it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.10it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.41it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.02it/s] 30%|███       | 39/128 [00:03<00:08, 10.04it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.70it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.12it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.13it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.94it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.22it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.79it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.27it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.27it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.11it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.07it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.28it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.23it/s] 51%|█████     | 65/128 [00:06<00:06, 10.18it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.86it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.78it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.18it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.35it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.04it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.84it/s] 61%|██████    | 78/128 [00:07<00:05,  9.75it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.10it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.06it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.05it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.39it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.95it/s] 70%|███████   | 90/128 [00:08<00:03, 10.44it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.66it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.47it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.43it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.58it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.52it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.44it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.54it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.40it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.38it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.31it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.28it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.45it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.41it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.10it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.22it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.83it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.17it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.17it/s]100%|██████████| 128/128 [00:12<00:00, 10.17it/s]100%|██████████| 128/128 [00:12<00:00, 10.17it/s]
[2024-01-18 13:56:14,414] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.28it/s]  2%|▏         | 3/128 [00:00<00:13,  9.23it/s]  3%|▎         | 4/128 [00:00<00:13,  9.31it/s]  4%|▍         | 5/128 [00:00<00:13,  9.27it/s]  5%|▍         | 6/128 [00:00<00:13,  9.14it/s]  6%|▋         | 8/128 [00:00<00:12,  9.94it/s]  7%|▋         | 9/128 [00:00<00:12,  9.79it/s]  9%|▊         | 11/128 [00:01<00:11, 10.32it/s] 10%|█         | 13/128 [00:01<00:11, 10.01it/s] 11%|█         | 14/128 [00:01<00:11,  9.76it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.83it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.17it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.16it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.93it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.21it/s] 20%|██        | 26/128 [00:02<00:10, 10.11it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.27it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.31it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.92it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.22it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.15it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.40it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.06it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.98it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.95it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.91it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.28it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.54it/s] 41%|████      | 52/128 [00:05<00:07, 10.75it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.27it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.21it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.11it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.34it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.28it/s] 50%|█████     | 64/128 [00:06<00:06,  9.97it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.00it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.88it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.28it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.48it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.95it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.69it/s] 61%|██████    | 78/128 [00:07<00:05,  9.77it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.12it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.18it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.96it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.22it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.81it/s] 70%|███████   | 90/128 [00:08<00:03, 10.56it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.75it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.57it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.19it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.40it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.55it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.50it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.69it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.19it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.16it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.30it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.28it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.56it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.28it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.83it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.09it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.80it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.22it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.16it/s]100%|██████████| 128/128 [00:12<00:00,  9.97it/s]100%|██████████| 128/128 [00:12<00:00, 10.15it/s]
[2024-01-18 13:56:27,037] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.89it/s]  2%|▏         | 3/128 [00:00<00:13,  9.58it/s]  3%|▎         | 4/128 [00:00<00:13,  9.53it/s]  4%|▍         | 5/128 [00:00<00:12,  9.52it/s]  5%|▍         | 6/128 [00:00<00:13,  9.35it/s]  6%|▋         | 8/128 [00:00<00:12,  9.89it/s]  7%|▋         | 9/128 [00:00<00:12,  9.61it/s]  9%|▊         | 11/128 [00:01<00:11, 10.25it/s] 10%|█         | 13/128 [00:01<00:11, 10.18it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.04it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.94it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.15it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.98it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.86it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.16it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.10it/s] 21%|██        | 27/128 [00:02<00:09, 10.34it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.37it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.03it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.04it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.37it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.28it/s] 30%|███       | 39/128 [00:03<00:08, 10.03it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.77it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.09it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.09it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.14it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.21it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.84it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.24it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.23it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.20it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.15it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.32it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.25it/s] 51%|█████     | 65/128 [00:06<00:06, 10.18it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.89it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.04it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.27it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.15it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.91it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.80it/s] 61%|██████    | 78/128 [00:07<00:05,  9.94it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.87it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.23it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.81it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.15it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.47it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.71it/s] 71%|███████   | 91/128 [00:08<00:03, 10.56it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.78it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.50it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.42it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.96it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.44it/s] 80%|████████  | 103/128 [00:10<00:02, 10.37it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.20it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.18it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.48it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.41it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.29it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.19it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.23it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.13it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.98it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.75it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.21it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00, 10.11it/s]100%|██████████| 128/128 [00:12<00:00, 10.17it/s]
[2024-01-18 13:56:39,636] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.98it/s]  2%|▏         | 3/128 [00:00<00:13,  9.25it/s]  3%|▎         | 4/128 [00:00<00:13,  9.14it/s]  4%|▍         | 5/128 [00:00<00:13,  9.26it/s]  5%|▍         | 6/128 [00:00<00:13,  9.11it/s]  5%|▌         | 7/128 [00:00<00:12,  9.37it/s]  7%|▋         | 9/128 [00:00<00:12,  9.77it/s]  9%|▊         | 11/128 [00:01<00:11, 10.35it/s] 10%|█         | 13/128 [00:01<00:11, 10.14it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.84it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.74it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.97it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.02it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.90it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.15it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.79it/s] 21%|██        | 27/128 [00:02<00:10, 10.07it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.28it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.03it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.10it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.04it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.05it/s] 30%|███       | 39/128 [00:03<00:08, 10.01it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.78it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.17it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.85it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.74it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.12it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.40it/s] 41%|████      | 52/128 [00:05<00:07, 10.73it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.45it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.02it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.02it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.17it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.17it/s] 50%|█████     | 64/128 [00:06<00:06, 10.17it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.81it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.68it/s] 54%|█████▍    | 69/128 [00:06<00:05,  9.94it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.36it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.30it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.83it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.50it/s] 61%|██████    | 78/128 [00:07<00:05,  9.77it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.04it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.12it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.09it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.17it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.79it/s] 70%|███████   | 90/128 [00:08<00:03, 10.49it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.70it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.54it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.33it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.36it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.54it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.45it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.64it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.42it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.11it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.35it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.22it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.50it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.44it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.85it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.17it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.81it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.23it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.21it/s]100%|██████████| 128/128 [00:12<00:00,  9.93it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]
[2024-01-18 13:57:08,423] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 285.13it/s] 46%|████▌     | 59/128 [00:00<00:00, 290.61it/s] 70%|██████▉   | 89/128 [00:00<00:00, 285.48it/s] 94%|█████████▍| 120/128 [00:00<00:00, 293.50it/s]100%|██████████| 128/128 [00:00<00:00, 288.08it/s]
[2024-01-18 13:57:08,995] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.41it/s]  2%|▏         | 3/128 [00:00<00:13,  9.28it/s]  3%|▎         | 4/128 [00:00<00:13,  9.24it/s]  4%|▍         | 5/128 [00:00<00:13,  9.26it/s]  5%|▍         | 6/128 [00:00<00:13,  9.19it/s]  6%|▋         | 8/128 [00:00<00:11, 10.61it/s]  8%|▊         | 10/128 [00:00<00:10, 10.90it/s]  9%|▉         | 12/128 [00:01<00:10, 10.92it/s] 11%|█         | 14/128 [00:01<00:10, 10.37it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.53it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.41it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.64it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.54it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.54it/s] 20%|██        | 26/128 [00:02<00:09, 10.41it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.53it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.69it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.25it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.04it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.12it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.27it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.22it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.98it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.05it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.09it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.64it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.45it/s] 41%|████      | 52/128 [00:05<00:07, 10.68it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.09it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.19it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.35it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.55it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.52it/s] 50%|█████     | 64/128 [00:06<00:05, 10.72it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.25it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.46it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.52it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.78it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.61it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.36it/s] 61%|██████    | 78/128 [00:07<00:04, 10.24it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.36it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.58it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.67it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.45it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.20it/s] 70%|███████   | 90/128 [00:08<00:03, 10.39it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.24it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.50it/s] 75%|███████▌  | 96/128 [00:09<00:02, 11.02it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.75it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.88it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.81it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.56it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.50it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.71it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.03it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.68it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.86it/s] 91%|█████████ | 116/128 [00:11<00:01, 11.41it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.26it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.28it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.97it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.55it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.20it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]100%|██████████| 128/128 [00:12<00:00, 10.43it/s]
[2024-01-18 13:57:21,271] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.05it/s]  2%|▏         | 3/128 [00:00<00:13,  9.25it/s]  3%|▎         | 4/128 [00:00<00:13,  9.18it/s]  4%|▍         | 5/128 [00:00<00:13,  9.11it/s]  5%|▍         | 6/128 [00:00<00:13,  9.20it/s]  6%|▋         | 8/128 [00:00<00:11, 10.60it/s]  8%|▊         | 10/128 [00:00<00:10, 10.94it/s]  9%|▉         | 12/128 [00:01<00:10, 10.76it/s] 11%|█         | 14/128 [00:01<00:10, 10.38it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.48it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.40it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.61it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.42it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.47it/s] 20%|██        | 26/128 [00:02<00:09, 10.34it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.51it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.66it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.21it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.95it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.09it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.24it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.17it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.93it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.16it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.13it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.72it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.48it/s] 41%|████      | 52/128 [00:05<00:07, 10.70it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.12it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.23it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.38it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.51it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.49it/s] 50%|█████     | 64/128 [00:06<00:06, 10.64it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.32it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.49it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.60it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.82it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.60it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.44it/s] 61%|██████    | 78/128 [00:07<00:04, 10.16it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.38it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.51it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.63it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.50it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.09it/s] 70%|███████   | 90/128 [00:08<00:03, 10.36it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.17it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.45it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.96it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.74it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.77it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.77it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.54it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.47it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.75it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.96it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.65it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.80it/s] 91%|█████████ | 116/128 [00:11<00:01, 11.36it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.22it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.27it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.93it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.53it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.20it/s]100%|██████████| 128/128 [00:12<00:00, 10.18it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]
[2024-01-18 13:57:33,573] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.18it/s]  2%|▏         | 3/128 [00:00<00:13,  9.26it/s]  3%|▎         | 4/128 [00:00<00:13,  9.20it/s]  4%|▍         | 5/128 [00:00<00:13,  9.17it/s]  5%|▍         | 6/128 [00:00<00:13,  9.18it/s]  6%|▋         | 8/128 [00:00<00:11, 10.60it/s]  8%|▊         | 10/128 [00:00<00:10, 10.93it/s]  9%|▉         | 12/128 [00:01<00:10, 10.77it/s] 11%|█         | 14/128 [00:01<00:10, 10.37it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.48it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.39it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.61it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.40it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.48it/s] 20%|██        | 26/128 [00:02<00:09, 10.34it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.55it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.66it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.14it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.04it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.12it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.31it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.24it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.90it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.05it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.13it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.69it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.49it/s] 41%|████      | 52/128 [00:05<00:07, 10.66it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.95it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.21it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.34it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.58it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.54it/s] 50%|█████     | 64/128 [00:06<00:06, 10.58it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.27it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.44it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.56it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.80it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.60it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.26it/s] 61%|██████    | 78/128 [00:07<00:04, 10.23it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.37it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.58it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.66it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.29it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.16it/s] 70%|███████   | 90/128 [00:08<00:03, 10.30it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.22it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.93it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.74it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.82it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.79it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.56it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.47it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.61it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.90it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.53it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.78it/s] 91%|█████████ | 116/128 [00:11<00:01, 11.34it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.99it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.12it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.79it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.46it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.16it/s]100%|██████████| 128/128 [00:12<00:00, 10.05it/s]100%|██████████| 128/128 [00:12<00:00, 10.38it/s]
[2024-01-18 13:57:45,909] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.65it/s]  2%|▏         | 2/128 [00:00<00:13,  9.02it/s]  2%|▏         | 3/128 [00:00<00:13,  9.22it/s]  3%|▎         | 4/128 [00:00<00:13,  8.95it/s]  4%|▍         | 5/128 [00:00<00:13,  9.08it/s]  5%|▍         | 6/128 [00:00<00:13,  9.17it/s]  6%|▋         | 8/128 [00:00<00:11, 10.61it/s]  8%|▊         | 10/128 [00:00<00:10, 10.89it/s]  9%|▉         | 12/128 [00:01<00:10, 10.58it/s] 11%|█         | 14/128 [00:01<00:11, 10.36it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.46it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.37it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.58it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.22it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.55it/s] 20%|██        | 26/128 [00:02<00:09, 10.28it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.52it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.65it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.01it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.05it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.04it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.31it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.22it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.81it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.07it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.07it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.67it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.45it/s] 41%|████      | 52/128 [00:05<00:07, 10.63it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.95it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.17it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.31it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.57it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.49it/s] 50%|█████     | 64/128 [00:06<00:06, 10.39it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.30it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.41it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.60it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.82it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.35it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.37it/s] 61%|██████    | 78/128 [00:07<00:04, 10.21it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.45it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.64it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.55it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.26it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.19it/s] 70%|███████   | 90/128 [00:08<00:03, 10.38it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.27it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.81it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.74it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.81it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.80it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.55it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.44it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.57it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.88it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.58it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.80it/s] 91%|█████████ | 116/128 [00:11<00:01, 11.30it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.88it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.18it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.79it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.47it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.16it/s]100%|██████████| 128/128 [00:12<00:00,  9.98it/s]100%|██████████| 128/128 [00:12<00:00, 10.36it/s]
[2024-01-18 13:57:58,287] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.56it/s]  2%|▏         | 3/128 [00:00<00:13,  9.45it/s]  3%|▎         | 4/128 [00:00<00:13,  9.14it/s]  4%|▍         | 5/128 [00:00<00:13,  9.26it/s]  5%|▍         | 6/128 [00:00<00:13,  9.29it/s]  6%|▋         | 8/128 [00:00<00:11, 10.63it/s]  8%|▊         | 10/128 [00:00<00:11, 10.71it/s]  9%|▉         | 12/128 [00:01<00:10, 10.66it/s] 11%|█         | 14/128 [00:01<00:10, 10.37it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.50it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.41it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.61it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.26it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.52it/s] 20%|██        | 26/128 [00:02<00:09, 10.34it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.57it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.69it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.03it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.06it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.08it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.33it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.24it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.81it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.08it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.08it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.65it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.46it/s] 41%|████      | 52/128 [00:05<00:07, 10.58it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.97it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.19it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.33it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.57it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.50it/s] 50%|█████     | 64/128 [00:06<00:06, 10.39it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.30it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.38it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.57it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.80it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.35it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.30it/s] 61%|██████    | 78/128 [00:07<00:04, 10.16it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.40it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.59it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.63it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.23it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.12it/s] 70%|███████   | 90/128 [00:08<00:03, 10.28it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.20it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.45it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.74it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.76it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.76it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.72it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.50it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.25it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.65it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.89it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.63it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.86it/s] 91%|█████████ | 116/128 [00:11<00:01, 11.35it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.74it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.15it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.78it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.55it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.19it/s]100%|██████████| 128/128 [00:12<00:00,  9.89it/s]100%|██████████| 128/128 [00:12<00:00, 10.35it/s]
[2024-01-18 13:58:26,526] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 18%|█▊        | 23/128 [00:00<00:00, 229.25it/s] 38%|███▊      | 48/128 [00:00<00:00, 237.30it/s] 56%|█████▋    | 72/128 [00:00<00:00, 238.31it/s] 75%|███████▌  | 96/128 [00:00<00:00, 235.40it/s] 94%|█████████▍| 120/128 [00:00<00:00, 231.16it/s]100%|██████████| 128/128 [00:00<00:00, 234.84it/s]
[2024-01-18 13:58:27,204] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.03it/s]  3%|▎         | 4/128 [00:00<00:12, 10.13it/s]  5%|▍         | 6/128 [00:00<00:12, 10.09it/s]  6%|▋         | 8/128 [00:00<00:10, 10.95it/s]  8%|▊         | 10/128 [00:00<00:10, 11.04it/s]  9%|▉         | 12/128 [00:01<00:10, 10.73it/s] 11%|█         | 14/128 [00:01<00:11,  9.87it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.19it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.31it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.59it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.45it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.12it/s] 20%|██        | 26/128 [00:02<00:10,  9.87it/s] 21%|██        | 27/128 [00:02<00:10,  9.76it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.14it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.16it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.16it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.98it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.78it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.63it/s] 30%|███       | 39/128 [00:03<00:09,  9.71it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.84it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.19it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.02it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.90it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.95it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.81it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.25it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.54it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.22it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.19it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.06it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.46it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.72it/s] 51%|█████     | 65/128 [00:06<00:06, 10.37it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.95it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.20it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.23it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.27it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.40it/s] 60%|██████    | 77/128 [00:07<00:04, 10.54it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.42it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.57it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.80it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.99it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.95it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.99it/s] 71%|███████   | 91/128 [00:08<00:03, 10.30it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.56it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.28it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.18it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.22it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.95it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.88it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.55it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.46it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.55it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.63it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.56it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.40it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.32it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.12it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.04it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.08it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.86it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.63it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.35it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.36it/s]100%|██████████| 128/128 [00:12<00:00, 10.16it/s]
[2024-01-18 13:58:39,806] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.72it/s]  3%|▎         | 4/128 [00:00<00:11, 10.37it/s]  5%|▍         | 6/128 [00:00<00:11, 10.29it/s]  6%|▋         | 8/128 [00:00<00:11, 10.88it/s]  8%|▊         | 10/128 [00:00<00:10, 10.77it/s]  9%|▉         | 12/128 [00:01<00:11, 10.47it/s] 11%|█         | 14/128 [00:01<00:11,  9.96it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.28it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.48it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.40it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.31it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.20it/s] 20%|██        | 26/128 [00:02<00:10, 10.01it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.10it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.06it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.05it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.79it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.86it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.73it/s] 30%|███       | 39/128 [00:03<00:09,  9.69it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.68it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.95it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.05it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.09it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.75it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.76it/s] 41%|████      | 52/128 [00:05<00:07, 10.17it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.99it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.34it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.29it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.02it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.33it/s] 50%|█████     | 64/128 [00:06<00:06, 10.24it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.14it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.10it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.31it/s] 56%|█████▋    | 72/128 [00:07<00:05,  9.78it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.09it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.35it/s] 61%|██████    | 78/128 [00:07<00:04, 10.29it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.50it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.09it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.67it/s] 67%|██████▋   | 86/128 [00:08<00:04,  9.91it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.82it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.93it/s] 71%|███████   | 91/128 [00:09<00:03, 10.10it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.22it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.09it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.07it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.18it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.82it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.55it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.32it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.32it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.48it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.66it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.40it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.09it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.24it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.05it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.06it/s] 95%|█████████▌| 122/128 [00:12<00:00,  9.96it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.65it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.57it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.49it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.30it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.31it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]
[2024-01-18 13:58:52,525] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.20it/s]  3%|▎         | 4/128 [00:00<00:12, 10.30it/s]  5%|▍         | 6/128 [00:00<00:12,  9.91it/s]  6%|▋         | 8/128 [00:00<00:11, 10.81it/s]  8%|▊         | 10/128 [00:00<00:10, 10.82it/s]  9%|▉         | 12/128 [00:01<00:10, 10.59it/s] 11%|█         | 14/128 [00:01<00:11, 10.07it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.02it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.29it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.42it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.31it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.29it/s] 20%|██        | 26/128 [00:02<00:10,  9.73it/s] 21%|██        | 27/128 [00:02<00:10,  9.65it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.04it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.04it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.09it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.10it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.54it/s] 30%|███       | 39/128 [00:03<00:09,  9.59it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.70it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.03it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.00it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.90it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.81it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.69it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.13it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.41it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.31it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.07it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.99it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.33it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.59it/s] 51%|█████     | 65/128 [00:06<00:06, 10.45it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.85it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.13it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.11it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.17it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.41it/s] 60%|██████    | 77/128 [00:07<00:04, 10.48it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.26it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.38it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.66it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.00it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.85it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.83it/s] 71%|███████   | 91/128 [00:09<00:03, 10.10it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.34it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.25it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.14it/s] 77%|███████▋  | 99/128 [00:09<00:02,  9.98it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.72it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.66it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.42it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.52it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.36it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.47it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.38it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.23it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.42it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.15it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.92it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.85it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.79it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.69it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.59it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.49it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.48it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 13:59:05,231] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.32it/s]  3%|▎         | 4/128 [00:00<00:12, 10.12it/s]  5%|▍         | 6/128 [00:00<00:12, 10.05it/s]  6%|▋         | 8/128 [00:00<00:10, 10.97it/s]  8%|▊         | 10/128 [00:00<00:10, 11.04it/s]  9%|▉         | 12/128 [00:01<00:11, 10.35it/s] 11%|█         | 14/128 [00:01<00:11,  9.92it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.10it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.35it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.60it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.22it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.20it/s] 20%|██        | 26/128 [00:02<00:10,  9.88it/s] 21%|██        | 27/128 [00:02<00:10,  9.82it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.21it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.11it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.92it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.85it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.78it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.64it/s] 30%|███       | 39/128 [00:03<00:09,  9.80it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.79it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.74it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.12it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.78it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.91it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.81it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.23it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.19it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.16it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.07it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.01it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.40it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.39it/s] 51%|█████     | 65/128 [00:06<00:06, 10.29it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.87it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.16it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.21it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.97it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.28it/s] 60%|██████    | 77/128 [00:07<00:04, 10.40it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.35it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.53it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.56it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.91it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.86it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.93it/s] 71%|███████   | 91/128 [00:09<00:03, 10.24it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.31it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.13it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.06it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.16it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.90it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.72it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.24it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.41it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.45it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.64it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.56it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.10it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.31it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.06it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.05it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.07it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.60it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.52it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.42it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 13:59:17,942] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.13it/s]  3%|▎         | 4/128 [00:00<00:11, 10.44it/s]  5%|▍         | 6/128 [00:00<00:12,  9.90it/s]  6%|▋         | 8/128 [00:00<00:11, 10.86it/s]  8%|▊         | 10/128 [00:00<00:10, 10.84it/s]  9%|▉         | 12/128 [00:01<00:10, 10.59it/s] 11%|█         | 14/128 [00:01<00:11, 10.07it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.03it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.28it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.44it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.33it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.30it/s] 20%|██        | 26/128 [00:02<00:10,  9.79it/s] 21%|██        | 27/128 [00:02<00:10,  9.73it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.10it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.05it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.09it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.10it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.55it/s] 30%|███       | 39/128 [00:03<00:09,  9.64it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.69it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.02it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.09it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.86it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.79it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.62it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.07it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.37it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.30it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.97it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.92it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.24it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.52it/s] 51%|█████     | 65/128 [00:06<00:06, 10.41it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.76it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.01it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.97it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.05it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.35it/s] 60%|██████    | 77/128 [00:07<00:04, 10.39it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.18it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.30it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.59it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.95it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.80it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.78it/s] 71%|███████   | 91/128 [00:09<00:03,  9.97it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.26it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.18it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.11it/s] 77%|███████▋  | 99/128 [00:09<00:02,  9.91it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.81it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.64it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.53it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.40it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.55it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.54it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.53it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.43it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.25it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.44it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.16it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.92it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.82it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.82it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.71it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.60it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.50it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.49it/s]100%|██████████| 128/128 [00:12<00:00, 10.06it/s]
[2024-01-18 13:59:46,719] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|██        | 26/128 [00:00<00:00, 248.52it/s] 41%|████▏     | 53/128 [00:00<00:00, 256.70it/s] 62%|██████▏   | 79/128 [00:00<00:00, 252.71it/s] 84%|████████▎ | 107/128 [00:00<00:00, 257.42it/s]100%|██████████| 128/128 [00:00<00:00, 255.99it/s]
[2024-01-18 13:59:47,348] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.84it/s]  2%|▏         | 3/128 [00:00<00:12,  9.87it/s]  3%|▎         | 4/128 [00:00<00:12,  9.68it/s]  4%|▍         | 5/128 [00:00<00:12,  9.52it/s]  5%|▌         | 7/128 [00:00<00:12, 10.08it/s]  7%|▋         | 9/128 [00:00<00:11, 10.19it/s]  9%|▊         | 11/128 [00:01<00:11, 10.61it/s] 10%|█         | 13/128 [00:01<00:11,  9.90it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.95it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.23it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.61it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.49it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.36it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.55it/s] 21%|██        | 27/128 [00:02<00:09, 10.70it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.48it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.77it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.41it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.53it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.62it/s] 30%|███       | 39/128 [00:03<00:08, 10.42it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.35it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.88it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.55it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.35it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.49it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.46it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.46it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.15it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.35it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.28it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.54it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.71it/s] 51%|█████     | 65/128 [00:06<00:05, 10.65it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.34it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.26it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.45it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.76it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.42it/s] 60%|██████    | 77/128 [00:07<00:04, 10.47it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.64it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.75it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.35it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.25it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.34it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.29it/s] 71%|███████   | 91/128 [00:08<00:03, 10.26it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.26it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.14it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.23it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.47it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.28it/s] 80%|████████  | 103/128 [00:09<00:02, 10.55it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.71it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.63it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.84it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.79it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.60it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.74it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.61it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.52it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.62it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.38it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.25it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.96it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]
[2024-01-18 13:59:59,652] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.69it/s]  3%|▎         | 4/128 [00:00<00:12,  9.83it/s]  4%|▍         | 5/128 [00:00<00:12,  9.62it/s]  5%|▌         | 7/128 [00:00<00:11, 10.21it/s]  7%|▋         | 9/128 [00:00<00:11, 10.26it/s]  9%|▊         | 11/128 [00:01<00:11, 10.36it/s] 10%|█         | 13/128 [00:01<00:11,  9.98it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.92it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.28it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.66it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.35it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.32it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.51it/s] 21%|██        | 27/128 [00:02<00:09, 10.64it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.44it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.73it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.20it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.55it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.54it/s] 30%|███       | 39/128 [00:03<00:08, 10.35it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.28it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.75it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.57it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.38it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.53it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.48it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.35it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.18it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.34it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.28it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.56it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.67it/s] 51%|█████     | 65/128 [00:06<00:05, 10.69it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.37it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.29it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.46it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.74it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.40it/s] 60%|██████    | 77/128 [00:07<00:04, 10.49it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.61it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.72it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.31it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.19it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.43it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.28it/s] 71%|███████   | 91/128 [00:08<00:03, 10.26it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.24it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.08it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.33it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.46it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.37it/s] 80%|████████  | 103/128 [00:09<00:02, 10.60it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.63it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.70it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.76it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.79it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.59it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.76it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.48it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.60it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.57it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.43it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.27it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.85it/s]100%|██████████| 128/128 [00:12<00:00, 10.40it/s]
[2024-01-18 14:00:11,967] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.70it/s]  3%|▎         | 4/128 [00:00<00:12,  9.90it/s]  4%|▍         | 5/128 [00:00<00:12,  9.65it/s]  5%|▌         | 7/128 [00:00<00:11, 10.20it/s]  7%|▋         | 9/128 [00:00<00:11, 10.07it/s]  9%|▊         | 11/128 [00:01<00:11, 10.39it/s] 10%|█         | 13/128 [00:01<00:11,  9.93it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.94it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.29it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.52it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.36it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.32it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.56it/s] 21%|██        | 27/128 [00:02<00:09, 10.73it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.38it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.64it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.26it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.59it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.64it/s] 30%|███       | 39/128 [00:03<00:08, 10.41it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.25it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.69it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.59it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.41it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.58it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.38it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.30it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.16it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.35it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.33it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.47it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.62it/s] 51%|█████     | 65/128 [00:06<00:05, 10.58it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.39it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.29it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.39it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.65it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.26it/s] 60%|██████    | 77/128 [00:07<00:04, 10.50it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.66it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.77it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.22it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.10it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.41it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.31it/s] 71%|███████   | 91/128 [00:08<00:03, 10.32it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.15it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.95it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.25it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.49it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.40it/s] 80%|████████  | 103/128 [00:09<00:02, 10.51it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.61it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.65it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.83it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.83it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.53it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.70it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.43it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.64it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.66it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.51it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.19it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00, 10.38it/s]
[2024-01-18 14:00:24,306] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.09it/s]  3%|▎         | 4/128 [00:00<00:12, 10.09it/s]  5%|▍         | 6/128 [00:00<00:12,  9.86it/s]  6%|▋         | 8/128 [00:00<00:11, 10.20it/s]  8%|▊         | 10/128 [00:00<00:11, 10.11it/s]  9%|▉         | 12/128 [00:01<00:11, 10.18it/s] 11%|█         | 14/128 [00:01<00:11, 10.09it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.03it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.33it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.41it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.28it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.51it/s] 20%|██        | 26/128 [00:02<00:09, 10.55it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.35it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.38it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.33it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.23it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.77it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.72it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.34it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.64it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.77it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.27it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.45it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.17it/s] 41%|████      | 52/128 [00:05<00:07, 10.50it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.09it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.32it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.23it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.28it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.47it/s] 50%|█████     | 64/128 [00:06<00:06, 10.60it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.41it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.53it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.18it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.41it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.55it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.43it/s] 61%|██████    | 78/128 [00:07<00:04, 10.58it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.67it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.37it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.03it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.31it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.28it/s] 70%|███████   | 90/128 [00:08<00:03, 10.39it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.09it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.85it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.23it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.35it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.50it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.34it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.45it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.58it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.71it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.83it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.69it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.52it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.27it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.51it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.66it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.61it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.15it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.87it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.74it/s]100%|██████████| 128/128 [00:12<00:00, 10.35it/s]
[2024-01-18 14:00:36,687] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.16it/s]  3%|▎         | 4/128 [00:00<00:12,  9.89it/s]  4%|▍         | 5/128 [00:00<00:12,  9.65it/s]  5%|▌         | 7/128 [00:00<00:12,  9.93it/s]  7%|▋         | 9/128 [00:00<00:11,  9.97it/s]  9%|▊         | 11/128 [00:01<00:11, 10.38it/s] 10%|█         | 13/128 [00:01<00:11,  9.97it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.91it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.12it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.42it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.33it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.42it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.50it/s] 21%|██        | 27/128 [00:02<00:09, 10.68it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.24it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.56it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.36it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.57it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.59it/s] 30%|███       | 39/128 [00:03<00:08, 10.21it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.18it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.73it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.63it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.31it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.33it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.28it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.28it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.23it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.30it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.17it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.40it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.50it/s] 51%|█████     | 65/128 [00:06<00:05, 10.69it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.34it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.18it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.30it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.60it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.41it/s] 60%|██████    | 77/128 [00:07<00:04, 10.46it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.63it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.57it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.19it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.18it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.39it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.24it/s] 71%|███████   | 91/128 [00:08<00:03, 10.06it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.10it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.05it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.31it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.49it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.20it/s] 80%|████████  | 103/128 [00:09<00:02, 10.48it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.59it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.74it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.81it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.70it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.45it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.61it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.49it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.58it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.61it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.32it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.16it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.88it/s]100%|██████████| 128/128 [00:12<00:00, 10.34it/s]
[2024-01-18 14:01:04,956] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 268.06it/s] 42%|████▏     | 54/128 [00:00<00:00, 249.38it/s] 62%|██████▎   | 80/128 [00:00<00:00, 246.38it/s] 83%|████████▎ | 106/128 [00:00<00:00, 249.40it/s]100%|██████████| 128/128 [00:00<00:00, 250.70it/s]
[2024-01-18 14:01:05,593] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.49it/s]  3%|▎         | 4/128 [00:00<00:12, 10.17it/s]  5%|▍         | 6/128 [00:00<00:11, 10.36it/s]  6%|▋         | 8/128 [00:00<00:11, 10.21it/s]  8%|▊         | 10/128 [00:00<00:11, 10.61it/s]  9%|▉         | 12/128 [00:01<00:10, 10.85it/s] 11%|█         | 14/128 [00:01<00:10, 10.57it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.32it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.52it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.69it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.78it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.81it/s] 20%|██        | 26/128 [00:02<00:09, 10.52it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.59it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.19it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.47it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.57it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.62it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.44it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.55it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.53it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.69it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.52it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.35it/s] 41%|████      | 52/128 [00:04<00:06, 10.92it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.67it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.64it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.71it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.75it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.81it/s] 50%|█████     | 64/128 [00:06<00:05, 10.87it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.79it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.47it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.66it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.82it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.90it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.96it/s] 61%|██████    | 78/128 [00:07<00:04, 10.87it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.87it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.31it/s] 66%|██████▌   | 84/128 [00:07<00:03, 11.20it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.14it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.72it/s] 70%|███████   | 90/128 [00:08<00:03, 10.41it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.54it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.42it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.57it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.57it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.21it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.99it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.08it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.41it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.24it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.46it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.44it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.75it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.85it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.97it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.37it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.18it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.34it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.20it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.58it/s]
[2024-01-18 14:01:17,702] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.08it/s]  3%|▎         | 4/128 [00:00<00:12,  9.99it/s]  5%|▍         | 6/128 [00:00<00:11, 10.29it/s]  6%|▋         | 8/128 [00:00<00:11, 10.19it/s]  8%|▊         | 10/128 [00:00<00:11, 10.63it/s]  9%|▉         | 12/128 [00:01<00:10, 10.73it/s] 11%|█         | 14/128 [00:01<00:10, 10.59it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.30it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.51it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.71it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.78it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.78it/s] 20%|██        | 26/128 [00:02<00:09, 10.48it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.54it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.16it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.45it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.48it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.59it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.41it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.51it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.48it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.52it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.34it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.50it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.33it/s] 41%|████      | 52/128 [00:04<00:06, 10.90it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.50it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.62it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.64it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.70it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.82it/s] 50%|█████     | 64/128 [00:06<00:05, 10.86it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.74it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.36it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.66it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.81it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.89it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.90it/s] 61%|██████    | 78/128 [00:07<00:04, 10.84it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.84it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.26it/s] 66%|██████▌   | 84/128 [00:07<00:03, 11.19it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.06it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.70it/s] 70%|███████   | 90/128 [00:08<00:03, 10.32it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.54it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.39it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.54it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.44it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.00it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.04it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.07it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.42it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.19it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.35it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.49it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.74it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.87it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.96it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.27it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.17it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.29it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.18it/s]100%|██████████| 128/128 [00:12<00:00, 10.44it/s]100%|██████████| 128/128 [00:12<00:00, 10.54it/s]
[2024-01-18 14:01:29,859] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.75it/s]  3%|▎         | 4/128 [00:00<00:12,  9.96it/s]  5%|▍         | 6/128 [00:00<00:11, 10.21it/s]  6%|▋         | 8/128 [00:00<00:11, 10.16it/s]  8%|▊         | 10/128 [00:00<00:11, 10.61it/s]  9%|▉         | 12/128 [00:01<00:10, 10.73it/s] 11%|█         | 14/128 [00:01<00:10, 10.40it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.24it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.43it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.62it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.73it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.56it/s] 20%|██        | 26/128 [00:02<00:09, 10.46it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.44it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.13it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.41it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.30it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.50it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.30it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.47it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.44it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.52it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.25it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.49it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.29it/s] 41%|████      | 52/128 [00:04<00:06, 10.86it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.60it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.56it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.68it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.71it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.79it/s] 50%|█████     | 64/128 [00:06<00:05, 10.82it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.83it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.38it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.65it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.74it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.79it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.90it/s] 61%|██████    | 78/128 [00:07<00:04, 10.76it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.85it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.25it/s] 66%|██████▌   | 84/128 [00:07<00:03, 11.18it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.11it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.80it/s] 70%|███████   | 90/128 [00:08<00:03, 10.39it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.60it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.43it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.58it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.66it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.15it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.11it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.10it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.44it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.34it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.43it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.59it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.77it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.91it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.99it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.42it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.26it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.42it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.24it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.54it/s]
[2024-01-18 14:01:42,016] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.27it/s]  3%|▎         | 4/128 [00:00<00:12, 10.14it/s]  5%|▍         | 6/128 [00:00<00:11, 10.44it/s]  6%|▋         | 8/128 [00:00<00:11, 10.27it/s]  8%|▊         | 10/128 [00:00<00:11, 10.67it/s]  9%|▉         | 12/128 [00:01<00:10, 10.86it/s] 11%|█         | 14/128 [00:01<00:10, 10.52it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.38it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.55it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.74it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.81it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.74it/s] 20%|██        | 26/128 [00:02<00:09, 10.59it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.59it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.23it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.49it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.47it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.67it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.47it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.58it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.54it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.57it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.40it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.58it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.39it/s] 41%|████      | 52/128 [00:04<00:06, 10.95it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.55it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.64it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.76it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.81it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.91it/s] 50%|█████     | 64/128 [00:06<00:05, 10.86it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.79it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.38it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.44it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.42it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.33it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.14it/s] 61%|██████    | 78/128 [00:07<00:04, 10.20it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.46it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.99it/s] 66%|██████▌   | 84/128 [00:07<00:03, 11.02it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.86it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.41it/s] 70%|███████   | 90/128 [00:08<00:03, 10.10it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.19it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.06it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.32it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.35it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.03it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.98it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.06it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.39it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.02it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.31it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.39it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.69it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.85it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.80it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.17it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.05it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.25it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.14it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]100%|██████████| 128/128 [00:12<00:00, 10.47it/s]
[2024-01-18 14:01:54,256] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.59it/s]  3%|▎         | 4/128 [00:00<00:12,  9.87it/s]  5%|▍         | 6/128 [00:00<00:11, 10.21it/s]  6%|▋         | 8/128 [00:00<00:11, 10.14it/s]  8%|▊         | 10/128 [00:00<00:11, 10.57it/s]  9%|▉         | 12/128 [00:01<00:11, 10.41it/s] 11%|█         | 14/128 [00:01<00:10, 10.38it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.18it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.40it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.62it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.51it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.52it/s] 20%|██        | 26/128 [00:02<00:09, 10.38it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.33it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.04it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.30it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.17it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.43it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.24it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.42it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.40it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.30it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.16it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.33it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.21it/s] 41%|████      | 52/128 [00:05<00:07, 10.80it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.42it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.38it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.59it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.55it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.72it/s] 50%|█████     | 64/128 [00:06<00:05, 10.79it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.57it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.33it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.52it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.69it/s] 58%|█████▊    | 74/128 [00:07<00:04, 10.80it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.85it/s] 61%|██████    | 78/128 [00:07<00:04, 10.61it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.80it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.13it/s] 66%|██████▌   | 84/128 [00:08<00:03, 11.11it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.03it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.50it/s] 70%|███████   | 90/128 [00:08<00:03, 10.28it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.41it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.32it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.51it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.42it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.99it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.94it/s] 80%|████████  | 103/128 [00:09<00:02,  9.83it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.27it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.30it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.16it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.41it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.53it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.77it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.85it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.57it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.12it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.26it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.36it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.20it/s]100%|██████████| 128/128 [00:12<00:00, 10.43it/s]
[2024-01-18 14:02:22,452] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 16%|█▋        | 21/128 [00:00<00:00, 208.73it/s] 37%|███▋      | 47/128 [00:00<00:00, 233.35it/s] 58%|█████▊    | 74/128 [00:00<00:00, 246.88it/s] 79%|███████▉  | 101/128 [00:00<00:00, 255.15it/s]100%|██████████| 128/128 [00:00<00:00, 253.10it/s]
[2024-01-18 14:02:23,099] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.27it/s]  2%|▏         | 3/128 [00:00<00:12,  9.95it/s]  4%|▍         | 5/128 [00:00<00:12, 10.12it/s]  5%|▌         | 7/128 [00:00<00:11, 10.54it/s]  7%|▋         | 9/128 [00:00<00:11, 10.71it/s]  9%|▊         | 11/128 [00:01<00:10, 10.75it/s] 10%|█         | 13/128 [00:01<00:11, 10.24it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.75it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.33it/s] 15%|█▍        | 19/128 [00:01<00:09, 10.92it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.64it/s] 18%|█▊        | 23/128 [00:02<00:09, 11.14it/s] 20%|█▉        | 25/128 [00:02<00:09, 11.27it/s] 21%|██        | 27/128 [00:02<00:09, 10.65it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.52it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.07it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.11it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.11it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.14it/s] 30%|███       | 39/128 [00:03<00:08, 10.08it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.19it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.29it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.23it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.26it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.34it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.46it/s] 41%|████▏     | 53/128 [00:05<00:06, 10.94it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.95it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.71it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.18it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.18it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.43it/s] 51%|█████     | 65/128 [00:06<00:05, 11.40it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.77it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.36it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.50it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.40it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.27it/s] 60%|██████    | 77/128 [00:07<00:04, 10.32it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.47it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.94it/s] 65%|██████▍   | 83/128 [00:07<00:04, 11.06it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.72it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.63it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.25it/s] 71%|███████   | 91/128 [00:08<00:03,  9.93it/s] 72%|███████▏  | 92/128 [00:08<00:03,  9.85it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.94it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.32it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.63it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.54it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.52it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.40it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.45it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.57it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.74it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.54it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.37it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.19it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.14it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.22it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.31it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.37it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.30it/s]100%|██████████| 128/128 [00:12<00:00, 10.49it/s]100%|██████████| 128/128 [00:12<00:00, 10.44it/s]
[2024-01-18 14:02:35,374] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.25it/s]  2%|▏         | 3/128 [00:00<00:12,  9.88it/s]  4%|▍         | 5/128 [00:00<00:11, 10.28it/s]  5%|▌         | 7/128 [00:00<00:11, 10.59it/s]  7%|▋         | 9/128 [00:00<00:11, 10.76it/s]  9%|▊         | 11/128 [00:01<00:10, 10.76it/s] 10%|█         | 13/128 [00:01<00:11, 10.25it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.77it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.39it/s] 15%|█▍        | 19/128 [00:01<00:09, 10.95it/s] 16%|█▋        | 21/128 [00:02<00:09, 10.70it/s] 18%|█▊        | 23/128 [00:02<00:09, 11.17it/s] 20%|█▉        | 25/128 [00:02<00:09, 11.23it/s] 21%|██        | 27/128 [00:02<00:09, 10.76it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.52it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.13it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.13it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.08it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.19it/s] 30%|███       | 39/128 [00:03<00:08, 10.11it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.31it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.36it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.28it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.30it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.41it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.53it/s] 41%|████▏     | 53/128 [00:05<00:06, 11.04it/s] 43%|████▎     | 55/128 [00:05<00:06, 11.01it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.62it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.38it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.27it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.55it/s] 51%|█████     | 65/128 [00:06<00:05, 11.50it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.72it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.42it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.58it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.50it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.35it/s] 60%|██████    | 77/128 [00:07<00:04, 10.25it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.45it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.00it/s] 65%|██████▍   | 83/128 [00:07<00:04, 11.07it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.82it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.70it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.15it/s] 71%|███████   | 91/128 [00:08<00:03,  9.96it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.07it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.13it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.46it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.62it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.44it/s] 80%|████████  | 103/128 [00:09<00:02, 10.62it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.36it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.51it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.61it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.54it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.62it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.13it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.09it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.38it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.08it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.34it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.44it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.39it/s]100%|██████████| 128/128 [00:12<00:00, 10.47it/s]
[2024-01-18 14:02:47,609] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  9.07it/s]  2%|▏         | 3/128 [00:00<00:13,  9.41it/s]  4%|▍         | 5/128 [00:00<00:12, 10.08it/s]  5%|▌         | 7/128 [00:00<00:11, 10.47it/s]  7%|▋         | 9/128 [00:00<00:11, 10.68it/s]  9%|▊         | 11/128 [00:01<00:10, 10.78it/s] 10%|█         | 13/128 [00:01<00:11, 10.19it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.59it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.29it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.80it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.65it/s] 18%|█▊        | 23/128 [00:02<00:09, 11.12it/s] 20%|█▉        | 25/128 [00:02<00:09, 11.05it/s] 21%|██        | 27/128 [00:02<00:09, 10.66it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.44it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.10it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.10it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.93it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.11it/s] 30%|███       | 39/128 [00:03<00:08, 10.03it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.27it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.34it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.18it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.15it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.36it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.45it/s] 41%|████▏     | 53/128 [00:05<00:06, 10.99it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.93it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.42it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.27it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.10it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.47it/s] 51%|█████     | 65/128 [00:06<00:05, 11.42it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.64it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.20it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.42it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.34it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.25it/s] 60%|██████    | 77/128 [00:07<00:04, 10.28it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.17it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.84it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.83it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.68it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.60it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.03it/s] 71%|███████   | 91/128 [00:08<00:03,  9.95it/s] 73%|███████▎  | 93/128 [00:08<00:03,  9.96it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.02it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.31it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.57it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.23it/s] 80%|████████  | 103/128 [00:09<00:02, 10.50it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.26it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.41it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.54it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.47it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.52it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.03it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.06it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.35it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.03it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.23it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.35it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.32it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]
[2024-01-18 14:02:59,979] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.19it/s]  2%|▏         | 3/128 [00:00<00:13,  9.40it/s]  4%|▍         | 5/128 [00:00<00:12, 10.03it/s]  5%|▌         | 7/128 [00:00<00:11, 10.40it/s]  7%|▋         | 9/128 [00:00<00:11, 10.65it/s]  9%|▊         | 11/128 [00:01<00:10, 10.74it/s] 10%|█         | 13/128 [00:01<00:11, 10.10it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.56it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.27it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.77it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.63it/s] 18%|█▊        | 23/128 [00:02<00:09, 11.11it/s] 20%|█▉        | 25/128 [00:02<00:09, 11.00it/s] 21%|██        | 27/128 [00:02<00:09, 10.66it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.42it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.05it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.07it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.85it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.09it/s] 30%|███       | 39/128 [00:03<00:08,  9.99it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.24it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.32it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.08it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.16it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.33it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.44it/s] 41%|████▏     | 53/128 [00:05<00:06, 11.00it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.94it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.54it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.28it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.17it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.51it/s] 51%|█████     | 65/128 [00:06<00:05, 11.46it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.67it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.32it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.47it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.44it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.32it/s] 60%|██████    | 77/128 [00:07<00:04, 10.22it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.36it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.98it/s] 65%|██████▍   | 83/128 [00:07<00:04, 11.00it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.79it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.65it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.04it/s] 71%|███████   | 91/128 [00:08<00:03,  9.99it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.04it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.12it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.45it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.44it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.39it/s] 80%|████████  | 103/128 [00:09<00:02, 10.52it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.35it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.48it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.43it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.55it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.55it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.10it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.10it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.37it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.97it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.26it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.34it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.34it/s]100%|██████████| 128/128 [00:12<00:00, 10.38it/s]
[2024-01-18 14:03:12,314] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.14it/s]  2%|▏         | 2/128 [00:00<00:13,  9.62it/s]  2%|▏         | 3/128 [00:00<00:13,  9.07it/s]  4%|▍         | 5/128 [00:00<00:12, 10.11it/s]  5%|▌         | 7/128 [00:00<00:11, 10.44it/s]  7%|▋         | 9/128 [00:00<00:11, 10.71it/s]  9%|▊         | 11/128 [00:01<00:10, 10.77it/s] 10%|█         | 13/128 [00:01<00:11,  9.97it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.64it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.23it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.84it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.66it/s] 18%|█▊        | 23/128 [00:02<00:09, 11.11it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.88it/s] 21%|██        | 27/128 [00:02<00:09, 10.66it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.44it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.10it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.07it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.93it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.13it/s] 30%|███       | 39/128 [00:03<00:08, 10.10it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.30it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.35it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.13it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.26it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.41it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.52it/s] 41%|████▏     | 53/128 [00:05<00:06, 11.06it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.91it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.55it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.36it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.24it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.58it/s] 51%|█████     | 65/128 [00:06<00:05, 11.46it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.65it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.39it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.56it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.51it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.30it/s] 60%|██████    | 77/128 [00:07<00:05, 10.17it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.38it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.01it/s] 65%|██████▍   | 83/128 [00:07<00:04, 11.05it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.81it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.54it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.06it/s] 71%|███████   | 91/128 [00:08<00:03, 10.01it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.08it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.15it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.34it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.55it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.43it/s] 80%|████████  | 103/128 [00:09<00:02, 10.58it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.41it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.41it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.46it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.63it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.65it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.22it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.05it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.28it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.11it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.35it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.54it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.38it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]
[2024-01-18 14:03:41,227] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|█▉        | 25/128 [00:00<00:00, 245.13it/s] 41%|████      | 52/128 [00:00<00:00, 256.82it/s] 61%|██████    | 78/128 [00:00<00:00, 256.36it/s] 82%|████████▏ | 105/128 [00:00<00:00, 259.33it/s]100%|██████████| 128/128 [00:00<00:00, 256.80it/s]
[2024-01-18 14:03:41,855] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.95it/s]  3%|▎         | 4/128 [00:00<00:12, 10.19it/s]  5%|▍         | 6/128 [00:00<00:11, 10.25it/s]  6%|▋         | 8/128 [00:00<00:11, 10.65it/s]  8%|▊         | 10/128 [00:00<00:10, 10.91it/s]  9%|▉         | 12/128 [00:01<00:10, 10.86it/s] 11%|█         | 14/128 [00:01<00:10, 10.57it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.45it/s] 14%|█▍        | 18/128 [00:01<00:10, 11.00it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.80it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.95it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.66it/s] 20%|██        | 26/128 [00:02<00:09, 10.55it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.63it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.17it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.19it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.35it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.51it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.69it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.10it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.30it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.53it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.76it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.64it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.46it/s] 41%|████      | 52/128 [00:04<00:07, 10.54it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.39it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.64it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.84it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.88it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.88it/s] 50%|█████     | 64/128 [00:06<00:05, 11.19it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.81it/s] 53%|█████▎    | 68/128 [00:06<00:05, 11.22it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.90it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.91it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.86it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.36it/s] 61%|██████    | 78/128 [00:07<00:04, 10.45it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.66it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.50it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.16it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.75it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.49it/s] 70%|███████   | 90/128 [00:08<00:03, 10.67it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.51it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.51it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.32it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.41it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.62it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.76it/s] 81%|████████▏ | 104/128 [00:09<00:02, 11.30it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.90it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.99it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.72it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.58it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.55it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.18it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.16it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.33it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.31it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.26it/s] 98%|█████████▊| 126/128 [00:11<00:00,  9.77it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.61it/s]100%|██████████| 128/128 [00:12<00:00, 10.53it/s]
[2024-01-18 14:03:54,013] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.81it/s]  3%|▎         | 4/128 [00:00<00:12, 10.15it/s]  5%|▍         | 6/128 [00:00<00:11, 10.22it/s]  6%|▋         | 8/128 [00:00<00:10, 10.96it/s]  8%|▊         | 10/128 [00:00<00:10, 10.82it/s]  9%|▉         | 12/128 [00:01<00:10, 10.93it/s] 11%|█         | 14/128 [00:01<00:10, 10.50it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.41it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.09it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.88it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.98it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.66it/s] 20%|██        | 26/128 [00:02<00:09, 10.54it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.63it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.31it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.17it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.37it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.49it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.67it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.10it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.22it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.48it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.71it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.60it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.43it/s] 41%|████      | 52/128 [00:04<00:07, 10.38it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.31it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.52it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.77it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.83it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.73it/s] 50%|█████     | 64/128 [00:06<00:05, 11.08it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.71it/s] 53%|█████▎    | 68/128 [00:06<00:05, 11.15it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.85it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.89it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.73it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.21it/s] 61%|██████    | 78/128 [00:07<00:04, 10.33it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.56it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.44it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.09it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.72it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.45it/s] 70%|███████   | 90/128 [00:08<00:03, 10.60it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.46it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.40it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.30it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.39it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.62it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.75it/s] 81%|████████▏ | 104/128 [00:09<00:02, 11.24it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.86it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.97it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.69it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.56it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.52it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.18it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.11it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.29it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.27it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.23it/s] 98%|█████████▊| 126/128 [00:11<00:00,  9.78it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.59it/s]100%|██████████| 128/128 [00:12<00:00, 10.50it/s]
[2024-01-18 14:04:06,215] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.73it/s]  3%|▎         | 4/128 [00:00<00:12, 10.08it/s]  5%|▍         | 6/128 [00:00<00:11, 10.17it/s]  6%|▋         | 8/128 [00:00<00:10, 11.00it/s]  8%|▊         | 10/128 [00:00<00:10, 10.93it/s]  9%|▉         | 12/128 [00:01<00:10, 10.99it/s] 11%|█         | 14/128 [00:01<00:10, 10.57it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.42it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.08it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.00it/s] 17%|█▋        | 22/128 [00:02<00:09, 11.02it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.73it/s] 20%|██        | 26/128 [00:02<00:09, 10.57it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.64it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.40it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.26it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.50it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.58it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.71it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.15it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.30it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.53it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.76it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.60it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.46it/s] 41%|████      | 52/128 [00:04<00:07, 10.54it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.31it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.58it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.79it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.84it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.82it/s] 50%|█████     | 64/128 [00:06<00:05, 11.21it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.81it/s] 53%|█████▎    | 68/128 [00:06<00:05, 11.21it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.86it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.87it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.94it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.32it/s] 61%|██████    | 78/128 [00:07<00:04, 10.48it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.67it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.42it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.24it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.78it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.52it/s] 70%|███████   | 90/128 [00:08<00:03, 10.67it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.46it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.41it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.35it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.40it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.66it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.78it/s] 81%|████████▏ | 104/128 [00:09<00:02, 11.21it/s] 83%|████████▎ | 106/128 [00:09<00:01, 11.08it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.09it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.85it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.63it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.56it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.31it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.27it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.47it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.39it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.30it/s] 98%|█████████▊| 126/128 [00:11<00:00,  9.89it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00, 10.57it/s]
[2024-01-18 14:04:18,331] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.01it/s]  3%|▎         | 4/128 [00:00<00:12, 10.24it/s]  5%|▍         | 6/128 [00:00<00:11, 10.26it/s]  6%|▋         | 8/128 [00:00<00:10, 11.05it/s]  8%|▊         | 10/128 [00:00<00:10, 11.04it/s]  9%|▉         | 12/128 [00:01<00:10, 11.06it/s] 11%|█         | 14/128 [00:01<00:10, 10.65it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.50it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.14it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.03it/s] 17%|█▋        | 22/128 [00:02<00:09, 11.12it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.80it/s] 20%|██        | 26/128 [00:02<00:09, 10.64it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.69it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.41it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.39it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.56it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.66it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.77it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.13it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.40it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.60it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.84it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.65it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.40it/s] 41%|████      | 52/128 [00:04<00:07, 10.60it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.40it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.68it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.89it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.89it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.83it/s] 50%|█████     | 64/128 [00:05<00:05, 11.29it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.88it/s] 53%|█████▎    | 68/128 [00:06<00:05, 11.29it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.93it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.89it/s] 58%|█████▊    | 74/128 [00:06<00:04, 11.00it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.39it/s] 61%|██████    | 78/128 [00:07<00:04, 10.53it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.69it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.42it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.24it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.60it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.14it/s] 70%|███████   | 90/128 [00:08<00:03, 10.16it/s] 72%|███████▏  | 92/128 [00:08<00:03,  9.85it/s] 73%|███████▎  | 93/128 [00:08<00:03,  9.72it/s] 74%|███████▍  | 95/128 [00:08<00:03, 10.00it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.92it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.22it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.56it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.68it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.97it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.73it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.67it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.35it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.23it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.27it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.08it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.11it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.31it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.28it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.23it/s] 98%|█████████▊| 126/128 [00:11<00:00,  9.69it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.63it/s]100%|██████████| 128/128 [00:12<00:00, 10.50it/s]
[2024-01-18 14:04:30,536] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.87it/s]  3%|▎         | 4/128 [00:00<00:12, 10.15it/s]  5%|▍         | 6/128 [00:00<00:11, 10.21it/s]  6%|▋         | 8/128 [00:00<00:11, 10.74it/s]  8%|▊         | 10/128 [00:00<00:10, 10.91it/s]  9%|▉         | 12/128 [00:01<00:10, 10.85it/s] 11%|█         | 14/128 [00:01<00:10, 10.51it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.40it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.93it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.80it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.94it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.62it/s] 20%|██        | 26/128 [00:02<00:09, 10.47it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.57it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.13it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.20it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.32it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.50it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.65it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.93it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.21it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.38it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.68it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.57it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.27it/s] 41%|████      | 52/128 [00:04<00:07, 10.37it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.24it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.48it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.74it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.79it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.61it/s] 50%|█████     | 64/128 [00:06<00:05, 11.05it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.60it/s] 53%|█████▎    | 68/128 [00:06<00:05, 11.08it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.80it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.81it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.72it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.23it/s] 61%|██████    | 78/128 [00:07<00:04, 10.33it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.53it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.40it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.08it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.69it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.42it/s] 70%|███████   | 90/128 [00:08<00:03, 10.61it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.45it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.30it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.24it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.31it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.56it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.71it/s] 81%|████████▏ | 104/128 [00:09<00:02, 11.23it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.81it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.87it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.60it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.49it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.45it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.05it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.07it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.18it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.20it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.17it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.66it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.55it/s]100%|██████████| 128/128 [00:12<00:00, 10.44it/s]
[2024-01-18 14:04:58,390] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 24%|██▍       | 31/128 [00:00<00:00, 302.79it/s] 48%|████▊     | 62/128 [00:00<00:00, 297.63it/s] 72%|███████▏  | 92/128 [00:00<00:00, 292.63it/s] 95%|█████████▌| 122/128 [00:00<00:00, 294.93it/s]100%|██████████| 128/128 [00:00<00:00, 299.09it/s]
[2024-01-18 14:04:58,946] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.65it/s]  2%|▏         | 2/128 [00:00<00:13,  9.59it/s]  2%|▏         | 3/128 [00:00<00:13,  9.60it/s]  3%|▎         | 4/128 [00:00<00:12,  9.63it/s]  5%|▍         | 6/128 [00:00<00:13,  9.16it/s]  5%|▌         | 7/128 [00:00<00:13,  9.13it/s]  7%|▋         | 9/128 [00:00<00:12,  9.46it/s]  9%|▊         | 11/128 [00:01<00:11, 10.06it/s] 10%|█         | 13/128 [00:01<00:11, 10.39it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.63it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.81it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.10it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.51it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.71it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.66it/s] 21%|██        | 27/128 [00:02<00:09, 10.36it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.52it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.74it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.87it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.98it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.69it/s] 30%|███       | 39/128 [00:03<00:08, 10.52it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.54it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.71it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.56it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.24it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.22it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.42it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.65it/s] 43%|████▎     | 55/128 [00:05<00:06, 11.13it/s] 45%|████▍     | 57/128 [00:05<00:06, 11.19it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.79it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.85it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.21it/s] 51%|█████     | 65/128 [00:06<00:05, 11.32it/s] 52%|█████▏    | 67/128 [00:06<00:05, 11.24it/s] 54%|█████▍    | 69/128 [00:06<00:05, 11.51it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.02it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.75it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.81it/s] 60%|██████    | 77/128 [00:07<00:04, 10.84it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.96it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.43it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.31it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.45it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.66it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.52it/s] 71%|███████   | 91/128 [00:08<00:03, 10.42it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.50it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.27it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.50it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.80it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.91it/s] 80%|████████  | 103/128 [00:09<00:02, 10.31it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.55it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.49it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.71it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.88it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.40it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.82it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.82it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.87it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.98it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.97it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.09it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.82it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.66it/s]100%|██████████| 128/128 [00:12<00:00, 10.45it/s]
[2024-01-18 14:05:11,200] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.66it/s]  2%|▏         | 2/128 [00:00<00:13,  9.62it/s]  2%|▏         | 3/128 [00:00<00:12,  9.62it/s]  4%|▍         | 5/128 [00:00<00:12,  9.91it/s]  5%|▍         | 6/128 [00:00<00:13,  8.92it/s]  5%|▌         | 7/128 [00:00<00:13,  9.06it/s]  7%|▋         | 9/128 [00:00<00:12,  9.37it/s]  9%|▊         | 11/128 [00:01<00:11, 10.00it/s] 10%|█         | 13/128 [00:01<00:11, 10.36it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.64it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.78it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.09it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.45it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.67it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.76it/s] 21%|██        | 27/128 [00:02<00:09, 10.31it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.56it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.75it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.86it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.94it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.75it/s] 30%|███       | 39/128 [00:03<00:08, 10.51it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.57it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.72it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.56it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.21it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.18it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.39it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.63it/s] 43%|████▎     | 55/128 [00:05<00:06, 11.15it/s] 45%|████▍     | 57/128 [00:05<00:06, 11.19it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.80it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.85it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.16it/s] 51%|█████     | 65/128 [00:06<00:05, 11.26it/s] 52%|█████▏    | 67/128 [00:06<00:05, 11.19it/s] 54%|█████▍    | 69/128 [00:06<00:05, 11.44it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.06it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.78it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.82it/s] 60%|██████    | 77/128 [00:07<00:04, 10.80it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.90it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.55it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.31it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.53it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.67it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.52it/s] 71%|███████   | 91/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.56it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.40it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.59it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.83it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.84it/s] 80%|████████  | 103/128 [00:09<00:02, 10.48it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.69it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.61it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.79it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.86it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.56it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.01it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.95it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.98it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.05it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.89it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.25it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.91it/s]100%|██████████| 128/128 [00:12<00:00,  9.90it/s]100%|██████████| 128/128 [00:12<00:00, 10.48it/s]
[2024-01-18 14:05:23,424] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.51it/s]  2%|▏         | 2/128 [00:00<00:13,  9.52it/s]  2%|▏         | 3/128 [00:00<00:13,  9.53it/s]  4%|▍         | 5/128 [00:00<00:12,  9.85it/s]  5%|▍         | 6/128 [00:00<00:13,  8.98it/s]  5%|▌         | 7/128 [00:00<00:13,  9.10it/s]  7%|▋         | 9/128 [00:00<00:12,  9.42it/s]  9%|▊         | 11/128 [00:01<00:11, 10.02it/s] 10%|█         | 13/128 [00:01<00:11, 10.35it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.61it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.78it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.05it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.46it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.67it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.69it/s] 21%|██        | 27/128 [00:02<00:09, 10.29it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.50it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.70it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.82it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.93it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.69it/s] 30%|███       | 39/128 [00:03<00:08, 10.47it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.54it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.69it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.53it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.14it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.20it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.40it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.63it/s] 43%|████▎     | 55/128 [00:05<00:06, 11.14it/s] 45%|████▍     | 57/128 [00:05<00:06, 11.12it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.79it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.83it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.19it/s] 51%|█████     | 65/128 [00:06<00:05, 11.28it/s] 52%|█████▏    | 67/128 [00:06<00:05, 11.19it/s] 54%|█████▍    | 69/128 [00:06<00:05, 11.36it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.07it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.74it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.82it/s] 60%|██████    | 77/128 [00:07<00:04, 10.83it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.93it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.38it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.29it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.44it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.63it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.50it/s] 71%|███████   | 91/128 [00:08<00:03, 10.38it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.51it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.25it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.52it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.79it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.78it/s] 80%|████████  | 103/128 [00:09<00:02, 10.36it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.55it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.53it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.70it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.86it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.86it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.54it/s] 90%|████████▉ | 115/128 [00:10<00:01, 11.09it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.94it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.97it/s] 95%|█████████▍| 121/128 [00:11<00:00, 11.03it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.44it/s] 98%|█████████▊| 125/128 [00:11<00:00,  9.97it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.69it/s]100%|██████████| 128/128 [00:12<00:00, 10.43it/s]
[2024-01-18 14:05:35,706] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.63it/s]  2%|▏         | 2/128 [00:00<00:13,  9.56it/s]  2%|▏         | 3/128 [00:00<00:13,  9.53it/s]  3%|▎         | 4/128 [00:00<00:12,  9.56it/s]  5%|▍         | 6/128 [00:00<00:13,  9.06it/s]  5%|▌         | 7/128 [00:00<00:13,  9.06it/s]  7%|▋         | 9/128 [00:00<00:12,  9.39it/s]  9%|▊         | 11/128 [00:01<00:11,  9.99it/s] 10%|█         | 13/128 [00:01<00:11, 10.32it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.53it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.67it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.99it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.42it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.62it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.51it/s] 21%|██        | 27/128 [00:02<00:09, 10.26it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.40it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.65it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.78it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.81it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.63it/s] 30%|███       | 39/128 [00:03<00:08, 10.40it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.51it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.66it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.49it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.05it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.16it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.35it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.60it/s] 43%|████▎     | 55/128 [00:05<00:06, 11.11it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.96it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.74it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.72it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.15it/s] 51%|█████     | 65/128 [00:06<00:05, 11.26it/s] 52%|█████▏    | 67/128 [00:06<00:05, 11.16it/s] 54%|█████▍    | 69/128 [00:06<00:05, 11.21it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.04it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.64it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.79it/s] 60%|██████    | 77/128 [00:07<00:04, 10.81it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.88it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.41it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.27it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.42it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.62it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.46it/s] 71%|███████   | 91/128 [00:08<00:03, 10.32it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.48it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.27it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.52it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.75it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.68it/s] 80%|████████  | 103/128 [00:09<00:02, 10.38it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.57it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.54it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.73it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.82it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.80it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.56it/s] 90%|████████▉ | 115/128 [00:11<00:01, 11.06it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.96it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.99it/s] 95%|█████████▍| 121/128 [00:11<00:00, 11.05it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.44it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.94it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.72it/s]100%|██████████| 128/128 [00:12<00:00, 10.39it/s]
[2024-01-18 14:05:48,034] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.59it/s]  2%|▏         | 2/128 [00:00<00:13,  9.51it/s]  2%|▏         | 3/128 [00:00<00:13,  9.23it/s]  4%|▍         | 5/128 [00:00<00:12, 10.08it/s]  5%|▍         | 6/128 [00:00<00:13,  8.98it/s]  5%|▌         | 7/128 [00:00<00:13,  9.07it/s]  7%|▋         | 9/128 [00:00<00:12,  9.44it/s]  9%|▊         | 11/128 [00:01<00:11, 10.00it/s] 10%|█         | 13/128 [00:01<00:11, 10.23it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.70it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.74it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.11it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.48it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.58it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.70it/s] 21%|██        | 27/128 [00:02<00:09, 10.31it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.55it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.76it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.86it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.81it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.78it/s] 30%|███       | 39/128 [00:03<00:08, 10.46it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.60it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.73it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.41it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.26it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.20it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.46it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.64it/s] 43%|████▎     | 55/128 [00:05<00:06, 11.14it/s] 45%|████▍     | 57/128 [00:05<00:06, 11.06it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.79it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.77it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.19it/s] 51%|█████     | 65/128 [00:06<00:05, 11.28it/s] 52%|█████▏    | 67/128 [00:06<00:05, 11.19it/s] 54%|█████▍    | 69/128 [00:06<00:05, 11.23it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.15it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.73it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.85it/s] 60%|██████    | 77/128 [00:07<00:04, 10.82it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.82it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.46it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.26it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.47it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.65it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.47it/s] 71%|███████   | 91/128 [00:08<00:03, 10.28it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.44it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.19it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.46it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.74it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.61it/s] 80%|████████  | 103/128 [00:09<00:02, 10.39it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.55it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.52it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.73it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.71it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.37it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.89it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.76it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.86it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.95it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.68it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.12it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.72it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.65it/s]100%|██████████| 128/128 [00:12<00:00, 10.42it/s]
[2024-01-18 14:06:15,686] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 281.46it/s] 45%|████▌     | 58/128 [00:00<00:00, 283.84it/s] 68%|██████▊   | 87/128 [00:00<00:00, 285.13it/s] 92%|█████████▏| 118/128 [00:00<00:00, 293.36it/s]100%|██████████| 128/128 [00:00<00:00, 289.80it/s]
[2024-01-18 14:06:16,256] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.01it/s]  3%|▎         | 4/128 [00:00<00:12,  9.65it/s]  5%|▍         | 6/128 [00:00<00:12,  9.89it/s]  6%|▋         | 8/128 [00:00<00:11, 10.75it/s]  8%|▊         | 10/128 [00:00<00:11, 10.41it/s]  9%|▉         | 12/128 [00:01<00:10, 10.58it/s] 11%|█         | 14/128 [00:01<00:11, 10.09it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.38it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.94it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.99it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.98it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.76it/s] 20%|██        | 26/128 [00:02<00:10, 10.03it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.02it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.31it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.03it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.93it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.95it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.41it/s] 30%|███       | 39/128 [00:03<00:09,  9.57it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.55it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.48it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.00it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.25it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.12it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.09it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.69it/s] 41%|████      | 52/128 [00:05<00:07,  9.63it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.70it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.60it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.46it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.56it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.69it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.16it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.43it/s] 51%|█████     | 65/128 [00:06<00:05, 10.62it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.06it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.29it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.48it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.74it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.40it/s] 60%|██████    | 77/128 [00:07<00:05,  9.80it/s] 61%|██████    | 78/128 [00:07<00:05,  9.71it/s] 62%|██████▎   | 80/128 [00:08<00:04,  9.80it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.21it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.51it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.23it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.96it/s] 70%|███████   | 90/128 [00:08<00:03, 10.22it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.46it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.50it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.58it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.32it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.21it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.23it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.10it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.84it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.93it/s] 87%|████████▋ | 111/128 [00:11<00:01,  9.82it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.64it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.41it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.40it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.17it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.05it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.30it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.05it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.70it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]
[2024-01-18 14:06:28,972] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.09it/s]  3%|▎         | 4/128 [00:00<00:12,  9.89it/s]  5%|▍         | 6/128 [00:00<00:12, 10.02it/s]  6%|▋         | 8/128 [00:00<00:10, 10.97it/s]  8%|▊         | 10/128 [00:00<00:11, 10.27it/s]  9%|▉         | 12/128 [00:01<00:11, 10.47it/s] 11%|█         | 14/128 [00:01<00:11, 10.19it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.52it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.12it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.85it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.71it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.68it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.05it/s] 21%|██        | 27/128 [00:02<00:09, 10.38it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.27it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.96it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.86it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.65it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.15it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.48it/s] 30%|███       | 39/128 [00:03<00:09,  9.58it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.36it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.28it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.81it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.20it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.22it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.10it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.52it/s] 41%|████      | 52/128 [00:05<00:08,  9.49it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.55it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.51it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.44it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.64it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.60it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.98it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.30it/s] 51%|█████     | 65/128 [00:06<00:05, 10.54it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.16it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.36it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.24it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.56it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.27it/s] 60%|██████    | 77/128 [00:07<00:05,  9.88it/s] 61%|██████    | 78/128 [00:07<00:05,  9.78it/s] 62%|██████▎   | 80/128 [00:08<00:04,  9.70it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.07it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.31it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.29it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.01it/s] 70%|███████   | 90/128 [00:08<00:03, 10.25it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.27it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.30it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.43it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.64it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.43it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.04it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.10it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.99it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.02it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.12it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.28it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.20it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.30it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.25it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.16it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.19it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.09it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.79it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.73it/s]100%|██████████| 128/128 [00:12<00:00, 10.05it/s]
[2024-01-18 14:06:41,722] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.11it/s]  3%|▎         | 4/128 [00:00<00:12,  9.67it/s]  5%|▍         | 6/128 [00:00<00:12,  9.82it/s]  6%|▋         | 8/128 [00:00<00:11, 10.70it/s]  8%|▊         | 10/128 [00:00<00:11, 10.34it/s]  9%|▉         | 12/128 [00:01<00:11, 10.53it/s] 11%|█         | 14/128 [00:01<00:11, 10.19it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.33it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.91it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.92it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.80it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.80it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.80it/s] 20%|██        | 26/128 [00:02<00:10, 10.00it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.98it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.27it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.97it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.82it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.01it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.83it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.19it/s] 30%|███       | 39/128 [00:03<00:09,  9.38it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.38it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.32it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.96it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.94it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.80it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.18it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.09it/s] 41%|████      | 52/128 [00:05<00:08,  9.43it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.46it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.24it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.49it/s] 46%|████▌     | 59/128 [00:06<00:07,  9.55it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.01it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.36it/s] 51%|█████     | 65/128 [00:06<00:06, 10.39it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.94it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.06it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.29it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.61it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.27it/s] 60%|██████    | 77/128 [00:07<00:05,  9.70it/s] 61%|██████    | 78/128 [00:07<00:05,  9.62it/s] 62%|██████▎   | 80/128 [00:08<00:04,  9.68it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.10it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.42it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.16it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.83it/s] 70%|███████   | 90/128 [00:09<00:03, 10.10it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.38it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.40it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.46it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.46it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.25it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.13it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.16it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.09it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.93it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.99it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.37it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.30it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.50it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.18it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.05it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.30it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.23it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.95it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00, 10.01it/s]
[2024-01-18 14:06:54,515] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.00it/s]  3%|▎         | 4/128 [00:00<00:12,  9.89it/s]  5%|▍         | 6/128 [00:00<00:12,  9.98it/s]  6%|▋         | 8/128 [00:00<00:10, 10.92it/s]  8%|▊         | 10/128 [00:00<00:11, 10.35it/s]  9%|▉         | 12/128 [00:01<00:11, 10.35it/s] 11%|█         | 14/128 [00:01<00:11, 10.12it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.39it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.04it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.96it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.68it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.57it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.77it/s] 21%|██        | 27/128 [00:02<00:09, 10.17it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.19it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.91it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.72it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.62it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.04it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.92it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.24it/s] 30%|███       | 39/128 [00:03<00:09,  9.57it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.35it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.12it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.83it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.11it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.96it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.38it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.21it/s] 41%|████      | 52/128 [00:05<00:08,  9.29it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.40it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.36it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.54it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.67it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.65it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.09it/s] 50%|█████     | 64/128 [00:06<00:06, 10.35it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.34it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.20it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.33it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.36it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.56it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.00it/s] 61%|██████    | 78/128 [00:07<00:05,  9.73it/s] 62%|██████▎   | 80/128 [00:08<00:04,  9.79it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.96it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.26it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.21it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.96it/s] 70%|███████   | 90/128 [00:09<00:03, 10.31it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.22it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.28it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.40it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.61it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.41it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.04it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.03it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.97it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.99it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.08it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.26it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.17it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.30it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.21it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.11it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.23it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.06it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.77it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.71it/s]100%|██████████| 128/128 [00:12<00:00, 10.01it/s]
[2024-01-18 14:07:07,309] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.05it/s]  3%|▎         | 4/128 [00:00<00:12,  9.70it/s]  5%|▍         | 6/128 [00:00<00:12,  9.80it/s]  6%|▋         | 8/128 [00:00<00:11, 10.71it/s]  8%|▊         | 10/128 [00:00<00:11, 10.32it/s]  9%|▉         | 12/128 [00:01<00:11, 10.51it/s] 11%|█         | 14/128 [00:01<00:11, 10.23it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.29it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.93it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.88it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.76it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.77it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.90it/s] 21%|██        | 27/128 [00:02<00:09, 10.15it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.05it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.04it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.81it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.05it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.38it/s] 30%|███       | 39/128 [00:03<00:09,  9.47it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.45it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.37it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.94it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.07it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.01it/s] 38%|███▊      | 49/128 [00:04<00:07,  9.93it/s] 40%|███▉      | 51/128 [00:05<00:08,  9.59it/s] 41%|████      | 52/128 [00:05<00:07,  9.54it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.67it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.34it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.49it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.53it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.99it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.36it/s] 51%|█████     | 65/128 [00:06<00:06, 10.43it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.89it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.10it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.26it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.59it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.39it/s] 60%|██████    | 77/128 [00:07<00:05,  9.65it/s] 61%|██████    | 78/128 [00:07<00:05,  9.57it/s] 62%|██████▎   | 80/128 [00:08<00:04,  9.67it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.10it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.42it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.15it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.78it/s] 70%|███████   | 90/128 [00:09<00:03, 10.09it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.24it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.30it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.48it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.39it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.22it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.07it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.12it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.02it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.75it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.89it/s] 87%|████████▋ | 111/128 [00:11<00:01,  9.72it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.56it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.35it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.38it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.11it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.95it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.17it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.95it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.86it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.57it/s]100%|██████████| 128/128 [00:12<00:00,  9.59it/s]100%|██████████| 128/128 [00:12<00:00,  9.97it/s]
[2024-01-18 14:07:36,197] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|██        | 26/128 [00:00<00:00, 246.82it/s] 40%|███▉      | 51/128 [00:00<00:00, 248.19it/s] 61%|██████    | 78/128 [00:00<00:00, 253.10it/s] 83%|████████▎ | 106/128 [00:00<00:00, 259.76it/s]100%|██████████| 128/128 [00:00<00:00, 255.24it/s]
[2024-01-18 14:07:36,827] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.61it/s]  3%|▎         | 4/128 [00:00<00:12, 10.06it/s]  5%|▍         | 6/128 [00:00<00:12,  9.94it/s]  6%|▋         | 8/128 [00:00<00:11, 10.05it/s]  8%|▊         | 10/128 [00:00<00:11, 10.55it/s]  9%|▉         | 12/128 [00:01<00:11, 10.37it/s] 11%|█         | 14/128 [00:01<00:11,  9.90it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.93it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.67it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.86it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.60it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.16it/s] 20%|██        | 26/128 [00:02<00:09, 10.44it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.24it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.53it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.40it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.12it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.89it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.12it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.39it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.63it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.69it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.09it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.81it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.74it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.19it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.12it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.15it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.12it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.00it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.14it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.44it/s] 51%|█████     | 65/128 [00:06<00:05, 10.88it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.69it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.87it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.65it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.81it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.87it/s] 60%|██████    | 77/128 [00:07<00:04, 10.32it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.56it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.93it/s] 65%|██████▍   | 83/128 [00:07<00:04, 11.04it/s] 66%|██████▋   | 85/128 [00:08<00:03, 11.07it/s] 68%|██████▊   | 87/128 [00:08<00:03, 11.03it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.55it/s] 71%|███████   | 91/128 [00:08<00:03, 10.70it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.50it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.44it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.65it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.25it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.52it/s] 80%|████████  | 103/128 [00:09<00:02, 10.65it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.58it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.68it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.32it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.28it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.15it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.21it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.46it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.46it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.42it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.52it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.14it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.96it/s]100%|██████████| 128/128 [00:12<00:00, 10.39it/s]
[2024-01-18 14:07:49,155] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.27it/s]  3%|▎         | 4/128 [00:00<00:12,  9.96it/s]  4%|▍         | 5/128 [00:00<00:12,  9.76it/s]  5%|▌         | 7/128 [00:00<00:11, 10.13it/s]  7%|▋         | 9/128 [00:00<00:11, 10.23it/s]  9%|▊         | 11/128 [00:01<00:11, 10.31it/s] 10%|█         | 13/128 [00:01<00:11, 10.23it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.13it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.08it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.83it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.56it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.23it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.44it/s] 21%|██        | 27/128 [00:02<00:09, 10.50it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.41it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.36it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.51it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.98it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.05it/s] 30%|███       | 39/128 [00:03<00:08, 10.23it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.49it/s] 34%|███▎      | 43/128 [00:04<00:07, 10.76it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.32it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.02it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.81it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.18it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.12it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.16it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.15it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.04it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.16it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.43it/s] 51%|█████     | 65/128 [00:06<00:05, 10.84it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.76it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.86it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.70it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.82it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.78it/s] 60%|██████    | 77/128 [00:07<00:04, 10.36it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.52it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.93it/s] 65%|██████▍   | 83/128 [00:07<00:04, 11.05it/s] 66%|██████▋   | 85/128 [00:08<00:03, 11.07it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.98it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.59it/s] 71%|███████   | 91/128 [00:08<00:03, 10.74it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.52it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.46it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.66it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.23it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.49it/s] 80%|████████  | 103/128 [00:09<00:02, 10.64it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.57it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.68it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.30it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.29it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.11it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.16it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.43it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.31it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.44it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.47it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.12it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.94it/s]100%|██████████| 128/128 [00:12<00:00, 10.39it/s]
[2024-01-18 14:08:01,492] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.73it/s]  2%|▏         | 3/128 [00:00<00:12,  9.90it/s]  4%|▍         | 5/128 [00:00<00:12,  9.79it/s]  5%|▌         | 7/128 [00:00<00:11, 10.20it/s]  7%|▋         | 9/128 [00:00<00:11, 10.22it/s]  9%|▊         | 11/128 [00:01<00:11, 10.23it/s] 10%|█         | 13/128 [00:01<00:11, 10.11it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.02it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.03it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.79it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.53it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.05it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.39it/s] 21%|██        | 27/128 [00:02<00:09, 10.44it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.40it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.35it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.28it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.98it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.95it/s] 30%|███       | 39/128 [00:03<00:08, 10.21it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.48it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.56it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.24it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.88it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.81it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.73it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.22it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.93it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.91it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.36it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.89it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.00it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.36it/s] 50%|█████     | 64/128 [00:06<00:05, 10.78it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.70it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.74it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.89it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.69it/s] 58%|█████▊    | 74/128 [00:07<00:04, 10.82it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.54it/s] 61%|██████    | 78/128 [00:07<00:04, 10.32it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.85it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.63it/s] 66%|██████▌   | 84/128 [00:08<00:03, 11.16it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.84it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.88it/s] 70%|███████   | 90/128 [00:08<00:03, 10.53it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.46it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.35it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.63it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.16it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.45it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.56it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.78it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.58it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.19it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.20it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.10it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.39it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.33it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.26it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.36it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.42it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.29it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.04it/s]100%|██████████| 128/128 [00:12<00:00,  9.91it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]
[2024-01-18 14:08:13,894] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:12,  9.78it/s]  2%|▏         | 3/128 [00:00<00:12, 10.08it/s]  4%|▍         | 5/128 [00:00<00:12,  9.86it/s]  5%|▌         | 7/128 [00:00<00:11, 10.30it/s]  7%|▋         | 9/128 [00:00<00:11, 10.33it/s]  9%|▊         | 11/128 [00:01<00:11, 10.03it/s] 10%|█         | 13/128 [00:01<00:11, 10.25it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.00it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.10it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.86it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.40it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.19it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.41it/s] 21%|██        | 27/128 [00:02<00:09, 10.50it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.44it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.32it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.23it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.93it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.78it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.18it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.42it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.44it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.56it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.06it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.86it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.80it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.21it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.77it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.17it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.06it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.06it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.16it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.16it/s] 51%|█████     | 65/128 [00:06<00:05, 10.75it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.66it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.83it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.69it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.82it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.51it/s] 60%|██████    | 77/128 [00:07<00:04, 10.36it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.45it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.98it/s] 65%|██████▍   | 83/128 [00:08<00:04, 11.08it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.88it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.77it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.54it/s] 71%|███████   | 91/128 [00:08<00:03, 10.71it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.53it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.41it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.34it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.28it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.43it/s] 80%|████████  | 103/128 [00:09<00:02, 10.69it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.57it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.53it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.31it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.26it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.21it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.23it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.35it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.30it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.48it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.54it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.21it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.88it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]
[2024-01-18 14:08:26,292] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.95it/s]  3%|▎         | 4/128 [00:00<00:12, 10.27it/s]  5%|▍         | 6/128 [00:00<00:12, 10.12it/s]  6%|▋         | 8/128 [00:00<00:11, 10.07it/s]  8%|▊         | 10/128 [00:00<00:11, 10.47it/s]  9%|▉         | 12/128 [00:01<00:11, 10.03it/s] 11%|█         | 14/128 [00:01<00:11,  9.93it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.91it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.68it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.84it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.30it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.21it/s] 20%|██        | 26/128 [00:02<00:09, 10.35it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.30it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.52it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.12it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.11it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.80it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.14it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.38it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.44it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.48it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.04it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.85it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.79it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.21it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.84it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.18it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.06it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.05it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.17it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.18it/s] 51%|█████     | 65/128 [00:06<00:05, 10.82it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.72it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.90it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.72it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.74it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.59it/s] 60%|██████    | 77/128 [00:07<00:04, 10.35it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.52it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.04it/s] 65%|██████▍   | 83/128 [00:08<00:04, 11.07it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.80it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.89it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.55it/s] 71%|███████   | 91/128 [00:08<00:03, 10.75it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.57it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.25it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.40it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.21it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.47it/s] 80%|████████  | 103/128 [00:09<00:02, 10.71it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.48it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.38it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.27it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.23it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.21it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.21it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.16it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.34it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.43it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.51it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.19it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.65it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:08:55,524] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 19%|█▉        | 24/128 [00:00<00:00, 239.45it/s] 40%|███▉      | 51/128 [00:00<00:00, 255.98it/s] 60%|██████    | 77/128 [00:00<00:00, 255.10it/s] 81%|████████▏ | 104/128 [00:00<00:00, 260.53it/s]100%|██████████| 128/128 [00:00<00:00, 256.58it/s]
[2024-01-18 14:08:56,149] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.31it/s]  3%|▎         | 4/128 [00:00<00:12, 10.10it/s]  5%|▍         | 6/128 [00:00<00:11, 10.51it/s]  6%|▋         | 8/128 [00:00<00:11, 10.61it/s]  8%|▊         | 10/128 [00:00<00:10, 11.14it/s]  9%|▉         | 12/128 [00:01<00:10, 11.17it/s] 11%|█         | 14/128 [00:01<00:11,  9.97it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.66it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.81it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.36it/s] 17%|█▋        | 22/128 [00:02<00:09, 11.03it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.74it/s] 20%|██        | 26/128 [00:02<00:09, 10.76it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.85it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.66it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.82it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.59it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.40it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.46it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.37it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.22it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.51it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.72it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.33it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.29it/s] 41%|████      | 52/128 [00:04<00:07, 10.52it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.66it/s] 44%|████▍     | 56/128 [00:05<00:06, 11.18it/s] 45%|████▌     | 58/128 [00:05<00:06, 11.17it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.56it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.68it/s] 50%|█████     | 64/128 [00:05<00:05, 11.11it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.82it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.64it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.46it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.65it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.67it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.71it/s] 61%|██████    | 78/128 [00:07<00:04, 10.89it/s] 62%|██████▎   | 80/128 [00:07<00:04, 11.09it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.10it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.84it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.19it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.66it/s] 70%|███████   | 90/128 [00:08<00:03, 10.74it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.38it/s] 73%|███████▎  | 94/128 [00:08<00:03,  9.99it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.16it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.51it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.73it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.87it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.57it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.72it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.68it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.54it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.83it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.65it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.70it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.76it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.92it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.91it/s] 97%|█████████▋| 124/128 [00:11<00:00, 11.01it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.45it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]100%|██████████| 128/128 [00:12<00:00, 10.67it/s]
[2024-01-18 14:09:08,159] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.79it/s]  3%|▎         | 4/128 [00:00<00:12, 10.15it/s]  5%|▍         | 6/128 [00:00<00:11, 10.68it/s]  6%|▋         | 8/128 [00:00<00:11, 10.52it/s]  8%|▊         | 10/128 [00:00<00:10, 11.11it/s]  9%|▉         | 12/128 [00:01<00:10, 11.00it/s] 11%|█         | 14/128 [00:01<00:11,  9.96it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.74it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.81it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.09it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.85it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.53it/s] 20%|██        | 26/128 [00:02<00:09, 10.77it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.89it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.48it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.63it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.36it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.31it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.61it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.26it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.15it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.35it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.60it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.57it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.32it/s] 41%|████      | 52/128 [00:04<00:07, 10.54it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.65it/s] 44%|████▍     | 56/128 [00:05<00:06, 11.03it/s] 45%|████▌     | 58/128 [00:05<00:06, 11.12it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.82it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.66it/s] 50%|█████     | 64/128 [00:06<00:05, 11.08it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.67it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.51it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.57it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.73it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.53it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.64it/s] 61%|██████    | 78/128 [00:07<00:04, 10.71it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.96it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.35it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.71it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.10it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.47it/s] 70%|███████   | 90/128 [00:08<00:03, 10.57it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.48it/s] 73%|███████▎  | 94/128 [00:08<00:03,  9.99it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.11it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.41it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.57it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.75it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.87it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.68it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.77it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.47it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.75it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.80it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.82it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.72it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.91it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.82it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.92it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.70it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]100%|██████████| 128/128 [00:12<00:00, 10.63it/s]
[2024-01-18 14:09:20,215] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.23it/s]  3%|▎         | 4/128 [00:00<00:12, 10.12it/s]  5%|▍         | 6/128 [00:00<00:11, 10.63it/s]  6%|▋         | 8/128 [00:00<00:11, 10.79it/s]  8%|▊         | 10/128 [00:00<00:10, 11.08it/s]  9%|▉         | 12/128 [00:01<00:10, 10.99it/s] 11%|█         | 14/128 [00:01<00:11,  9.88it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.68it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.85it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.43it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.77it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.54it/s] 20%|██        | 26/128 [00:02<00:09, 10.69it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.82it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.70it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.61it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.39it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.19it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.51it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.42it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.12it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.36it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.49it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.47it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.38it/s] 41%|████      | 52/128 [00:04<00:07, 10.61it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.51it/s] 44%|████▍     | 56/128 [00:05<00:06, 11.03it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.97it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.72it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.82it/s] 50%|█████     | 64/128 [00:06<00:05, 11.17it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.70it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.53it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.56it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.68it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.72it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.65it/s] 61%|██████    | 78/128 [00:07<00:04, 10.80it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.97it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.35it/s] 66%|██████▌   | 84/128 [00:07<00:03, 11.01it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.32it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.62it/s] 70%|███████   | 90/128 [00:08<00:03, 10.66it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.49it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.15it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.27it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.52it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.68it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.78it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.88it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.83it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.76it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.54it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.74it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.77it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.91it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.89it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.81it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.81it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.83it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.64it/s]100%|██████████| 128/128 [00:11<00:00, 10.46it/s]100%|██████████| 128/128 [00:11<00:00, 10.67it/s]
[2024-01-18 14:09:32,221] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.33it/s]  3%|▎         | 4/128 [00:00<00:12,  9.91it/s]  5%|▍         | 6/128 [00:00<00:11, 10.38it/s]  6%|▋         | 8/128 [00:00<00:11, 10.60it/s]  8%|▊         | 10/128 [00:00<00:10, 11.22it/s]  9%|▉         | 12/128 [00:01<00:10, 11.00it/s] 11%|█         | 14/128 [00:01<00:11,  9.86it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.54it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.73it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.34it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.95it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.43it/s] 20%|██        | 26/128 [00:02<00:09, 10.68it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.71it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.58it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.78it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.29it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.23it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.43it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.35it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.29it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.32it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.49it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.36it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.26it/s] 41%|████      | 52/128 [00:04<00:07, 10.61it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.73it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.84it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.96it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.60it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.74it/s] 50%|█████     | 64/128 [00:06<00:05, 11.23it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.71it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.43it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.39it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.61it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.74it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.81it/s] 61%|██████    | 78/128 [00:07<00:04, 10.57it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.86it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.10it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.82it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.30it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.47it/s] 70%|███████   | 90/128 [00:08<00:03, 10.44it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.29it/s] 73%|███████▎  | 94/128 [00:08<00:03,  9.99it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.28it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.55it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.42it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.62it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.64it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.77it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.86it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.37it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.56it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.55it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.72it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.83it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.04it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.59it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.78it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.44it/s]100%|██████████| 128/128 [00:12<00:00, 10.34it/s]100%|██████████| 128/128 [00:12<00:00, 10.59it/s]
[2024-01-18 14:09:44,319] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.20it/s]  3%|▎         | 4/128 [00:00<00:12,  9.73it/s]  5%|▍         | 6/128 [00:00<00:11, 10.31it/s]  6%|▋         | 8/128 [00:00<00:11, 10.38it/s]  8%|▊         | 10/128 [00:00<00:10, 11.02it/s]  9%|▉         | 12/128 [00:01<00:10, 11.09it/s] 11%|█         | 14/128 [00:01<00:11,  9.85it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.48it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.68it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.19it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.93it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.66it/s] 20%|██        | 26/128 [00:02<00:09, 10.60it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.68it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.47it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.69it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.50it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.27it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.33it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.23it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.14it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.43it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.65it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.26it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.22it/s] 41%|████      | 52/128 [00:04<00:07, 10.46it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.61it/s] 44%|████▍     | 56/128 [00:05<00:06, 11.12it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.95it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.52it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.58it/s] 50%|█████     | 64/128 [00:06<00:05, 11.02it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.74it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.57it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.31it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.56it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.60it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.71it/s] 61%|██████    | 78/128 [00:07<00:04, 10.85it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.90it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.18it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.81it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.22it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.66it/s] 70%|███████   | 90/128 [00:08<00:03, 10.72it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.24it/s] 73%|███████▎  | 94/128 [00:08<00:03,  9.96it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.16it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.51it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.70it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.62it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.71it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.66it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.77it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.59it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.78it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.55it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.73it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.73it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.95it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.90it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.83it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.54it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.59it/s]
[2024-01-18 14:10:11,977] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 258.35it/s] 41%|████▏     | 53/128 [00:00<00:00, 248.72it/s] 61%|██████    | 78/128 [00:00<00:00, 234.80it/s] 84%|████████▍ | 108/128 [00:00<00:00, 258.38it/s]100%|██████████| 128/128 [00:00<00:00, 251.51it/s]
[2024-01-18 14:10:12,613] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.65it/s]  3%|▎         | 4/128 [00:00<00:11, 10.55it/s]  5%|▍         | 6/128 [00:00<00:12,  9.96it/s]  6%|▋         | 8/128 [00:00<00:11, 10.38it/s]  8%|▊         | 10/128 [00:00<00:11, 10.67it/s]  9%|▉         | 12/128 [00:01<00:10, 11.31it/s] 11%|█         | 14/128 [00:01<00:10, 10.59it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.42it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.02it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.52it/s] 17%|█▋        | 22/128 [00:02<00:09, 11.16it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.37it/s] 20%|██        | 26/128 [00:02<00:09, 10.26it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.78it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.73it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.63it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.37it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.34it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.54it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.13it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.69it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.10it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.25it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.91it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.54it/s] 41%|████      | 52/128 [00:04<00:07, 10.81it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.65it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.51it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.66it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.20it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.44it/s] 50%|█████     | 64/128 [00:06<00:05, 10.67it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.28it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.38it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.49it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.63it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.74it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.85it/s] 61%|██████    | 78/128 [00:07<00:04, 10.27it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.93it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.56it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.34it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.67it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.56it/s] 70%|███████   | 90/128 [00:08<00:03,  9.87it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.10it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.35it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.59it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.40it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.34it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.32it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.49it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.48it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.74it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.69it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.45it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.91it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.96it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.01it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.21it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.93it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.88it/s] 98%|█████████▊| 125/128 [00:11<00:00,  9.77it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.73it/s]100%|██████████| 128/128 [00:12<00:00, 10.11it/s]100%|██████████| 128/128 [00:12<00:00, 10.47it/s]
[2024-01-18 14:10:24,848] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.93it/s]  3%|▎         | 4/128 [00:00<00:11, 10.35it/s]  5%|▍         | 6/128 [00:00<00:12,  9.82it/s]  6%|▋         | 8/128 [00:00<00:11, 10.24it/s]  8%|▊         | 10/128 [00:00<00:11, 10.58it/s]  9%|▉         | 12/128 [00:01<00:10, 11.25it/s] 11%|█         | 14/128 [00:01<00:10, 10.56it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.35it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.90it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.41it/s] 17%|█▋        | 22/128 [00:02<00:09, 11.07it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.29it/s] 20%|██        | 26/128 [00:02<00:10, 10.19it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.74it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.72it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.62it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.40it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.39it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.55it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.14it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.71it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.18it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.30it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.92it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.56it/s] 41%|████      | 52/128 [00:04<00:07, 10.81it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.65it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.63it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.64it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.24it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.45it/s] 50%|█████     | 64/128 [00:06<00:05, 10.68it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.44it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.36it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.55it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.60it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.69it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.81it/s] 61%|██████    | 78/128 [00:07<00:04, 10.40it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.87it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.61it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.30it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.62it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.72it/s] 70%|███████   | 90/128 [00:08<00:03,  9.82it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.18it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.30it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.56it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.43it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.37it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.30it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.46it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.43it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.72it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.86it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.37it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.91it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.90it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.95it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.23it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.90it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.88it/s] 98%|█████████▊| 125/128 [00:11<00:00,  9.71it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.67it/s]100%|██████████| 128/128 [00:12<00:00, 10.06it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]
[2024-01-18 14:10:37,093] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.12it/s]  3%|▎         | 4/128 [00:00<00:11, 10.45it/s]  5%|▍         | 6/128 [00:00<00:12,  9.95it/s]  6%|▋         | 8/128 [00:00<00:11, 10.25it/s]  8%|▊         | 10/128 [00:00<00:11, 10.57it/s]  9%|▉         | 12/128 [00:01<00:10, 11.23it/s] 11%|█         | 14/128 [00:01<00:10, 10.58it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.35it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.90it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.33it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.99it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.44it/s] 20%|██        | 26/128 [00:02<00:10, 10.09it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.69it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.60it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.53it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.35it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.24it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.39it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.97it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.60it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.09it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.25it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.79it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.45it/s] 41%|████      | 52/128 [00:04<00:07, 10.66it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.55it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.69it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.50it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.19it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.30it/s] 50%|█████     | 64/128 [00:06<00:06, 10.55it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.39it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.34it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.50it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.60it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.66it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.79it/s] 61%|██████    | 78/128 [00:07<00:04, 10.45it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.86it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.61it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.30it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.61it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.70it/s] 70%|███████   | 90/128 [00:08<00:03,  9.78it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.14it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.27it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.54it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.44it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.32it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.30it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.45it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.42it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.70it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.82it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.40it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.88it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.87it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.93it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.21it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.88it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.92it/s] 98%|█████████▊| 125/128 [00:11<00:00,  9.73it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.64it/s]100%|██████████| 128/128 [00:12<00:00, 10.03it/s]100%|██████████| 128/128 [00:12<00:00, 10.42it/s]
[2024-01-18 14:10:49,382] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.09it/s]  3%|▎         | 4/128 [00:00<00:11, 10.45it/s]  5%|▍         | 6/128 [00:00<00:12,  9.96it/s]  6%|▋         | 8/128 [00:00<00:11, 10.24it/s]  8%|▊         | 10/128 [00:00<00:11, 10.56it/s]  9%|▉         | 12/128 [00:01<00:10, 11.17it/s] 11%|█         | 14/128 [00:01<00:10, 10.58it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.32it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.90it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.37it/s] 17%|█▋        | 22/128 [00:02<00:09, 11.05it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.43it/s] 20%|██        | 26/128 [00:02<00:10, 10.12it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.74it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.63it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.55it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.37it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.29it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.40it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.98it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.60it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.10it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.24it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.82it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.43it/s] 41%|████      | 52/128 [00:04<00:07, 10.70it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.58it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.65it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.59it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.21it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.38it/s] 50%|█████     | 64/128 [00:06<00:06, 10.60it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.41it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.31it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.49it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.57it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.68it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.81it/s] 61%|██████    | 78/128 [00:07<00:04, 10.31it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.82it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.49it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.27it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.59it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.69it/s] 70%|███████   | 90/128 [00:08<00:03,  9.80it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.12it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.27it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.52it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.41it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.30it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.29it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.43it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.37it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.67it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.77it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.48it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.96it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.95it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.96it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.18it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.03it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.93it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00, 10.03it/s]100%|██████████| 128/128 [00:12<00:00, 10.43it/s]
[2024-01-18 14:11:01,659] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.75it/s]  3%|▎         | 4/128 [00:00<00:11, 10.65it/s]  5%|▍         | 6/128 [00:00<00:12,  9.96it/s]  6%|▋         | 8/128 [00:00<00:11, 10.34it/s]  8%|▊         | 10/128 [00:00<00:11, 10.59it/s]  9%|▉         | 12/128 [00:01<00:10, 11.23it/s] 11%|█         | 14/128 [00:01<00:10, 10.77it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.28it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.95it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.35it/s] 17%|█▋        | 22/128 [00:02<00:09, 11.02it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.44it/s] 20%|██        | 26/128 [00:02<00:10, 10.10it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.70it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.63it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.54it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.36it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.36it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.45it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.03it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.62it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.11it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.30it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.81it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.48it/s] 41%|████      | 52/128 [00:04<00:07, 10.64it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.52it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.66it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.52it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.16it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.31it/s] 50%|█████     | 64/128 [00:06<00:06, 10.55it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.37it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.30it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.45it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.53it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.63it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.76it/s] 61%|██████    | 78/128 [00:07<00:04, 10.39it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.82it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.54it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.26it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.58it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.68it/s] 70%|███████   | 90/128 [00:08<00:03,  9.76it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.09it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.23it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.49it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.39it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.29it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.24it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.40it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.34it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.64it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.79it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.25it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.81it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.78it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.82it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.15it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.77it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.81it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.63it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.58it/s]100%|██████████| 128/128 [00:12<00:00,  9.98it/s]100%|██████████| 128/128 [00:12<00:00, 10.40it/s]
[2024-01-18 14:11:29,719] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 22%|██▏       | 28/128 [00:00<00:00, 278.91it/s] 46%|████▌     | 59/128 [00:00<00:00, 296.85it/s] 70%|███████   | 90/128 [00:00<00:00, 301.18it/s] 95%|█████████▍| 121/128 [00:00<00:00, 292.95it/s]100%|██████████| 128/128 [00:00<00:00, 293.30it/s]
[2024-01-18 14:11:30,281] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.00it/s]  3%|▎         | 4/128 [00:00<00:11, 11.10it/s]  5%|▍         | 6/128 [00:00<00:11, 10.73it/s]  6%|▋         | 8/128 [00:00<00:10, 11.97it/s]  8%|▊         | 10/128 [00:00<00:09, 12.30it/s]  9%|▉         | 12/128 [00:01<00:09, 11.70it/s] 11%|█         | 14/128 [00:01<00:10, 11.01it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.95it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.10it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.14it/s] 17%|█▋        | 22/128 [00:01<00:09, 11.51it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.99it/s] 20%|██        | 26/128 [00:02<00:09, 10.97it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.99it/s] 23%|██▎       | 30/128 [00:02<00:08, 11.08it/s] 25%|██▌       | 32/128 [00:02<00:08, 11.12it/s] 27%|██▋       | 34/128 [00:03<00:08, 11.10it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.99it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.96it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.40it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.57it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.71it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.52it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.94it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.24it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.55it/s] 41%|████▏     | 53/128 [00:04<00:06, 10.75it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.41it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.46it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.58it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.64it/s] 49%|████▉     | 63/128 [00:05<00:05, 10.83it/s] 51%|█████     | 65/128 [00:06<00:05, 10.94it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.40it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.62it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.44it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.97it/s] 59%|█████▊    | 75/128 [00:06<00:05, 10.40it/s] 60%|██████    | 77/128 [00:07<00:04, 10.46it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.25it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.44it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.58it/s] 66%|██████▋   | 85/128 [00:07<00:04, 10.48it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.61it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.43it/s] 71%|███████   | 91/128 [00:08<00:03, 10.33it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.46it/s] 74%|███████▍  | 95/128 [00:08<00:03, 10.32it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.58it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.55it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.35it/s] 80%|████████  | 103/128 [00:09<00:02, 10.17it/s] 82%|████████▏ | 105/128 [00:09<00:02, 10.14it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.40it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.60it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.63it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.69it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.48it/s] 91%|█████████▏| 117/128 [00:10<00:01, 10.71it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.55it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.83it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.75it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.46it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.08it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.60it/s]
[2024-01-18 14:11:42,365] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.84it/s]  3%|▎         | 4/128 [00:00<00:11, 10.76it/s]  5%|▍         | 6/128 [00:00<00:11, 10.52it/s]  6%|▋         | 8/128 [00:00<00:10, 11.67it/s]  8%|▊         | 10/128 [00:00<00:09, 12.09it/s]  9%|▉         | 12/128 [00:01<00:09, 11.83it/s] 11%|█         | 14/128 [00:01<00:10, 10.94it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.82it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.93it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.95it/s] 17%|█▋        | 22/128 [00:01<00:09, 11.43it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.10it/s] 20%|██        | 26/128 [00:02<00:09, 10.76it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.86it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.81it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.92it/s] 27%|██▋       | 34/128 [00:03<00:08, 11.10it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.92it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.69it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.21it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.39it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.71it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.57it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.63it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.97it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.36it/s] 41%|████      | 52/128 [00:04<00:07, 10.51it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.50it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.60it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.47it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.61it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.67it/s] 50%|█████     | 64/128 [00:05<00:05, 10.77it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.93it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.50it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.56it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.34it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.55it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.47it/s] 61%|██████    | 78/128 [00:07<00:04, 10.34it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.28it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.57it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.33it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.51it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.68it/s] 70%|███████   | 90/128 [00:08<00:03, 10.29it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.48it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.19it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.38it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.70it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.40it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.10it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.28it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.20it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.51it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.76it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.52it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.39it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.50it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.71it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.24it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.61it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.36it/s] 98%|█████████▊| 126/128 [00:11<00:00,  9.96it/s]100%|██████████| 128/128 [00:12<00:00, 10.26it/s]100%|██████████| 128/128 [00:12<00:00, 10.53it/s]
[2024-01-18 14:11:54,532] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.34it/s]  3%|▎         | 4/128 [00:00<00:11, 10.87it/s]  5%|▍         | 6/128 [00:00<00:11, 10.51it/s]  6%|▋         | 8/128 [00:00<00:10, 11.66it/s]  8%|▊         | 10/128 [00:00<00:09, 11.96it/s]  9%|▉         | 12/128 [00:01<00:09, 11.74it/s] 11%|█         | 14/128 [00:01<00:10, 11.14it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.71it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.90it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.81it/s] 17%|█▋        | 22/128 [00:01<00:09, 11.29it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.00it/s] 20%|██        | 26/128 [00:02<00:09, 10.94it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.64it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.80it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.77it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.97it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.99it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.70it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.18it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.28it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.63it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.51it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.91it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.89it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.32it/s] 41%|████      | 52/128 [00:04<00:07, 10.42it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.37it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.52it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.68it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.60it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.70it/s] 50%|█████     | 64/128 [00:05<00:05, 10.76it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.87it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.66it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.68it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.39it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.61it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.46it/s] 61%|██████    | 78/128 [00:07<00:04, 10.36it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.47it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.59it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.45it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.52it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.68it/s] 70%|███████   | 90/128 [00:08<00:03, 10.44it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.28it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.43it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.73it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.52it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.15it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.38it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.22it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.52it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.77it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.82it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.33it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.55it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.62it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.18it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.91it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.34it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.01it/s]100%|██████████| 128/128 [00:12<00:00, 10.18it/s]100%|██████████| 128/128 [00:12<00:00, 10.54it/s]
[2024-01-18 14:12:06,682] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.34it/s]  3%|▎         | 4/128 [00:00<00:10, 11.39it/s]  5%|▍         | 6/128 [00:00<00:11, 10.56it/s]  6%|▋         | 8/128 [00:00<00:10, 11.69it/s]  8%|▊         | 10/128 [00:00<00:09, 12.06it/s]  9%|▉         | 12/128 [00:01<00:10, 11.55it/s] 11%|█         | 14/128 [00:01<00:10, 11.04it/s] 12%|█▎        | 16/128 [00:01<00:10, 11.00it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.91it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.85it/s] 17%|█▋        | 22/128 [00:01<00:09, 11.23it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.88it/s] 20%|██        | 26/128 [00:02<00:09, 10.93it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.99it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.68it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.80it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.87it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.93it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.92it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.13it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.33it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.55it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.44it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.92it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.30it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.20it/s] 41%|████▏     | 53/128 [00:04<00:07, 10.48it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.25it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.50it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.64it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.46it/s] 49%|████▉     | 63/128 [00:05<00:06, 10.59it/s] 51%|█████     | 65/128 [00:06<00:05, 10.66it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.47it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.66it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.45it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.69it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.15it/s] 60%|██████    | 77/128 [00:07<00:04, 10.34it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.29it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.56it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.35it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.28it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.35it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.55it/s] 71%|███████   | 91/128 [00:08<00:03, 10.39it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.35it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.11it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.29it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.54it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.41it/s] 80%|████████  | 103/128 [00:09<00:02, 10.12it/s] 82%|████████▏ | 105/128 [00:09<00:02,  9.90it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.13it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.48it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.67it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.75it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.30it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.57it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.34it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.97it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.00it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.15it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.12it/s]100%|██████████| 128/128 [00:12<00:00, 10.49it/s]
[2024-01-18 14:12:18,898] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.16it/s]  3%|▎         | 4/128 [00:00<00:10, 11.29it/s]  5%|▍         | 6/128 [00:00<00:11, 10.86it/s]  6%|▋         | 8/128 [00:00<00:10, 11.68it/s]  8%|▊         | 10/128 [00:00<00:09, 12.02it/s]  9%|▉         | 12/128 [00:01<00:10, 11.60it/s] 11%|█         | 14/128 [00:01<00:10, 11.04it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.99it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.09it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.86it/s] 17%|█▋        | 22/128 [00:01<00:09, 11.32it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.90it/s] 20%|██        | 26/128 [00:02<00:09, 10.96it/s] 22%|██▏       | 28/128 [00:02<00:09, 11.00it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.80it/s] 25%|██▌       | 32/128 [00:02<00:08, 10.82it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.89it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.91it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.92it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.27it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.24it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.51it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.41it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.88it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.27it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.26it/s] 41%|████▏     | 53/128 [00:04<00:07, 10.43it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.20it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.46it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.63it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.59it/s] 49%|████▉     | 63/128 [00:05<00:06, 10.61it/s] 51%|█████     | 65/128 [00:06<00:05, 10.73it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.45it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.63it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.54it/s] 57%|█████▋    | 73/128 [00:06<00:05, 10.74it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.21it/s] 60%|██████    | 77/128 [00:07<00:04, 10.41it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.31it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.57it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.41it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.30it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.36it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.55it/s] 71%|███████   | 91/128 [00:08<00:03, 10.42it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.42it/s] 74%|███████▍  | 95/128 [00:08<00:03, 10.13it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.34it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.58it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.44it/s] 80%|████████  | 103/128 [00:09<00:02, 10.14it/s] 82%|████████▏ | 105/128 [00:09<00:02,  9.98it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.17it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.54it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.71it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.71it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.31it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.58it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.35it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.97it/s] 96%|█████████▌| 123/128 [00:11<00:00,  9.94it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.14it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00, 10.51it/s]
[2024-01-18 14:12:46,485] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 287.49it/s] 45%|████▌     | 58/128 [00:00<00:00, 276.40it/s] 70%|███████   | 90/128 [00:00<00:00, 295.62it/s] 95%|█████████▌| 122/128 [00:00<00:00, 302.68it/s]100%|██████████| 128/128 [00:00<00:00, 296.85it/s]
[2024-01-18 14:12:47,048] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.67it/s]  2%|▏         | 2/128 [00:00<00:13,  9.58it/s]  3%|▎         | 4/128 [00:00<00:11, 10.47it/s]  5%|▍         | 6/128 [00:00<00:12,  9.94it/s]  6%|▋         | 8/128 [00:00<00:11, 10.71it/s]  8%|▊         | 10/128 [00:00<00:10, 10.74it/s]  9%|▉         | 12/128 [00:01<00:11, 10.49it/s] 11%|█         | 14/128 [00:01<00:11, 10.35it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.50it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.18it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.11it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.28it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.03it/s] 20%|██        | 26/128 [00:02<00:10,  9.97it/s] 21%|██        | 27/128 [00:02<00:10,  9.90it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.24it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.42it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.59it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.79it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.56it/s] 30%|███       | 39/128 [00:03<00:08, 10.11it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.79it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.23it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.12it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.40it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.40it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.26it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.19it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.16it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.51it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.18it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.15it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.35it/s] 51%|█████     | 65/128 [00:06<00:06, 10.34it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.99it/s] 54%|█████▍    | 69/128 [00:06<00:05,  9.98it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.05it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.32it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.32it/s] 60%|██████    | 77/128 [00:07<00:04, 10.32it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.13it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.16it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.36it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.36it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.61it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.60it/s] 71%|███████   | 91/128 [00:08<00:03, 10.72it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.74it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.60it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.72it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.90it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.53it/s] 80%|████████  | 103/128 [00:09<00:02, 10.30it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.94it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.05it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.32it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.18it/s] 88%|████████▊ | 113/128 [00:10<00:01, 11.17it/s] 90%|████████▉ | 115/128 [00:11<00:01, 11.10it/s] 91%|█████████▏| 117/128 [00:11<00:00, 11.05it/s] 93%|█████████▎| 119/128 [00:11<00:00, 11.15it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.45it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.27it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.21it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.49it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]
[2024-01-18 14:12:59,397] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.59it/s]  2%|▏         | 2/128 [00:00<00:13,  9.22it/s]  3%|▎         | 4/128 [00:00<00:12, 10.24it/s]  5%|▍         | 6/128 [00:00<00:12, 10.12it/s]  6%|▋         | 8/128 [00:00<00:10, 10.93it/s]  8%|▊         | 10/128 [00:00<00:10, 11.03it/s]  9%|▉         | 12/128 [00:01<00:10, 10.68it/s] 11%|█         | 14/128 [00:01<00:11, 10.31it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.58it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.40it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.36it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.51it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.04it/s] 20%|██        | 26/128 [00:02<00:10, 10.04it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.33it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.58it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.74it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.73it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.83it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.33it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.20it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.18it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.90it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.06it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.09it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.08it/s] 41%|████      | 52/128 [00:05<00:07,  9.91it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.68it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.46it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.04it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.40it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.30it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.10it/s] 50%|█████     | 64/128 [00:06<00:06,  9.76it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.70it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.53it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.38it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.69it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.18it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.15it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.38it/s] 61%|██████    | 78/128 [00:07<00:04, 10.20it/s] 62%|██████▎   | 80/128 [00:07<00:04,  9.92it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.13it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.15it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.34it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.53it/s] 70%|███████   | 90/128 [00:08<00:03, 10.55it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.62it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.73it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.45it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.58it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.48it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.22it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.16it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.02it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.99it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.34it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.51it/s] 89%|████████▉ | 114/128 [00:11<00:01, 11.05it/s] 91%|█████████ | 116/128 [00:11<00:01, 11.01it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.87it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.70it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.42it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.99it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.96it/s]100%|██████████| 128/128 [00:12<00:00, 10.55it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 14:13:11,854] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.62it/s]  2%|▏         | 2/128 [00:00<00:13,  9.48it/s]  3%|▎         | 4/128 [00:00<00:12, 10.13it/s]  5%|▍         | 6/128 [00:00<00:12, 10.08it/s]  6%|▋         | 8/128 [00:00<00:11, 10.86it/s]  8%|▊         | 10/128 [00:00<00:10, 10.81it/s]  9%|▉         | 12/128 [00:01<00:10, 10.56it/s] 11%|█         | 14/128 [00:01<00:11, 10.25it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.48it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.30it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.12it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.34it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.93it/s] 20%|██        | 26/128 [00:02<00:10,  9.93it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.23it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.37it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.57it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.60it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.66it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.24it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.02it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.01it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.02it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.19it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.51it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.46it/s] 41%|████      | 52/128 [00:05<00:07, 10.30it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.98it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.24it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.48it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.23it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.10it/s] 50%|█████     | 64/128 [00:06<00:06, 10.11it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.02it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.76it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.75it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.16it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.12it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.40it/s] 61%|██████    | 78/128 [00:07<00:04, 10.20it/s] 62%|██████▎   | 80/128 [00:07<00:04,  9.78it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.10it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.11it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.40it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.49it/s] 70%|███████   | 90/128 [00:08<00:03, 10.52it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.67it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.47it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.56it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.46it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.11it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.10it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.06it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.97it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.34it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.40it/s] 89%|████████▉ | 114/128 [00:11<00:01, 11.00it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.96it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.95it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.64it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.31it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.93it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.91it/s]100%|██████████| 128/128 [00:12<00:00, 10.60it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]
[2024-01-18 14:13:24,296] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  9.05it/s]  2%|▏         | 2/128 [00:00<00:13,  9.27it/s]  3%|▎         | 4/128 [00:00<00:12, 10.01it/s]  5%|▍         | 6/128 [00:00<00:12,  9.92it/s]  6%|▋         | 8/128 [00:00<00:11, 10.75it/s]  8%|▊         | 10/128 [00:00<00:10, 10.87it/s]  9%|▉         | 12/128 [00:01<00:11, 10.44it/s] 11%|█         | 14/128 [00:01<00:11, 10.29it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.32it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.22it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.18it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.24it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.99it/s] 20%|██        | 26/128 [00:02<00:10,  9.79it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.08it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.35it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.44it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.63it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.55it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.16it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.06it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.97it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.01it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.06it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.42it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.50it/s] 41%|████      | 52/128 [00:05<00:07, 10.33it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.98it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.16it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.39it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.17it/s] 50%|█████     | 64/128 [00:06<00:06, 10.08it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.94it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.76it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.70it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.86it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.27it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.12it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.37it/s] 61%|██████    | 78/128 [00:07<00:04, 10.15it/s] 62%|██████▎   | 80/128 [00:07<00:04,  9.87it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.15it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.10it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.27it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.44it/s] 70%|███████   | 90/128 [00:08<00:03, 10.52it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.69it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.65it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.38it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.48it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.42it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.26it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.07it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.03it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.87it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.26it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.52it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.97it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.95it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.74it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.57it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.39it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.92it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.89it/s]100%|██████████| 128/128 [00:12<00:00, 10.41it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]
[2024-01-18 14:13:36,788] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.41it/s]  2%|▏         | 2/128 [00:00<00:13,  9.35it/s]  3%|▎         | 4/128 [00:00<00:12, 10.25it/s]  5%|▍         | 6/128 [00:00<00:12,  9.99it/s]  6%|▋         | 8/128 [00:00<00:11, 10.77it/s]  8%|▊         | 10/128 [00:00<00:10, 10.86it/s]  9%|▉         | 12/128 [00:01<00:11, 10.44it/s] 11%|█         | 14/128 [00:01<00:11, 10.27it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.47it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.24it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.18it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.25it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.96it/s] 20%|██        | 26/128 [00:02<00:10,  9.86it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.14it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.39it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.47it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.63it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.67it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.14it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.05it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.93it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.98it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.13it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.42it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.52it/s] 41%|████      | 52/128 [00:05<00:07, 10.28it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.96it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.20it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.42it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.28it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.07it/s] 50%|█████     | 64/128 [00:06<00:06, 10.10it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.99it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.75it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.86it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.11it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.11it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.30it/s] 61%|██████    | 78/128 [00:07<00:04, 10.16it/s] 62%|██████▎   | 80/128 [00:07<00:04,  9.88it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.07it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.08it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.36it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.45it/s] 70%|███████   | 90/128 [00:08<00:03, 10.54it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.51it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.63it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.42it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.55it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.43it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.15it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.07it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.01it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.95it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.30it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.46it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.92it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.94it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.90it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.57it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.41it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.86it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.87it/s]100%|██████████| 128/128 [00:12<00:00, 10.55it/s]100%|██████████| 128/128 [00:12<00:00, 10.27it/s]
[2024-01-18 14:14:06,007] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 277.10it/s] 48%|████▊     | 61/128 [00:00<00:00, 298.51it/s] 71%|███████   | 91/128 [00:00<00:00, 298.28it/s] 95%|█████████▍| 121/128 [00:00<00:00, 283.09it/s]100%|██████████| 128/128 [00:00<00:00, 283.01it/s]
[2024-01-18 14:14:06,588] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.11it/s]  3%|▎         | 4/128 [00:00<00:12, 10.18it/s]  5%|▍         | 6/128 [00:00<00:12,  9.99it/s]  6%|▋         | 8/128 [00:00<00:10, 10.95it/s]  8%|▊         | 10/128 [00:00<00:10, 11.47it/s]  9%|▉         | 12/128 [00:01<00:10, 10.82it/s] 11%|█         | 14/128 [00:01<00:11, 10.32it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.16it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.12it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.08it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.74it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.69it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.73it/s] 21%|██        | 27/128 [00:02<00:10, 10.02it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.77it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.58it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.93it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.37it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.40it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.28it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.94it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.65it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.59it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.09it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.93it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.10it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.37it/s] 41%|████      | 52/128 [00:05<00:07, 10.46it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.40it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.16it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.41it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.10it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.32it/s] 50%|█████     | 64/128 [00:06<00:06, 10.59it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.58it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.34it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.33it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.38it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.32it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.39it/s] 61%|██████    | 78/128 [00:07<00:04, 10.30it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.52it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.66it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.81it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.76it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.78it/s] 70%|███████   | 90/128 [00:08<00:03, 10.27it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.49it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.50it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.48it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.38it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.32it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.01it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.89it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.94it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.27it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.25it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.42it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.21it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.46it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.04it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.75it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.15it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.03it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.06it/s]100%|██████████| 128/128 [00:12<00:00,  9.98it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]
[2024-01-18 14:14:19,112] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.89it/s]  3%|▎         | 4/128 [00:00<00:12, 10.05it/s]  5%|▍         | 6/128 [00:00<00:12,  9.94it/s]  6%|▋         | 8/128 [00:00<00:10, 10.91it/s]  8%|▊         | 10/128 [00:00<00:10, 11.45it/s]  9%|▉         | 12/128 [00:01<00:10, 10.82it/s] 11%|█         | 14/128 [00:01<00:11, 10.32it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.07it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.13it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.07it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.74it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.69it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.71it/s] 21%|██        | 27/128 [00:02<00:10, 10.05it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.77it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.53it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.96it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.38it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.44it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.29it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.88it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.65it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.63it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.10it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.00it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.13it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.29it/s] 41%|████      | 52/128 [00:05<00:07, 10.52it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.44it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.20it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.44it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.09it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.33it/s] 50%|█████     | 64/128 [00:06<00:06, 10.58it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.58it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.36it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.32it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.35it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.33it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.39it/s] 61%|██████    | 78/128 [00:07<00:04, 10.31it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.44it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.58it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.76it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.66it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.71it/s] 70%|███████   | 90/128 [00:08<00:03, 10.27it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.45it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.59it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.39it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.33it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.34it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.93it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.94it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.84it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.22it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.24it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.31it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.30it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.37it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.01it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.77it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.09it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.10it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.95it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.76it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]
[2024-01-18 14:14:31,658] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.05it/s]  3%|▎         | 4/128 [00:00<00:12,  9.89it/s]  5%|▍         | 6/128 [00:00<00:12, 10.02it/s]  6%|▋         | 8/128 [00:00<00:11, 10.79it/s]  8%|▊         | 10/128 [00:00<00:10, 11.36it/s]  9%|▉         | 12/128 [00:01<00:10, 10.92it/s] 11%|█         | 14/128 [00:01<00:11, 10.22it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.18it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.02it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.03it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.76it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.64it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.75it/s] 21%|██        | 27/128 [00:02<00:10,  9.98it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.64it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.62it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.49it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.99it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.34it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.54it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.14it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.83it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.65it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.60it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.00it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.02it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.10it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.24it/s] 41%|████      | 52/128 [00:05<00:07, 10.47it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.33it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.20it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.41it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.96it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.32it/s] 50%|█████     | 64/128 [00:06<00:06, 10.53it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.57it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.35it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.19it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.39it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.30it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.39it/s] 61%|██████    | 78/128 [00:07<00:04, 10.28it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.37it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.65it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.78it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.65it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.75it/s] 70%|███████   | 90/128 [00:08<00:03, 10.15it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.48it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.58it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.38it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.36it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.23it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.95it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.92it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.85it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.26it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.16it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.34it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.29it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.35it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.02it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.68it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.11it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.10it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.01it/s]100%|██████████| 128/128 [00:12<00:00,  9.95it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]
[2024-01-18 14:14:44,232] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.56it/s]  3%|▎         | 4/128 [00:00<00:12,  9.90it/s]  5%|▍         | 6/128 [00:00<00:12,  9.98it/s]  6%|▋         | 8/128 [00:00<00:11, 10.88it/s]  8%|▊         | 10/128 [00:00<00:10, 11.34it/s]  9%|▉         | 12/128 [00:01<00:10, 10.90it/s] 11%|█         | 14/128 [00:01<00:11, 10.11it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.09it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.06it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.05it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.67it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.60it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.73it/s] 21%|██        | 27/128 [00:02<00:10, 10.03it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.79it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.57it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.90it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.30it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.46it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.27it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.93it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.67it/s] 33%|███▎      | 42/128 [00:04<00:09,  9.54it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.02it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.02it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.14it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.35it/s] 41%|████      | 52/128 [00:05<00:07, 10.41it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.33it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.22it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.44it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.10it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.25it/s] 50%|█████     | 64/128 [00:06<00:06, 10.45it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.61it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.38it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.37it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.31it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.25it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.42it/s] 61%|██████    | 78/128 [00:07<00:04, 10.30it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.55it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.57it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.67it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.63it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.71it/s] 70%|███████   | 90/128 [00:08<00:03, 10.28it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.53it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.44it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.36it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.32it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.36it/s] 80%|███████▉  | 102/128 [00:09<00:02,  9.96it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.78it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.80it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.20it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.26it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.39it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.13it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.35it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.97it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.77it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.14it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.93it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.96it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.74it/s]100%|██████████| 128/128 [00:12<00:00, 10.18it/s]
[2024-01-18 14:14:56,812] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.04it/s]  3%|▎         | 4/128 [00:00<00:12,  9.91it/s]  5%|▍         | 6/128 [00:00<00:12,  9.81it/s]  6%|▋         | 8/128 [00:00<00:11, 10.76it/s]  8%|▊         | 10/128 [00:00<00:10, 11.26it/s]  9%|▉         | 12/128 [00:01<00:10, 10.87it/s] 11%|█         | 14/128 [00:01<00:11, 10.33it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.97it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.01it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.94it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.82it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.69it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.64it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.52it/s] 21%|██        | 27/128 [00:02<00:10,  9.86it/s] 22%|██▏       | 28/128 [00:02<00:10,  9.67it/s] 23%|██▎       | 29/128 [00:02<00:10,  9.51it/s] 23%|██▎       | 30/128 [00:03<00:10,  9.39it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.96it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.44it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.28it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.13it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.76it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.60it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.58it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.09it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.01it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.66it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.94it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.14it/s] 41%|████      | 52/128 [00:05<00:07, 10.45it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.41it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.10it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.30it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.90it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.27it/s] 50%|█████     | 64/128 [00:06<00:06, 10.53it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.65it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.14it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.12it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.27it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.26it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.47it/s] 61%|██████    | 78/128 [00:07<00:04, 10.05it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.34it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.52it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.72it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.76it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.55it/s] 70%|███████   | 90/128 [00:08<00:03, 10.06it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.33it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.46it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.21it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.18it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.83it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.87it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.91it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.20it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.16it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.34it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.26it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.48it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.01it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.70it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.11it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.09it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00,  9.92it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]
[2024-01-18 14:15:24,942] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 26%|██▌       | 33/128 [00:00<00:00, 327.94it/s] 54%|█████▍    | 69/128 [00:00<00:00, 336.61it/s] 84%|████████▎ | 107/128 [00:00<00:00, 354.36it/s]100%|██████████| 128/128 [00:00<00:00, 354.49it/s]
[2024-01-18 14:15:25,434] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.78it/s]  3%|▎         | 4/128 [00:00<00:13,  9.44it/s]  5%|▍         | 6/128 [00:00<00:12,  9.80it/s]  6%|▋         | 8/128 [00:00<00:11, 10.31it/s]  8%|▊         | 10/128 [00:01<00:11,  9.87it/s]  9%|▉         | 12/128 [00:01<00:11, 10.15it/s] 11%|█         | 14/128 [00:01<00:11, 10.04it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.20it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.25it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.06it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.96it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.87it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.76it/s] 21%|██        | 27/128 [00:02<00:09, 10.21it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.45it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.24it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.13it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.02it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.96it/s] 30%|███       | 39/128 [00:03<00:08, 10.31it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.15it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.08it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.03it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.77it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.87it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.86it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.96it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.34it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.36it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.01it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.08it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.83it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.62it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.07it/s] 51%|█████     | 65/128 [00:06<00:06, 10.43it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.63it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.04it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.63it/s] 57%|█████▋    | 73/128 [00:07<00:04, 11.10it/s] 59%|█████▊    | 75/128 [00:07<00:04, 11.04it/s] 60%|██████    | 77/128 [00:07<00:04, 10.86it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.42it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.55it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.21it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.82it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.88it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.40it/s] 71%|███████   | 91/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.34it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.46it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.33it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.51it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.09it/s] 80%|████████  | 103/128 [00:10<00:02,  9.88it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.78it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.64it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.59it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.85it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.75it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.63it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.08it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.83it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.86it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.91it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.10it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.35it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.34it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.99it/s]100%|██████████| 128/128 [00:12<00:00,  9.78it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]
[2024-01-18 14:15:38,063] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.76it/s]  3%|▎         | 4/128 [00:00<00:13,  9.51it/s]  5%|▍         | 6/128 [00:00<00:12,  9.84it/s]  6%|▋         | 8/128 [00:00<00:11, 10.26it/s]  8%|▊         | 10/128 [00:01<00:11, 10.17it/s]  9%|▉         | 12/128 [00:01<00:11, 10.40it/s] 11%|█         | 14/128 [00:01<00:11,  9.71it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.85it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.68it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.69it/s] 16%|█▌        | 20/128 [00:02<00:11,  9.41it/s] 16%|█▋        | 21/128 [00:02<00:11,  9.31it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.86it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.59it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.51it/s] 21%|██        | 27/128 [00:02<00:09, 10.14it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.23it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.06it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.82it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.77it/s] 27%|██▋       | 34/128 [00:03<00:10,  9.31it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.50it/s] 30%|██▉       | 38/128 [00:03<00:09, 10.00it/s] 31%|███▏      | 40/128 [00:04<00:08, 10.34it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.19it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.79it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.78it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.68it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.69it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.86it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.88it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.21it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.28it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.88it/s] 46%|████▌     | 59/128 [00:06<00:06,  9.90it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.77it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.65it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.91it/s] 51%|█████     | 65/128 [00:06<00:06, 10.34it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.46it/s] 54%|█████▍    | 69/128 [00:07<00:05,  9.86it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.58it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.99it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.97it/s] 60%|██████    | 77/128 [00:07<00:04, 10.75it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.18it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.47it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.99it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.64it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.74it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.18it/s] 71%|███████   | 91/128 [00:09<00:03, 10.41it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.28it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.34it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.22it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.26it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.98it/s] 80%|████████  | 103/128 [00:10<00:02,  9.82it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.69it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.51it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.50it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.62it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.51it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.52it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.08it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.76it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.72it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.77it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.82it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.29it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.27it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.86it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.79it/s]100%|██████████| 128/128 [00:12<00:00,  9.46it/s]100%|██████████| 128/128 [00:12<00:00,  9.98it/s]
[2024-01-18 14:15:50,891] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.78it/s]  3%|▎         | 4/128 [00:00<00:13,  9.53it/s]  5%|▍         | 6/128 [00:00<00:12,  9.67it/s]  6%|▋         | 8/128 [00:00<00:11, 10.16it/s]  8%|▊         | 10/128 [00:01<00:11, 10.07it/s]  9%|▉         | 12/128 [00:01<00:11, 10.23it/s] 11%|█         | 14/128 [00:01<00:11, 10.12it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.20it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.16it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.11it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.94it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.94it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.79it/s] 21%|██        | 27/128 [00:02<00:10, 10.10it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.38it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.18it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.11it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.01it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.84it/s] 30%|███       | 39/128 [00:03<00:08, 10.20it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.05it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.00it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.97it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.68it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.61it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.75it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.74it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.89it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.24it/s] 43%|████▎     | 55/128 [00:05<00:08,  9.10it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.84it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.89it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.60it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.52it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.98it/s] 51%|█████     | 65/128 [00:06<00:06, 10.26it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.46it/s] 54%|█████▍    | 69/128 [00:06<00:05,  9.84it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.47it/s] 57%|█████▋    | 73/128 [00:07<00:04, 11.02it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.93it/s] 60%|██████    | 77/128 [00:07<00:04, 10.68it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.25it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.34it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.09it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.70it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.70it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.26it/s] 71%|███████   | 91/128 [00:09<00:03, 10.30it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.23it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.37it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.14it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.37it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.91it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.84it/s] 80%|████████  | 103/128 [00:10<00:02,  9.78it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.65it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.48it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.30it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.69it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.56it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.37it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.00it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.75it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.67it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.77it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.82it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.22it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.22it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.82it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.72it/s]100%|██████████| 128/128 [00:12<00:00,  9.58it/s]100%|██████████| 128/128 [00:12<00:00, 10.03it/s]
[2024-01-18 14:16:03,660] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.45it/s]  3%|▎         | 4/128 [00:00<00:13,  9.44it/s]  5%|▍         | 6/128 [00:00<00:12,  9.73it/s]  6%|▋         | 8/128 [00:00<00:11, 10.06it/s]  8%|▊         | 10/128 [00:01<00:11, 10.03it/s]  9%|▉         | 12/128 [00:01<00:11, 10.18it/s] 11%|█         | 14/128 [00:01<00:11, 10.05it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.22it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.11it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.12it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.89it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.89it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.75it/s] 21%|██        | 27/128 [00:02<00:09, 10.17it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.29it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.20it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.02it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.93it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.76it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.07it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.30it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.99it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.84it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.73it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.70it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.56it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.67it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.68it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.76it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.15it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.20it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.81it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.92it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.69it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.43it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.94it/s] 51%|█████     | 65/128 [00:06<00:06, 10.31it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.41it/s] 54%|█████▍    | 69/128 [00:06<00:05,  9.85it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.37it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.90it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.90it/s] 60%|██████    | 77/128 [00:07<00:04, 10.72it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.17it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.31it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.99it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.64it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.77it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.17it/s] 71%|███████   | 91/128 [00:09<00:03, 10.30it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.09it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.28it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.21it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.29it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.90it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.74it/s] 80%|████████  | 103/128 [00:10<00:02,  9.71it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.62it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.50it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.48it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.66it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.55it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.51it/s] 87%|████████▋ | 111/128 [00:11<00:01,  9.59it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.65it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.65it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.76it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.76it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.57it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.00it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.05it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.83it/s]100%|██████████| 128/128 [00:12<00:00,  9.57it/s]100%|██████████| 128/128 [00:12<00:00, 10.00it/s]
[2024-01-18 14:16:16,471] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:14,  8.71it/s]  3%|▎         | 4/128 [00:00<00:13,  9.32it/s]  5%|▍         | 6/128 [00:00<00:12,  9.69it/s]  6%|▋         | 8/128 [00:00<00:11, 10.18it/s]  8%|▊         | 10/128 [00:01<00:11,  9.98it/s]  9%|▉         | 12/128 [00:01<00:11, 10.27it/s] 11%|█         | 14/128 [00:01<00:11,  9.93it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.14it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.17it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.16it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.92it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.84it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.72it/s] 21%|██        | 27/128 [00:02<00:09, 10.12it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.40it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.31it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.04it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.95it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.72it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.10it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.36it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.11it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.76it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.68it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.62it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.73it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.79it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.87it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.15it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.16it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.85it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.97it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.81it/s] 48%|████▊     | 61/128 [00:06<00:07,  9.50it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.88it/s] 51%|█████     | 65/128 [00:06<00:06, 10.17it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.43it/s] 54%|█████▍    | 69/128 [00:06<00:05,  9.87it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.53it/s] 57%|█████▋    | 73/128 [00:07<00:04, 11.01it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.81it/s] 60%|██████    | 77/128 [00:07<00:04, 10.65it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.22it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.46it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.04it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.56it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.68it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.22it/s] 71%|███████   | 91/128 [00:09<00:03, 10.44it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.20it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.23it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.16it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.34it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.93it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.74it/s] 80%|████████  | 103/128 [00:10<00:02,  9.68it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.47it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.26it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.29it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.65it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.57it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.56it/s] 88%|████████▊ | 112/128 [00:11<00:01,  9.98it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.62it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.62it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.71it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.94it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.25it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.18it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.81it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.72it/s]100%|██████████| 128/128 [00:12<00:00,  9.55it/s]100%|██████████| 128/128 [00:12<00:00, 10.01it/s]
[2024-01-18 14:16:45,117] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 21%|██        | 27/128 [00:00<00:00, 261.90it/s] 44%|████▍     | 56/128 [00:00<00:00, 274.86it/s] 66%|██████▌   | 84/128 [00:00<00:00, 265.96it/s] 88%|████████▊ | 112/128 [00:00<00:00, 269.50it/s]100%|██████████| 128/128 [00:00<00:00, 264.59it/s]
[2024-01-18 14:16:45,728] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.00it/s]  3%|▎         | 4/128 [00:00<00:12, 10.32it/s]  5%|▍         | 6/128 [00:00<00:12,  9.67it/s]  6%|▋         | 8/128 [00:00<00:11, 10.20it/s]  8%|▊         | 10/128 [00:00<00:11, 10.18it/s]  9%|▉         | 12/128 [00:01<00:10, 10.58it/s] 11%|█         | 14/128 [00:01<00:11, 10.06it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.85it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.17it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.39it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.31it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.57it/s] 20%|██        | 26/128 [00:02<00:09, 11.01it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.86it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.31it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.53it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.11it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.21it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.81it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.05it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.87it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.15it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.05it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.14it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.41it/s] 41%|████      | 52/128 [00:05<00:07, 10.26it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.26it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.51it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.84it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.59it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.70it/s] 50%|█████     | 64/128 [00:06<00:05, 11.20it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.87it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.39it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.23it/s] 56%|█████▋    | 72/128 [00:06<00:05,  9.90it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.75it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.69it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.63it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.55it/s] 60%|██████    | 77/128 [00:07<00:05,  9.40it/s] 61%|██████    | 78/128 [00:07<00:05,  9.47it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.10it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.03it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.34it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.57it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.65it/s] 70%|███████   | 90/128 [00:08<00:03, 10.30it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.19it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.36it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.33it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.59it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.38it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.35it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.24it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.47it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.49it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.16it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.15it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.07it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.29it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.03it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.92it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.70it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.07it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.99it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.41it/s]100%|██████████| 128/128 [00:12<00:00,  9.60it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 14:16:58,281] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.13it/s]  3%|▎         | 4/128 [00:00<00:12,  9.99it/s]  4%|▍         | 5/128 [00:00<00:12,  9.82it/s]  5%|▍         | 6/128 [00:00<00:12,  9.54it/s]  6%|▋         | 8/128 [00:00<00:11, 10.27it/s]  8%|▊         | 10/128 [00:00<00:11, 10.31it/s]  9%|▉         | 12/128 [00:01<00:10, 10.55it/s] 11%|█         | 14/128 [00:01<00:11,  9.83it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.83it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.16it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.49it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.36it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.30it/s] 20%|██        | 26/128 [00:02<00:09, 10.93it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.86it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.37it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.59it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.89it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.15it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.85it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.16it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.93it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.95it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.98it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.25it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.50it/s] 41%|████      | 52/128 [00:05<00:07, 10.40it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.17it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.32it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.88it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.63it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.83it/s] 50%|█████     | 64/128 [00:06<00:05, 11.29it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.59it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.35it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.24it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.02it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.71it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.45it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.39it/s] 60%|██████    | 77/128 [00:07<00:05,  9.35it/s] 62%|██████▏   | 79/128 [00:07<00:05,  9.80it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.25it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.28it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.26it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.39it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.30it/s] 71%|███████   | 91/128 [00:08<00:03, 10.54it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.35it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.39it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.18it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.39it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.30it/s] 80%|████████  | 103/128 [00:10<00:02, 10.28it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.48it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.46it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.42it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.03it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.14it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.39it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.99it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.08it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.77it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.08it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.12it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.49it/s]100%|██████████| 128/128 [00:12<00:00,  9.44it/s]100%|██████████| 128/128 [00:12<00:00, 10.18it/s]
[2024-01-18 14:17:10,864] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.54it/s]  3%|▎         | 4/128 [00:00<00:12, 10.29it/s]  5%|▍         | 6/128 [00:00<00:12,  9.90it/s]  6%|▋         | 8/128 [00:00<00:11, 10.20it/s]  8%|▊         | 10/128 [00:00<00:11, 10.11it/s]  9%|▉         | 12/128 [00:01<00:11, 10.41it/s] 11%|█         | 14/128 [00:01<00:11,  9.99it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.01it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.12it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.33it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.19it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.41it/s] 20%|██        | 26/128 [00:02<00:09, 11.00it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.99it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.07it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.37it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.88it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.15it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.91it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.90it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.77it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.70it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.94it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.85it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.22it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.51it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.33it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.98it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.26it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.54it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.79it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.64it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.10it/s] 51%|█████     | 65/128 [00:06<00:05, 10.95it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.37it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.49it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.07it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.72it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.65it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.57it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.44it/s] 60%|██████    | 77/128 [00:07<00:05,  9.39it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.96it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.22it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.11it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.30it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.48it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.45it/s] 71%|███████   | 91/128 [00:08<00:03, 10.59it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.23it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.38it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.29it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.52it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.45it/s] 80%|████████  | 103/128 [00:10<00:02, 10.19it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.40it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.61it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.51it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.16it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.14it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.23it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.14it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.12it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.90it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.13it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.90it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.37it/s]100%|██████████| 128/128 [00:12<00:00,  9.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.17it/s]
[2024-01-18 14:17:23,455] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.90it/s]  3%|▎         | 4/128 [00:00<00:11, 10.39it/s]  5%|▍         | 6/128 [00:00<00:12,  9.56it/s]  6%|▋         | 8/128 [00:00<00:11, 10.19it/s]  8%|▊         | 10/128 [00:00<00:11, 10.13it/s]  9%|▉         | 12/128 [00:01<00:11, 10.53it/s] 11%|█         | 14/128 [00:01<00:11, 10.07it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.78it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.04it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.29it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.23it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.52it/s] 20%|██        | 26/128 [00:02<00:09, 10.97it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.71it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.18it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.39it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.03it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.16it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.64it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.94it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.72it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.03it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.00it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.06it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.36it/s] 41%|████      | 52/128 [00:05<00:07, 10.17it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.18it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.40it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.77it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.50it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.60it/s] 50%|█████     | 64/128 [00:06<00:05, 11.11it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.79it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.33it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.09it/s] 56%|█████▋    | 72/128 [00:07<00:05,  9.82it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.67it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.61it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.56it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.48it/s] 60%|██████    | 77/128 [00:07<00:05,  9.38it/s] 61%|██████    | 78/128 [00:07<00:05,  9.40it/s] 62%|██████▎   | 80/128 [00:07<00:04,  9.95it/s] 64%|██████▍   | 82/128 [00:08<00:04,  9.92it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.26it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.49it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.69it/s] 70%|███████   | 90/128 [00:08<00:03, 10.15it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.09it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.19it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.19it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.50it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.28it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.22it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.11it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.35it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.40it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.14it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.07it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.04it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.28it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.99it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.86it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.69it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.03it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.97it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.39it/s]100%|██████████| 128/128 [00:12<00:00,  9.57it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]
[2024-01-18 14:17:36,104] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.93it/s]  3%|▎         | 4/128 [00:00<00:12,  9.93it/s]  4%|▍         | 5/128 [00:00<00:12,  9.67it/s]  5%|▍         | 6/128 [00:00<00:12,  9.51it/s]  6%|▋         | 8/128 [00:00<00:11, 10.26it/s]  8%|▊         | 10/128 [00:00<00:11, 10.28it/s]  9%|▉         | 12/128 [00:01<00:11, 10.38it/s] 11%|█         | 14/128 [00:01<00:11,  9.88it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.76it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.11it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.44it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.10it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.31it/s] 20%|██        | 26/128 [00:02<00:09, 10.85it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.81it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.33it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.49it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.85it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.08it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.80it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.11it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.82it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.77it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.84it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.05it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.37it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.59it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.95it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.24it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.42it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.68it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.82it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.32it/s] 51%|█████     | 65/128 [00:06<00:05, 10.89it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.30it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.36it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.11it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.84it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.52it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.40it/s] 59%|█████▉    | 76/128 [00:07<00:05,  9.38it/s] 60%|██████    | 77/128 [00:07<00:05,  9.25it/s] 62%|██████▏   | 79/128 [00:07<00:05,  9.77it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.23it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.24it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.14it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.40it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.25it/s] 71%|███████   | 91/128 [00:08<00:03, 10.50it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.29it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.22it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.14it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.27it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.26it/s] 80%|████████  | 103/128 [00:10<00:02, 10.23it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.22it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.39it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.34it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.99it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.10it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.35it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.93it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.83it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.84it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.78it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.14it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.14it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.42it/s]100%|██████████| 128/128 [00:12<00:00,  9.35it/s]100%|██████████| 128/128 [00:12<00:00, 10.12it/s]
[2024-01-18 14:18:04,366] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 19%|█▉        | 24/128 [00:00<00:00, 229.17it/s] 38%|███▊      | 49/128 [00:00<00:00, 236.44it/s] 57%|█████▋    | 73/128 [00:00<00:00, 232.21it/s] 76%|███████▌  | 97/128 [00:00<00:00, 223.58it/s] 95%|█████████▍| 121/128 [00:00<00:00, 227.90it/s]100%|██████████| 128/128 [00:00<00:00, 230.06it/s]
[2024-01-18 14:18:05,051] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.88it/s]  3%|▎         | 4/128 [00:00<00:11, 10.42it/s]  5%|▍         | 6/128 [00:00<00:11, 10.73it/s]  6%|▋         | 8/128 [00:00<00:11, 10.74it/s]  8%|▊         | 10/128 [00:00<00:10, 10.96it/s]  9%|▉         | 12/128 [00:01<00:10, 11.08it/s] 11%|█         | 14/128 [00:01<00:11, 10.17it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.79it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.89it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.91it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.95it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.13it/s] 20%|██        | 26/128 [00:02<00:09, 10.25it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.46it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.35it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.59it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.82it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.66it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.43it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.55it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.46it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.75it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.58it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.51it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.41it/s] 41%|████      | 52/128 [00:04<00:07, 10.26it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.28it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.32it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.20it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.49it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.34it/s] 50%|█████     | 64/128 [00:06<00:06, 10.65it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.87it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.65it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.06it/s] 56%|█████▋    | 72/128 [00:06<00:05, 11.10it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.91it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.72it/s] 61%|██████    | 78/128 [00:07<00:04, 10.79it/s] 62%|██████▎   | 80/128 [00:07<00:04, 11.03it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.79it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.46it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.04it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.07it/s] 70%|███████   | 90/128 [00:08<00:03, 11.07it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.91it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.96it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.37it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.58it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.33it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.24it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.53it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.60it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.13it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.88it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.89it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.92it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.58it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.37it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.61it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.86it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.63it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.44it/s]100%|██████████| 128/128 [00:12<00:00, 10.43it/s]100%|██████████| 128/128 [00:12<00:00, 10.65it/s]
[2024-01-18 14:18:17,077] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.99it/s]  3%|▎         | 4/128 [00:00<00:11, 11.02it/s]  5%|▍         | 6/128 [00:00<00:11, 11.02it/s]  6%|▋         | 8/128 [00:00<00:11, 10.67it/s]  8%|▊         | 10/128 [00:00<00:10, 10.90it/s]  9%|▉         | 12/128 [00:01<00:10, 10.88it/s] 11%|█         | 14/128 [00:01<00:11, 10.30it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.97it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.89it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.83it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.80it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.97it/s] 20%|██        | 26/128 [00:02<00:09, 10.43it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.58it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.25it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.47it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.63it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.76it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.60it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.46it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.33it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.53it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.47it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.73it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.50it/s] 41%|████      | 52/128 [00:04<00:07, 10.28it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.23it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.24it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.49it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.63it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.42it/s] 50%|█████     | 64/128 [00:06<00:05, 10.67it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.79it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.80it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.32it/s] 56%|█████▋    | 72/128 [00:06<00:04, 11.31it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.83it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.62it/s] 61%|██████    | 78/128 [00:07<00:04, 10.60it/s] 62%|██████▎   | 80/128 [00:07<00:04, 11.10it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.91it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.41it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.88it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.88it/s] 70%|███████   | 90/128 [00:08<00:03, 10.92it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.09it/s] 73%|███████▎  | 94/128 [00:08<00:03, 11.07it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.23it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.48it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.18it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.42it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.66it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.52it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.95it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.63it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.76it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.21it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.79it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.31it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.56it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.67it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.80it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.63it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.66it/s]
[2024-01-18 14:18:29,096] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.93it/s]  3%|▎         | 4/128 [00:00<00:11, 10.73it/s]  5%|▍         | 6/128 [00:00<00:11, 10.89it/s]  6%|▋         | 8/128 [00:00<00:10, 11.03it/s]  8%|▊         | 10/128 [00:00<00:10, 11.00it/s]  9%|▉         | 12/128 [00:01<00:10, 10.88it/s] 11%|█         | 14/128 [00:01<00:11, 10.25it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.89it/s] 14%|█▍        | 18/128 [00:01<00:09, 11.07it/s] 16%|█▌        | 20/128 [00:01<00:09, 11.03it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.75it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.96it/s] 20%|██        | 26/128 [00:02<00:09, 10.32it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.51it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.49it/s] 25%|██▌       | 32/128 [00:02<00:09, 10.52it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.60it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.69it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.51it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.72it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.53it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.52it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.44it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.59it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.48it/s] 41%|████      | 52/128 [00:04<00:07, 10.40it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.09it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.15it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.31it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.54it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.51it/s] 50%|█████     | 64/128 [00:06<00:06, 10.61it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.67it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.69it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.18it/s] 56%|█████▋    | 72/128 [00:06<00:05, 11.18it/s] 58%|█████▊    | 74/128 [00:06<00:04, 11.10it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.54it/s] 61%|██████    | 78/128 [00:07<00:04, 10.61it/s] 62%|██████▎   | 80/128 [00:07<00:04, 11.06it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.85it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.62it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.05it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.91it/s] 70%|███████   | 90/128 [00:08<00:03, 10.94it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.04it/s] 73%|███████▎  | 94/128 [00:08<00:03, 11.04it/s] 75%|███████▌  | 96/128 [00:08<00:03, 10.47it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.38it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.22it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.36it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.64it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.80it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.09it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.71it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.72it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.16it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.76it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.52it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.48it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.74it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.74it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.58it/s]100%|██████████| 128/128 [00:11<00:00, 10.69it/s]100%|██████████| 128/128 [00:11<00:00, 10.68it/s]
[2024-01-18 14:18:41,088] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.15it/s]  3%|▎         | 4/128 [00:00<00:11, 10.59it/s]  5%|▍         | 6/128 [00:00<00:11, 10.63it/s]  6%|▋         | 8/128 [00:00<00:11, 10.85it/s]  8%|▊         | 10/128 [00:00<00:10, 11.02it/s]  9%|▉         | 12/128 [00:01<00:10, 10.98it/s] 11%|█         | 14/128 [00:01<00:11, 10.12it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.79it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.90it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.93it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.94it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.81it/s] 20%|██        | 26/128 [00:02<00:09, 10.22it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.31it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.35it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.57it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.63it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.55it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.39it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.56it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.48it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.73it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.27it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.58it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.32it/s] 41%|████      | 52/128 [00:04<00:07, 10.28it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.27it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.07it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.25it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.38it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.38it/s] 50%|█████     | 64/128 [00:06<00:06, 10.64it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.77it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.52it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.09it/s] 56%|█████▋    | 72/128 [00:06<00:05, 11.00it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.97it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.68it/s] 61%|██████    | 78/128 [00:07<00:04, 10.51it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.98it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.69it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.48it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.05it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.06it/s] 70%|███████   | 90/128 [00:08<00:03, 10.72it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.94it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.83it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.38it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.57it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.08it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.22it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.42it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.63it/s] 84%|████████▍ | 108/128 [00:10<00:01, 11.13it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.81it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.76it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.12it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.70it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.51it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.71it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.80it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.77it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.56it/s]100%|██████████| 128/128 [00:12<00:00, 10.63it/s]100%|██████████| 128/128 [00:12<00:00, 10.62it/s]
[2024-01-18 14:18:53,149] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.93it/s]  3%|▎         | 4/128 [00:00<00:11, 10.79it/s]  5%|▍         | 6/128 [00:00<00:11, 10.73it/s]  6%|▋         | 8/128 [00:00<00:11, 10.89it/s]  8%|▊         | 10/128 [00:00<00:10, 10.93it/s]  9%|▉         | 12/128 [00:01<00:10, 11.02it/s] 11%|█         | 14/128 [00:01<00:10, 10.40it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.76it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.92it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.85it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.84it/s] 19%|█▉        | 24/128 [00:02<00:09, 11.04it/s] 20%|██        | 26/128 [00:02<00:09, 10.40it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.28it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.30it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.42it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.68it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.79it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.35it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.53it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.28it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.58it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.52it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.61it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.26it/s] 41%|████      | 52/128 [00:04<00:07, 10.14it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.12it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.18it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.37it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.31it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.31it/s] 50%|█████     | 64/128 [00:06<00:06, 10.50it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.74it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.77it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.03it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.95it/s] 58%|█████▊    | 74/128 [00:06<00:04, 10.83it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.58it/s] 61%|██████    | 78/128 [00:07<00:04, 10.68it/s] 62%|██████▎   | 80/128 [00:07<00:04, 11.17it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.56it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.40it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.86it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.93it/s] 70%|███████   | 90/128 [00:08<00:03, 11.01it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.92it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.81it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.25it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.46it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.25it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.40it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.33it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.57it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.92it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.71it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.82it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.13it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.54it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.37it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.55it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.76it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.86it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.36it/s]100%|██████████| 128/128 [00:12<00:00, 10.47it/s]100%|██████████| 128/128 [00:12<00:00, 10.60it/s]
[2024-01-18 14:19:21,428] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 26%|██▌       | 33/128 [00:00<00:00, 329.78it/s] 52%|█████▏    | 66/128 [00:00<00:00, 320.59it/s] 80%|███████▉  | 102/128 [00:00<00:00, 335.74it/s]100%|██████████| 128/128 [00:00<00:00, 334.28it/s]
[2024-01-18 14:19:21,940] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.93it/s]  2%|▏         | 3/128 [00:00<00:12, 10.14it/s]  3%|▎         | 4/128 [00:00<00:12,  9.84it/s]  4%|▍         | 5/128 [00:00<00:12,  9.55it/s]  5%|▍         | 6/128 [00:00<00:12,  9.43it/s]  6%|▋         | 8/128 [00:00<00:11, 10.16it/s]  8%|▊         | 10/128 [00:01<00:11,  9.98it/s]  9%|▉         | 12/128 [00:01<00:11, 10.33it/s] 11%|█         | 14/128 [00:01<00:11, 10.21it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.45it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.40it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.23it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.83it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.67it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.11it/s] 21%|██        | 27/128 [00:02<00:09, 10.41it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.63it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.47it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.32it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.22it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.92it/s] 30%|███       | 39/128 [00:03<00:08, 10.21it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.47it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.79it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.54it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.43it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.63it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.56it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.92it/s] 41%|████      | 52/128 [00:05<00:07,  9.53it/s] 41%|████▏     | 53/128 [00:05<00:08,  8.86it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.02it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.43it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.01it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.85it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.76it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.65it/s] 50%|█████     | 64/128 [00:06<00:06, 10.12it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.96it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.88it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.81it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.76it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.53it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.32it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.55it/s] 61%|██████    | 78/128 [00:07<00:04, 10.19it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.16it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.37it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.15it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.11it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.06it/s] 70%|███████   | 90/128 [00:09<00:03,  9.83it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.81it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.81it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.17it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.79it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.10it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.07it/s] 80%|████████  | 103/128 [00:10<00:02,  9.83it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.72it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.66it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.08it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.90it/s] 87%|████████▋ | 111/128 [00:11<00:01, 11.11it/s] 88%|████████▊ | 113/128 [00:11<00:01, 11.01it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.48it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.35it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.45it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.41it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.04it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.86it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.80it/s]100%|██████████| 128/128 [00:12<00:00, 10.02it/s]100%|██████████| 128/128 [00:12<00:00, 10.05it/s]
[2024-01-18 14:19:34,682] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.25it/s]  2%|▏         | 3/128 [00:00<00:11, 10.42it/s]  4%|▍         | 5/128 [00:00<00:12,  9.79it/s]  5%|▍         | 6/128 [00:00<00:13,  9.30it/s]  6%|▋         | 8/128 [00:00<00:12,  9.87it/s]  8%|▊         | 10/128 [00:01<00:11,  9.83it/s]  9%|▉         | 12/128 [00:01<00:11, 10.29it/s] 11%|█         | 14/128 [00:01<00:11, 10.23it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.45it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.12it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.03it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.81it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.68it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.15it/s] 21%|██        | 27/128 [00:02<00:09, 10.21it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.40it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.31it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.30it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.27it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.75it/s] 30%|███       | 39/128 [00:03<00:08, 10.03it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.22it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.90it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.66it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.58it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.52it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.40it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.42it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.80it/s] 41%|████      | 52/128 [00:05<00:07,  9.67it/s] 41%|████▏     | 53/128 [00:05<00:08,  8.97it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.14it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.59it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.65it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.71it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.60it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.79it/s] 50%|█████     | 64/128 [00:06<00:06, 10.20it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.13it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.57it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.41it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.43it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.34it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.65it/s] 61%|██████    | 78/128 [00:07<00:05, 10.00it/s] 62%|██████▎   | 80/128 [00:08<00:04,  9.95it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.23it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.21it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.23it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.99it/s] 70%|███████   | 90/128 [00:09<00:03,  9.68it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.72it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.01it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.06it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.88it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.09it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.67it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.87it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.78it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.18it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.66it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.83it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.78it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.57it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.47it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.35it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.23it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.86it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.01it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.05it/s]100%|██████████| 128/128 [00:12<00:00, 10.02it/s]
[2024-01-18 14:19:47,463] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:15,  8.24it/s]  2%|▏         | 3/128 [00:00<00:12,  9.96it/s]  3%|▎         | 4/128 [00:00<00:12,  9.69it/s]  4%|▍         | 5/128 [00:00<00:13,  9.33it/s]  5%|▍         | 6/128 [00:00<00:13,  9.33it/s]  6%|▋         | 8/128 [00:00<00:11, 10.08it/s]  8%|▊         | 10/128 [00:01<00:11, 10.06it/s]  9%|▊         | 11/128 [00:01<00:11, 10.03it/s] 10%|█         | 13/128 [00:01<00:11, 10.27it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.15it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.37it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.29it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.85it/s] 17%|█▋        | 22/128 [00:02<00:11,  9.59it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.48it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.92it/s] 21%|██        | 27/128 [00:02<00:09, 10.28it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.52it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.45it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.17it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.12it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.80it/s] 30%|███       | 39/128 [00:03<00:08, 10.13it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.35it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.76it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.50it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.41it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.63it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.58it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.92it/s] 41%|████      | 52/128 [00:05<00:07,  9.52it/s] 41%|████▏     | 53/128 [00:05<00:08,  8.88it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.01it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.42it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.98it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.83it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.72it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.76it/s] 50%|█████     | 64/128 [00:06<00:06, 10.08it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.96it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.86it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.78it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.73it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.70it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.32it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.60it/s] 61%|██████    | 78/128 [00:07<00:04, 10.14it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.11it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.47it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.10it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.12it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.02it/s] 70%|███████   | 90/128 [00:09<00:03,  9.78it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.86it/s] 73%|███████▎  | 93/128 [00:09<00:03,  9.84it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.83it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.90it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.72it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.06it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.03it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.80it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.60it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.54it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.99it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.79it/s] 87%|████████▋ | 111/128 [00:11<00:01, 11.01it/s] 88%|████████▊ | 113/128 [00:11<00:01, 11.02it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.35it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.29it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.34it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.33it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.98it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.84it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.72it/s]100%|██████████| 128/128 [00:12<00:00,  9.99it/s]100%|██████████| 128/128 [00:12<00:00,  9.99it/s]
[2024-01-18 14:20:00,281] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.98it/s]  2%|▏         | 3/128 [00:00<00:12, 10.32it/s]  4%|▍         | 5/128 [00:00<00:12,  9.72it/s]  5%|▍         | 6/128 [00:00<00:12,  9.39it/s]  5%|▌         | 7/128 [00:00<00:12,  9.53it/s]  7%|▋         | 9/128 [00:00<00:11, 10.21it/s]  9%|▊         | 11/128 [00:01<00:11, 10.04it/s] 10%|█         | 13/128 [00:01<00:11, 10.38it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.32it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.31it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.14it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.78it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.71it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.55it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.08it/s] 21%|██        | 27/128 [00:02<00:09, 10.20it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.30it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.30it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.23it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.20it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.85it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.77it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.12it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.00it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.84it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.57it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.49it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.39it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.38it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.77it/s] 41%|████      | 52/128 [00:05<00:07,  9.61it/s] 41%|████▏     | 53/128 [00:05<00:08,  8.97it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.12it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.59it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.81it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.70it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.59it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.80it/s] 50%|█████     | 64/128 [00:06<00:06, 10.18it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.12it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.62it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.43it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.49it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.37it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.65it/s] 61%|██████    | 78/128 [00:07<00:04, 10.03it/s] 62%|██████▎   | 80/128 [00:08<00:04,  9.98it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.28it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.25it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.25it/s] 69%|██████▉   | 88/128 [00:08<00:04,  9.97it/s] 70%|███████   | 90/128 [00:09<00:03,  9.68it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.72it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.02it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.07it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.86it/s] 78%|███████▊  | 100/128 [00:10<00:02, 10.10it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.68it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.86it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.78it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.16it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.65it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.89it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.80it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.58it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.46it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.33it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.30it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.87it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.03it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.05it/s]100%|██████████| 128/128 [00:12<00:00, 10.01it/s]
[2024-01-18 14:20:13,076] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:15,  8.37it/s]  2%|▏         | 3/128 [00:00<00:12, 10.04it/s]  3%|▎         | 4/128 [00:00<00:12,  9.68it/s]  4%|▍         | 5/128 [00:00<00:13,  9.38it/s]  5%|▍         | 6/128 [00:00<00:13,  9.37it/s]  6%|▋         | 8/128 [00:00<00:11, 10.10it/s]  8%|▊         | 10/128 [00:01<00:11,  9.93it/s]  9%|▉         | 12/128 [00:01<00:11, 10.14it/s] 11%|█         | 14/128 [00:01<00:11, 10.05it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.29it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.28it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.15it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.64it/s] 18%|█▊        | 23/128 [00:02<00:11,  9.53it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.92it/s] 21%|██        | 27/128 [00:02<00:09, 10.27it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.51it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.31it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.19it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.04it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.80it/s] 30%|███       | 39/128 [00:03<00:08, 10.13it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.25it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.78it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.46it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.42it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.62it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.57it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.70it/s] 41%|████      | 52/128 [00:05<00:07,  9.55it/s] 41%|████▏     | 53/128 [00:05<00:08,  8.93it/s] 42%|████▏     | 54/128 [00:05<00:08,  8.96it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.49it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.05it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.86it/s] 47%|████▋     | 60/128 [00:06<00:07,  9.56it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.70it/s] 50%|█████     | 64/128 [00:06<00:06, 10.09it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.96it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.87it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.79it/s] 55%|█████▍    | 70/128 [00:07<00:05, 10.71it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.33it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.24it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.44it/s] 61%|██████    | 78/128 [00:07<00:04, 10.11it/s] 62%|██████▎   | 80/128 [00:08<00:04, 10.07it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.17it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.10it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.02it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.02it/s] 70%|███████   | 90/128 [00:09<00:03,  9.77it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.63it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.88it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.83it/s] 76%|███████▌  | 97/128 [00:09<00:03,  9.78it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.10it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.03it/s] 80%|████████  | 103/128 [00:10<00:02,  9.75it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.73it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.61it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.05it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.85it/s] 87%|████████▋ | 111/128 [00:11<00:01, 11.05it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.79it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.48it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.26it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.42it/s] 95%|█████████▍| 121/128 [00:12<00:00, 10.38it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.90it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.91it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.82it/s]100%|██████████| 128/128 [00:12<00:00, 10.09it/s]100%|██████████| 128/128 [00:12<00:00,  9.98it/s]
[2024-01-18 14:20:41,966] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 18%|█▊        | 23/128 [00:00<00:00, 226.97it/s] 38%|███▊      | 49/128 [00:00<00:00, 239.71it/s] 59%|█████▊    | 75/128 [00:00<00:00, 247.29it/s] 78%|███████▊  | 100/128 [00:00<00:00, 240.75it/s] 98%|█████████▊| 125/128 [00:00<00:00, 235.09it/s]100%|██████████| 128/128 [00:00<00:00, 235.98it/s]
[2024-01-18 14:20:42,640] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.40it/s]  3%|▎         | 4/128 [00:00<00:12,  9.63it/s]  4%|▍         | 5/128 [00:00<00:12,  9.61it/s]  5%|▌         | 7/128 [00:00<00:11, 10.81it/s]  7%|▋         | 9/128 [00:00<00:10, 11.41it/s]  9%|▊         | 11/128 [00:01<00:11, 10.32it/s] 10%|█         | 13/128 [00:01<00:11, 10.17it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.80it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.24it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.44it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.18it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.16it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.06it/s] 21%|██        | 27/128 [00:02<00:10,  9.80it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.17it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.85it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.82it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.81it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.67it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.63it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.58it/s] 30%|███       | 39/128 [00:03<00:08, 10.09it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.70it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.13it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.93it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.68it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.46it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.36it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.07it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.28it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.41it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.61it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.42it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.18it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.10it/s] 51%|█████     | 65/128 [00:06<00:06,  9.81it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.90it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.19it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.41it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.21it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.53it/s] 60%|██████    | 77/128 [00:07<00:04, 10.43it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.60it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.71it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.29it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.04it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.24it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.46it/s] 71%|███████   | 91/128 [00:08<00:03, 10.63it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.55it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.36it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.23it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.20it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.19it/s] 80%|████████  | 103/128 [00:10<00:02,  9.97it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.80it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.23it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.12it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.11it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.38it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.31it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.27it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.55it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.70it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.66it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.57it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.47it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.61it/s]100%|██████████| 128/128 [00:12<00:00,  9.78it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]
[2024-01-18 14:20:55,290] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.51it/s]  3%|▎         | 4/128 [00:00<00:12,  9.78it/s]  4%|▍         | 5/128 [00:00<00:12,  9.52it/s]  5%|▌         | 7/128 [00:00<00:11, 10.58it/s]  7%|▋         | 9/128 [00:00<00:10, 11.38it/s]  9%|▊         | 11/128 [00:01<00:11, 10.51it/s] 10%|█         | 13/128 [00:01<00:11, 10.39it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.89it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.10it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.30it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.41it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.33it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.22it/s] 21%|██        | 27/128 [00:02<00:10,  9.77it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.12it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.03it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.07it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.75it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.66it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.52it/s] 30%|███       | 39/128 [00:03<00:08,  9.97it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.81it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.22it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.19it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.60it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.04it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.29it/s] 41%|████      | 52/128 [00:05<00:07, 10.17it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.44it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.64it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.16it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.39it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.21it/s] 50%|█████     | 64/128 [00:06<00:06,  9.98it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.04it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.84it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.12it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.10it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.44it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.73it/s] 61%|██████    | 78/128 [00:07<00:04, 10.39it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.45it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.24it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.24it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.23it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.35it/s] 70%|███████   | 90/128 [00:08<00:03, 10.36it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.57it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.34it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.53it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.36it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.99it/s] 80%|███████▉  | 102/128 [00:10<00:02,  9.83it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.81it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.19it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.20it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.90it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.17it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.32it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.29it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.65it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.55it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.50it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.60it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.50it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.69it/s]100%|██████████| 128/128 [00:12<00:00,  9.90it/s]100%|██████████| 128/128 [00:12<00:00, 10.13it/s]
[2024-01-18 14:21:07,939] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.52it/s]  2%|▏         | 3/128 [00:00<00:13,  9.40it/s]  3%|▎         | 4/128 [00:00<00:13,  9.39it/s]  4%|▍         | 5/128 [00:00<00:13,  9.23it/s]  5%|▌         | 7/128 [00:00<00:11, 10.65it/s]  7%|▋         | 9/128 [00:00<00:10, 11.48it/s]  9%|▊         | 11/128 [00:01<00:11, 10.55it/s] 10%|█         | 13/128 [00:01<00:11, 10.15it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.77it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.15it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.36it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.49it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.09it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.09it/s] 21%|██        | 27/128 [00:02<00:10,  9.71it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.09it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.02it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.70it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.69it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.55it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.41it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.40it/s] 30%|███       | 39/128 [00:03<00:08,  9.96it/s] 31%|███▏      | 40/128 [00:04<00:08,  9.87it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.10it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.67it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.63it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.24it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.20it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.22it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.17it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.34it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.45it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.24it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.22it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.09it/s] 51%|█████     | 65/128 [00:06<00:06,  9.71it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.73it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.04it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.38it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.28it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.38it/s] 60%|██████    | 77/128 [00:07<00:04, 10.36it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.45it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.59it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.46it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.87it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.17it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.34it/s] 71%|███████   | 91/128 [00:08<00:03, 10.53it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.72it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.27it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.18it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.00it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.07it/s] 80%|████████  | 103/128 [00:10<00:02, 10.06it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.92it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.94it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.12it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.12it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.33it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.19it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.09it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.59it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.53it/s] 95%|█████████▍| 121/128 [00:12<00:00,  9.52it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.70it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.51it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.54it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.44it/s]100%|██████████| 128/128 [00:12<00:00,  9.73it/s]100%|██████████| 128/128 [00:12<00:00, 10.06it/s]
[2024-01-18 14:21:20,672] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.23it/s]  3%|▎         | 4/128 [00:00<00:12,  9.67it/s]  4%|▍         | 5/128 [00:00<00:12,  9.61it/s]  5%|▌         | 7/128 [00:00<00:11, 10.39it/s]  7%|▋         | 9/128 [00:00<00:10, 11.14it/s]  9%|▊         | 11/128 [00:01<00:11, 10.30it/s] 10%|█         | 13/128 [00:01<00:11, 10.21it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.86it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.08it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.18it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.29it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.19it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.17it/s] 21%|██        | 27/128 [00:02<00:10,  9.76it/s] 23%|██▎       | 29/128 [00:02<00:09,  9.91it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.76it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.76it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.88it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.72it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.67it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.46it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.56it/s] 31%|███▏      | 40/128 [00:04<00:09,  9.75it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.13it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.10it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.46it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.29it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.20it/s] 41%|████      | 52/128 [00:05<00:07, 10.17it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.33it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.55it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.33it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.21it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.15it/s] 50%|█████     | 64/128 [00:06<00:06,  9.78it/s] 51%|█████     | 65/128 [00:06<00:06,  9.73it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.84it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.04it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.10it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.11it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.43it/s] 60%|██████    | 77/128 [00:07<00:04, 10.42it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.58it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.35it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.27it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.89it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.19it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.44it/s] 71%|███████   | 91/128 [00:08<00:03, 10.47it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.56it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.35it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.24it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.19it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.07it/s] 80%|████████  | 103/128 [00:10<00:02,  9.96it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.85it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.21it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.17it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.01it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.20it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.40it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.28it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.62it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.64it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.53it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.58it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.49it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.64it/s]100%|██████████| 128/128 [00:12<00:00,  9.86it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]
[2024-01-18 14:21:33,390] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.02it/s]  3%|▎         | 4/128 [00:00<00:13,  9.39it/s]  4%|▍         | 5/128 [00:00<00:13,  9.35it/s]  5%|▌         | 7/128 [00:00<00:11, 10.52it/s]  7%|▋         | 9/128 [00:00<00:10, 11.34it/s]  9%|▊         | 11/128 [00:01<00:11, 10.52it/s] 10%|█         | 13/128 [00:01<00:11, 10.17it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.79it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.17it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.33it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.44it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.20it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.12it/s] 21%|██        | 27/128 [00:02<00:10,  9.76it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.11it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.96it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.89it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.80it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.64it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.58it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.49it/s] 30%|███       | 39/128 [00:03<00:08, 10.01it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.88it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.17it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.01it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.44it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.27it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.48it/s] 41%|████      | 52/128 [00:05<00:07, 10.24it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.37it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.52it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.32it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.50it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.26it/s] 50%|█████     | 64/128 [00:06<00:06,  9.88it/s] 51%|█████     | 65/128 [00:06<00:06,  9.80it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.83it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.12it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.36it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.25it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.51it/s] 60%|██████    | 77/128 [00:07<00:04, 10.43it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.58it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.60it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.36it/s] 66%|██████▋   | 85/128 [00:08<00:04,  9.97it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.22it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.45it/s] 71%|███████   | 91/128 [00:08<00:03, 10.60it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.63it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.32it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.25it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.17it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.17it/s] 80%|████████  | 103/128 [00:10<00:02, 10.01it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.99it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.00it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.22it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.20it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.24it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.19it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.17it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.70it/s] 94%|█████████▍| 120/128 [00:11<00:00,  9.61it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.54it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.61it/s] 97%|█████████▋| 124/128 [00:12<00:00,  9.46it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.60it/s]100%|██████████| 128/128 [00:12<00:00,  9.80it/s]100%|██████████| 128/128 [00:12<00:00, 10.12it/s]
[2024-01-18 14:22:01,899] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 26%|██▌       | 33/128 [00:00<00:00, 323.35it/s] 55%|█████▍    | 70/128 [00:00<00:00, 347.65it/s] 82%|████████▏ | 105/128 [00:00<00:00, 337.92it/s]100%|██████████| 128/128 [00:00<00:00, 340.04it/s]
[2024-01-18 14:22:02,404] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:16,  7.57it/s]  2%|▏         | 2/128 [00:00<00:14,  8.56it/s]  2%|▏         | 3/128 [00:00<00:13,  8.96it/s]  3%|▎         | 4/128 [00:00<00:13,  9.13it/s]  4%|▍         | 5/128 [00:00<00:13,  9.25it/s]  5%|▍         | 6/128 [00:00<00:13,  9.31it/s]  6%|▋         | 8/128 [00:00<00:11, 10.05it/s]  8%|▊         | 10/128 [00:01<00:11, 10.41it/s]  9%|▉         | 12/128 [00:01<00:10, 10.61it/s] 11%|█         | 14/128 [00:01<00:11, 10.04it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.12it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.96it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.06it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.99it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.92it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.74it/s] 21%|██        | 27/128 [00:02<00:09, 10.88it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.45it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.40it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.48it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.35it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.51it/s] 30%|███       | 39/128 [00:03<00:08, 10.22it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.14it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.43it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.40it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.89it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.66it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.89it/s] 41%|████      | 52/128 [00:05<00:07,  9.88it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.71it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.10it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.40it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.03it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.81it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.11it/s] 51%|█████     | 65/128 [00:06<00:06, 10.18it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.97it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.77it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.51it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.98it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.94it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.01it/s] 60%|██████    | 77/128 [00:07<00:04, 10.36it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.99it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.32it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.24it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.57it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.44it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.44it/s] 71%|███████   | 91/128 [00:08<00:03, 10.56it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.43it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.38it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.56it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.59it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.49it/s] 80%|████████  | 103/128 [00:10<00:02, 10.36it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.21it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.25it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.82it/s] 87%|████████▋ | 111/128 [00:10<00:01, 11.03it/s] 88%|████████▊ | 113/128 [00:11<00:01, 11.43it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.93it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.64it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.46it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.23it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.10it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.03it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.27it/s]100%|██████████| 128/128 [00:12<00:00, 10.22it/s]
[2024-01-18 14:22:14,939] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:16,  7.61it/s]  2%|▏         | 2/128 [00:00<00:14,  8.54it/s]  2%|▏         | 3/128 [00:00<00:14,  8.64it/s]  3%|▎         | 4/128 [00:00<00:14,  8.78it/s]  4%|▍         | 5/128 [00:00<00:13,  9.00it/s]  5%|▍         | 6/128 [00:00<00:13,  9.13it/s]  6%|▋         | 8/128 [00:00<00:11, 10.06it/s]  8%|▊         | 10/128 [00:01<00:11, 10.52it/s]  9%|▉         | 12/128 [00:01<00:10, 10.73it/s] 11%|█         | 14/128 [00:01<00:11,  9.89it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.99it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.02it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.15it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.09it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.29it/s] 20%|██        | 26/128 [00:02<00:09, 10.58it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.64it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.55it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.44it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.11it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.29it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.43it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.38it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.64it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.05it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.67it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.69it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.04it/s] 41%|████      | 52/128 [00:05<00:07, 10.05it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.80it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.10it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.25it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.95it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.06it/s] 50%|█████     | 64/128 [00:06<00:06, 10.17it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.91it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.80it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.71it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.68it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.15it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.99it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.91it/s] 60%|██████    | 77/128 [00:07<00:04, 10.23it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.15it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.42it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.29it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.42it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.30it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.45it/s] 71%|███████   | 91/128 [00:08<00:03, 10.75it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.56it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.23it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.44it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.45it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.63it/s] 80%|████████  | 103/128 [00:10<00:02, 10.47it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.11it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.14it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.62it/s] 87%|████████▋ | 111/128 [00:10<00:01, 11.10it/s] 88%|████████▊ | 113/128 [00:11<00:01, 11.54it/s] 90%|████████▉ | 115/128 [00:11<00:01, 11.09it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.53it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.33it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.19it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.12it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.09it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.08it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]
[2024-01-18 14:22:27,506] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:16,  7.52it/s]  2%|▏         | 2/128 [00:00<00:14,  8.42it/s]  2%|▏         | 3/128 [00:00<00:14,  8.87it/s]  3%|▎         | 4/128 [00:00<00:13,  9.03it/s]  4%|▍         | 5/128 [00:00<00:13,  9.18it/s]  5%|▍         | 6/128 [00:00<00:13,  9.31it/s]  6%|▋         | 8/128 [00:00<00:12,  9.86it/s]  8%|▊         | 10/128 [00:01<00:11, 10.31it/s]  9%|▉         | 12/128 [00:01<00:11, 10.52it/s] 11%|█         | 14/128 [00:01<00:11,  9.99it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.07it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.95it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.98it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.80it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.85it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.64it/s] 21%|██        | 27/128 [00:02<00:09, 10.82it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.50it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.26it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.41it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.17it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.37it/s] 30%|███       | 39/128 [00:03<00:08, 10.35it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.98it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.36it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.25it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.77it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.69it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.90it/s] 41%|████      | 52/128 [00:05<00:07,  9.82it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.65it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.94it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.26it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.19it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.62it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.04it/s] 51%|█████     | 65/128 [00:06<00:06,  9.97it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.81it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.76it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.71it/s] 55%|█████▍    | 70/128 [00:07<00:05,  9.72it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.73it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.85it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.80it/s] 60%|██████    | 77/128 [00:07<00:04, 10.21it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.17it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.23it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.09it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.37it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.28it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.47it/s] 71%|███████   | 91/128 [00:09<00:03, 10.73it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.28it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.26it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.35it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.51it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.68it/s] 80%|████████  | 103/128 [00:10<00:02, 10.22it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.16it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.09it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.68it/s] 87%|████████▋ | 111/128 [00:10<00:01, 11.16it/s] 88%|████████▊ | 113/128 [00:11<00:01, 11.52it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.83it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.50it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.31it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.26it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.11it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.92it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]
[2024-01-18 14:22:40,142] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:16,  7.55it/s]  2%|▏         | 2/128 [00:00<00:14,  8.62it/s]  2%|▏         | 3/128 [00:00<00:13,  9.01it/s]  3%|▎         | 4/128 [00:00<00:13,  9.13it/s]  4%|▍         | 5/128 [00:00<00:13,  8.82it/s]  5%|▍         | 6/128 [00:00<00:13,  8.82it/s]  6%|▋         | 8/128 [00:00<00:12,  9.92it/s]  8%|▊         | 10/128 [00:01<00:11, 10.23it/s]  9%|▉         | 12/128 [00:01<00:10, 10.55it/s] 11%|█         | 14/128 [00:01<00:11,  9.99it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.72it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.85it/s] 16%|█▌        | 20/128 [00:02<00:10,  9.86it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.77it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.92it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.69it/s] 21%|██        | 27/128 [00:02<00:09, 10.52it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.39it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.25it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.42it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.31it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.21it/s] 30%|███       | 39/128 [00:03<00:08, 10.18it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.03it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.40it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.36it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.62it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.51it/s] 39%|███▉      | 50/128 [00:05<00:07,  9.92it/s] 41%|████      | 52/128 [00:05<00:07,  9.85it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.68it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.07it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.09it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.98it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.82it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.62it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.12it/s] 51%|█████     | 65/128 [00:06<00:06, 10.19it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.70it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.56it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.54it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.88it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.97it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.03it/s] 60%|██████    | 77/128 [00:07<00:05, 10.15it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.94it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.14it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.13it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.49it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.35it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.16it/s] 71%|███████   | 91/128 [00:09<00:03, 10.51it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.34it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.29it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.49it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.29it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.46it/s] 80%|████████  | 103/128 [00:10<00:02, 10.21it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.17it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.18it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.52it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.89it/s] 88%|████████▊ | 113/128 [00:11<00:01, 11.36it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.87it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.60it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.40it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.02it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.04it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.95it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.21it/s]100%|██████████| 128/128 [00:12<00:00, 10.11it/s]
[2024-01-18 14:22:52,817] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:17,  7.46it/s]  2%|▏         | 2/128 [00:00<00:15,  8.02it/s]  2%|▏         | 3/128 [00:00<00:14,  8.46it/s]  3%|▎         | 4/128 [00:00<00:14,  8.75it/s]  4%|▍         | 5/128 [00:00<00:13,  8.84it/s]  5%|▍         | 6/128 [00:00<00:13,  8.99it/s]  6%|▋         | 8/128 [00:00<00:11, 10.03it/s]  8%|▊         | 10/128 [00:01<00:11, 10.48it/s]  9%|▉         | 12/128 [00:01<00:11, 10.45it/s] 11%|█         | 14/128 [00:01<00:11,  9.83it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.79it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.91it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.05it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.85it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.61it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.51it/s] 21%|██        | 27/128 [00:02<00:09, 10.59it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.41it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.35it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.39it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.10it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.26it/s] 30%|███       | 39/128 [00:03<00:08, 10.22it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.11it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.37it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.11it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.64it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.54it/s] 39%|███▉      | 50/128 [00:05<00:07,  9.97it/s] 41%|████      | 52/128 [00:05<00:07,  9.97it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.67it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.63it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.06it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.23it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.92it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.84it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.17it/s] 51%|█████     | 65/128 [00:06<00:06,  9.94it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.85it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.64it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.54it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.53it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.09it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.01it/s] 58%|█████▊    | 74/128 [00:07<00:05,  9.91it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.75it/s] 60%|██████    | 77/128 [00:07<00:05, 10.20it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.06it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.36it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.30it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.30it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.24it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.32it/s] 71%|███████   | 91/128 [00:09<00:03, 10.62it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.49it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.33it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.38it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.50it/s] 79%|███████▉  | 101/128 [00:10<00:02, 10.56it/s] 80%|████████  | 103/128 [00:10<00:02, 10.40it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.23it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.04it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.62it/s] 87%|████████▋ | 111/128 [00:10<00:01, 11.07it/s] 88%|████████▊ | 113/128 [00:11<00:01, 11.50it/s] 90%|████████▉ | 115/128 [00:11<00:01, 11.07it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.55it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.26it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.18it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.14it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.11it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.15it/s]100%|██████████| 128/128 [00:12<00:00, 10.11it/s]
[2024-01-18 14:23:21,322] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 19%|█▉        | 24/128 [00:00<00:00, 232.06it/s] 38%|███▊      | 48/128 [00:00<00:00, 226.33it/s] 55%|█████▌    | 71/128 [00:00<00:00, 220.03it/s] 73%|███████▎  | 94/128 [00:00<00:00, 222.26it/s] 93%|█████████▎| 119/128 [00:00<00:00, 228.20it/s]100%|██████████| 128/128 [00:00<00:00, 227.64it/s]
[2024-01-18 14:23:22,009] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.49it/s]  3%|▎         | 4/128 [00:00<00:12, 10.18it/s]  5%|▍         | 6/128 [00:00<00:11, 10.62it/s]  6%|▋         | 8/128 [00:00<00:11, 10.83it/s]  8%|▊         | 10/128 [00:00<00:10, 11.00it/s]  9%|▉         | 12/128 [00:01<00:10, 10.66it/s] 11%|█         | 14/128 [00:01<00:11, 10.20it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.94it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.55it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.44it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.36it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.39it/s] 20%|██        | 26/128 [00:02<00:10,  9.99it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.20it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.18it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.24it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.23it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.30it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.82it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.57it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.50it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.32it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.06it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.30it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.18it/s] 41%|████      | 52/128 [00:04<00:07, 10.40it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.29it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.97it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.69it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.39it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.94it/s] 50%|█████     | 64/128 [00:06<00:05, 10.72it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.80it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.55it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.04it/s] 56%|█████▋    | 72/128 [00:06<00:05, 11.09it/s] 58%|█████▊    | 74/128 [00:07<00:04, 11.10it/s] 59%|█████▉    | 76/128 [00:07<00:04, 11.13it/s] 61%|██████    | 78/128 [00:07<00:04, 10.36it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.24it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.20it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.38it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.61it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.60it/s] 70%|███████   | 90/128 [00:08<00:03, 10.69it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.76it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.95it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.98it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.97it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.83it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.89it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.65it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.85it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.92it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.88it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.74it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.88it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.58it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.45it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.69it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.93it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.95it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.35it/s]100%|██████████| 128/128 [00:12<00:00, 10.36it/s]100%|██████████| 128/128 [00:12<00:00, 10.57it/s]
[2024-01-18 14:23:34,129] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.29it/s]  3%|▎         | 4/128 [00:00<00:12, 10.08it/s]  5%|▍         | 6/128 [00:00<00:11, 10.65it/s]  6%|▋         | 8/128 [00:00<00:11, 10.76it/s]  8%|▊         | 10/128 [00:00<00:10, 10.94it/s]  9%|▉         | 12/128 [00:01<00:10, 10.67it/s] 11%|█         | 14/128 [00:01<00:11, 10.36it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.87it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.62it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.42it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.37it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.61it/s] 20%|██        | 26/128 [00:02<00:10,  9.98it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.29it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.18it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.24it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.49it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.30it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.92it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.61it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.49it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.41it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.24it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.32it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.20it/s] 41%|████      | 52/128 [00:04<00:07, 10.47it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.34it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.18it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.71it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.46it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.95it/s] 50%|█████     | 64/128 [00:06<00:05, 10.75it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.91it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.46it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.99it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.99it/s] 58%|█████▊    | 74/128 [00:07<00:04, 11.02it/s] 59%|█████▉    | 76/128 [00:07<00:04, 11.08it/s] 61%|██████    | 78/128 [00:07<00:04, 10.30it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.14it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.12it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.32it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.55it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.60it/s] 70%|███████   | 90/128 [00:08<00:03, 10.57it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.70it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.87it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.88it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.97it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.70it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.80it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.53it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.80it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.87it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.77it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.73it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.84it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.58it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.45it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.63it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.89it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.93it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.34it/s]100%|██████████| 128/128 [00:12<00:00, 10.34it/s]100%|██████████| 128/128 [00:12<00:00, 10.57it/s]
[2024-01-18 14:23:46,248] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.20it/s]  3%|▎         | 4/128 [00:00<00:12, 10.01it/s]  5%|▍         | 6/128 [00:00<00:11, 10.62it/s]  6%|▋         | 8/128 [00:00<00:11, 10.70it/s]  8%|▊         | 10/128 [00:00<00:10, 10.90it/s]  9%|▉         | 12/128 [00:01<00:10, 10.66it/s] 11%|█         | 14/128 [00:01<00:11, 10.24it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.84it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.54it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.34it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.29it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.59it/s] 20%|██        | 26/128 [00:02<00:10,  9.82it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.16it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.05it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.13it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.40it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.25it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.77it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.46it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.38it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.33it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.16it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.26it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.13it/s] 41%|████      | 52/128 [00:05<00:07, 10.39it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.27it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.18it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.63it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.43it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.85it/s] 50%|█████     | 64/128 [00:06<00:06, 10.66it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.85it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.44it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.91it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.91it/s] 58%|█████▊    | 74/128 [00:07<00:04, 10.94it/s] 59%|█████▉    | 76/128 [00:07<00:04, 11.01it/s] 61%|██████    | 78/128 [00:07<00:04, 10.39it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.06it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.09it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.19it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.45it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.63it/s] 70%|███████   | 90/128 [00:08<00:03, 10.47it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.65it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.78it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.81it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.91it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.73it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.70it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.48it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.69it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.77it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.86it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.52it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.67it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.39it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.31it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.55it/s] 95%|█████████▌| 122/128 [00:11<00:00, 11.00it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.91it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.37it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]100%|██████████| 128/128 [00:12<00:00, 10.50it/s]
[2024-01-18 14:23:58,446] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.26it/s]  3%|▎         | 4/128 [00:00<00:11, 10.34it/s]  5%|▍         | 6/128 [00:00<00:11, 10.64it/s]  6%|▋         | 8/128 [00:00<00:11, 10.83it/s]  8%|▊         | 10/128 [00:00<00:10, 10.91it/s]  9%|▉         | 12/128 [00:01<00:10, 10.64it/s] 11%|█         | 14/128 [00:01<00:10, 10.43it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.88it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.55it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.36it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.28it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.58it/s] 20%|██        | 26/128 [00:02<00:10,  9.96it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.23it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.18it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.22it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.40it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.50it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.89it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.59it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.41it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.30it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.29it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.30it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.22it/s] 41%|████      | 52/128 [00:04<00:07, 10.35it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.25it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.22it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.76it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.51it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.99it/s] 50%|█████     | 64/128 [00:06<00:05, 10.71it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.89it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.62it/s] 55%|█████▍    | 70/128 [00:06<00:05, 11.03it/s] 56%|█████▋    | 72/128 [00:06<00:05, 11.10it/s] 58%|█████▊    | 74/128 [00:07<00:04, 11.07it/s] 59%|█████▉    | 76/128 [00:07<00:04, 11.07it/s] 61%|██████    | 78/128 [00:07<00:04, 10.49it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.20it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.23it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.36it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.57it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.71it/s] 70%|███████   | 90/128 [00:08<00:03, 10.69it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.82it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.97it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.97it/s] 77%|███████▋  | 98/128 [00:09<00:02, 11.03it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.88it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.90it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.66it/s] 83%|████████▎ | 106/128 [00:09<00:02, 10.88it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.93it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.92it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.83it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.95it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.67it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.49it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.71it/s] 95%|█████████▌| 122/128 [00:11<00:00, 11.08it/s] 97%|█████████▋| 124/128 [00:11<00:00, 11.04it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.42it/s]100%|██████████| 128/128 [00:12<00:00, 10.61it/s]
[2024-01-18 14:24:10,515] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.23it/s]  3%|▎         | 4/128 [00:00<00:12, 10.24it/s]  5%|▍         | 6/128 [00:00<00:11, 10.77it/s]  6%|▋         | 8/128 [00:00<00:11, 10.85it/s]  8%|▊         | 10/128 [00:00<00:10, 10.99it/s]  9%|▉         | 12/128 [00:01<00:10, 10.67it/s] 11%|█         | 14/128 [00:01<00:11, 10.33it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.97it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.65it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.48it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.35it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.54it/s] 20%|██        | 26/128 [00:02<00:10, 10.07it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.34it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.26it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.27it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.39it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.47it/s] 30%|██▉       | 38/128 [00:03<00:08, 11.01it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.39it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.10it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.86it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.57it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.89it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.70it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.11it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.09it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.29it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.45it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.49it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.06it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.32it/s] 51%|█████     | 65/128 [00:06<00:05, 10.52it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.31it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.54it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.04it/s] 57%|█████▋    | 73/128 [00:06<00:04, 11.05it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.98it/s] 60%|██████    | 77/128 [00:07<00:04, 10.67it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.09it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.36it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.20it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.38it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.59it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.49it/s] 71%|███████   | 91/128 [00:08<00:03, 10.65it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.75it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.89it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.90it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.80it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.72it/s] 80%|████████  | 103/128 [00:09<00:02, 10.49it/s] 82%|████████▏ | 105/128 [00:10<00:02, 11.03it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.71it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.83it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.62it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.68it/s] 90%|████████▉ | 115/128 [00:10<00:01, 10.72it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.28it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.55it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.46it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.95it/s] 98%|█████████▊| 125/128 [00:11<00:00, 10.61it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.14it/s]100%|██████████| 128/128 [00:12<00:00, 10.48it/s]
[2024-01-18 14:24:39,312] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 30/128 [00:00<00:00, 299.55it/s] 47%|████▋     | 60/128 [00:00<00:00, 279.90it/s] 71%|███████   | 91/128 [00:00<00:00, 291.93it/s] 96%|█████████▌| 123/128 [00:00<00:00, 301.01it/s]100%|██████████| 128/128 [00:00<00:00, 296.08it/s]
[2024-01-18 14:24:39,873] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.38it/s]  3%|▎         | 4/128 [00:00<00:12, 10.24it/s]  5%|▍         | 6/128 [00:00<00:11, 10.24it/s]  6%|▋         | 8/128 [00:00<00:11, 10.55it/s]  8%|▊         | 10/128 [00:00<00:10, 10.74it/s]  9%|▉         | 12/128 [00:01<00:10, 10.55it/s] 11%|█         | 14/128 [00:01<00:10, 10.39it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.29it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.50it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.47it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.69it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.49it/s] 20%|██        | 26/128 [00:02<00:09, 10.40it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.86it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.88it/s] 25%|██▌       | 32/128 [00:03<00:08, 11.04it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.72it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.65it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.82it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.21it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.19it/s] 34%|███▍      | 44/128 [00:04<00:07, 10.54it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.89it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.95it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.52it/s] 41%|████      | 52/128 [00:04<00:07, 10.74it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.88it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.67it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.99it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.95it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.94it/s] 50%|█████     | 64/128 [00:06<00:05, 11.09it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.76it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.47it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.63it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.46it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.42it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.75it/s] 61%|██████    | 78/128 [00:07<00:04, 10.08it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.36it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.44it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.34it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.58it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.29it/s] 70%|███████   | 90/128 [00:08<00:03, 10.36it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.35it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.27it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.32it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.66it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.55it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.72it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.44it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.68it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.84it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.67it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.80it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.23it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.89it/s] 92%|█████████▏| 118/128 [00:11<00:00, 11.02it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.08it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.75it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.34it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.47it/s]100%|██████████| 128/128 [00:12<00:00, 10.65it/s]100%|██████████| 128/128 [00:12<00:00, 10.58it/s]
[2024-01-18 14:24:51,978] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.17it/s]  3%|▎         | 4/128 [00:00<00:12, 10.07it/s]  5%|▍         | 6/128 [00:00<00:11, 10.19it/s]  6%|▋         | 8/128 [00:00<00:11, 10.39it/s]  8%|▊         | 10/128 [00:00<00:11, 10.68it/s]  9%|▉         | 12/128 [00:01<00:10, 10.58it/s] 11%|█         | 14/128 [00:01<00:10, 10.60it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.28it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.51it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.39it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.65it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.77it/s] 20%|██        | 26/128 [00:02<00:09, 10.36it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.89it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.80it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.95it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.74it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.91it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.72it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.23it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.13it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.48it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.15it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.81it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.51it/s] 41%|████      | 52/128 [00:04<00:07, 10.53it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.72it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.81it/s] 45%|████▌     | 58/128 [00:05<00:06, 11.01it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.84it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.85it/s] 50%|█████     | 64/128 [00:06<00:05, 10.95it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.66it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.75it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.40it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.40it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.26it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.62it/s] 61%|██████    | 78/128 [00:07<00:04, 10.23it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.27it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.43it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.20it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.45it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.37it/s] 70%|███████   | 90/128 [00:08<00:03, 10.34it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.30it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.22it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.23it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.61it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.74it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.59it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.42it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.59it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.75it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.82it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.75it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.19it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.76it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.89it/s] 94%|█████████▍| 120/128 [00:11<00:00, 11.01it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.98it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.28it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.47it/s]100%|██████████| 128/128 [00:12<00:00, 10.59it/s]100%|██████████| 128/128 [00:12<00:00, 10.56it/s]
[2024-01-18 14:25:04,109] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.11it/s]  3%|▎         | 4/128 [00:00<00:11, 10.58it/s]  5%|▍         | 6/128 [00:00<00:11, 10.21it/s]  6%|▋         | 8/128 [00:00<00:11, 10.41it/s]  8%|▊         | 10/128 [00:00<00:11, 10.62it/s]  9%|▉         | 12/128 [00:01<00:11, 10.50it/s] 11%|█         | 14/128 [00:01<00:10, 10.66it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.34it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.52it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.40it/s] 17%|█▋        | 22/128 [00:02<00:09, 10.62it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.74it/s] 20%|██        | 26/128 [00:02<00:09, 10.54it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.93it/s] 23%|██▎       | 30/128 [00:02<00:08, 10.90it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.96it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.72it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.93it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.82it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.29it/s] 33%|███▎      | 42/128 [00:03<00:08, 10.15it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.50it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.17it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.87it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.53it/s] 41%|████      | 52/128 [00:04<00:07, 10.65it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.80it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.86it/s] 45%|████▌     | 58/128 [00:05<00:06, 11.16it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.92it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.96it/s] 50%|█████     | 64/128 [00:06<00:05, 11.01it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.71it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.79it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.58it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.50it/s] 58%|█████▊    | 74/128 [00:06<00:05, 10.32it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.66it/s] 61%|██████    | 78/128 [00:07<00:04, 10.26it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.31it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.44it/s] 66%|██████▌   | 84/128 [00:07<00:04, 10.26it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.49it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.37it/s] 70%|███████   | 90/128 [00:08<00:03, 10.53it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.22it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.24it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.19it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.56it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.73it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.57it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.34it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.49it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.69it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.79it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.90it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.01it/s] 91%|█████████ | 116/128 [00:10<00:01, 10.74it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.82it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.96it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.95it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.17it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.40it/s]100%|██████████| 128/128 [00:12<00:00, 10.44it/s]100%|██████████| 128/128 [00:12<00:00, 10.58it/s]
[2024-01-18 14:25:16,220] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.05it/s]  3%|▎         | 4/128 [00:00<00:11, 10.53it/s]  5%|▍         | 6/128 [00:00<00:12, 10.14it/s]  6%|▋         | 8/128 [00:00<00:11, 10.39it/s]  8%|▊         | 10/128 [00:00<00:11, 10.54it/s]  9%|▉         | 12/128 [00:01<00:11, 10.39it/s] 11%|█         | 14/128 [00:01<00:10, 10.57it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.34it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.31it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.31it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.48it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.64it/s] 20%|██        | 26/128 [00:02<00:09, 10.53it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.77it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.74it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.83it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.61it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.85it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.96it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.06it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.03it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.33it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.04it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.04it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.36it/s] 41%|████      | 52/128 [00:04<00:07, 10.59it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.64it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.72it/s] 45%|████▌     | 58/128 [00:05<00:06, 11.17it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.98it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.75it/s] 50%|█████     | 64/128 [00:06<00:05, 10.90it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.51it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.64it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.73it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.29it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.29it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.53it/s] 61%|██████    | 78/128 [00:07<00:04, 10.15it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.46it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.37it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.21it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.34it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.27it/s] 70%|███████   | 90/128 [00:08<00:03, 10.47it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.27it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.15it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.12it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.48it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.70it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.80it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.24it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.53it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.60it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.72it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.90it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.10it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.63it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.74it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.84it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.87it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.39it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.29it/s]100%|██████████| 128/128 [00:12<00:00, 10.51it/s]100%|██████████| 128/128 [00:12<00:00, 10.52it/s]
[2024-01-18 14:25:28,401] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.60it/s]  3%|▎         | 4/128 [00:00<00:12, 10.32it/s]  5%|▍         | 6/128 [00:00<00:11, 10.36it/s]  6%|▋         | 8/128 [00:00<00:11, 10.28it/s]  8%|▊         | 10/128 [00:00<00:11, 10.48it/s]  9%|▉         | 12/128 [00:01<00:11, 10.33it/s] 11%|█         | 14/128 [00:01<00:10, 10.50it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.37it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.59it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.17it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.45it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.53it/s] 20%|██        | 26/128 [00:02<00:09, 10.46it/s] 22%|██▏       | 28/128 [00:02<00:09, 11.00it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.70it/s] 25%|██▌       | 32/128 [00:03<00:08, 10.83it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.51it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.77it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.91it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.18it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.01it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.30it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.00it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.02it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.62it/s] 41%|████      | 52/128 [00:04<00:07, 10.59it/s] 42%|████▏     | 54/128 [00:05<00:06, 10.73it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.68it/s] 45%|████▌     | 58/128 [00:05<00:06, 11.12it/s] 47%|████▋     | 60/128 [00:05<00:06, 11.09it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.97it/s] 50%|█████     | 64/128 [00:06<00:05, 10.92it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.57it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.62it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.72it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.57it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.22it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.56it/s] 61%|██████    | 78/128 [00:07<00:04, 10.10it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.40it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.56it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.14it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.37it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.20it/s] 70%|███████   | 90/128 [00:08<00:03, 10.41it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.41it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.10it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.14it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.41it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.62it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.77it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.43it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.48it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.64it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.67it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.89it/s] 89%|████████▉ | 114/128 [00:10<00:01, 11.36it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.71it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.85it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.87it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.86it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.42it/s] 98%|█████████▊| 126/128 [00:11<00:00, 10.40it/s]100%|██████████| 128/128 [00:12<00:00, 10.46it/s]100%|██████████| 128/128 [00:12<00:00, 10.53it/s]
[2024-01-18 14:25:56,419] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 29/128 [00:00<00:00, 277.05it/s] 46%|████▌     | 59/128 [00:00<00:00, 285.13it/s] 69%|██████▉   | 88/128 [00:00<00:00, 273.19it/s] 91%|█████████ | 116/128 [00:00<00:00, 268.63it/s]100%|██████████| 128/128 [00:00<00:00, 273.69it/s]
[2024-01-18 14:25:57,016] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.66it/s]  2%|▏         | 3/128 [00:00<00:12,  9.77it/s]  4%|▍         | 5/128 [00:00<00:11, 10.26it/s]  5%|▌         | 7/128 [00:00<00:11, 10.38it/s]  7%|▋         | 9/128 [00:00<00:11, 10.43it/s]  9%|▊         | 11/128 [00:01<00:10, 10.79it/s] 10%|█         | 13/128 [00:01<00:11, 10.39it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.55it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.41it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.64it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.40it/s] 18%|█▊        | 23/128 [00:02<00:09, 10.61it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.26it/s] 21%|██        | 27/128 [00:02<00:09, 10.50it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.50it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.44it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.40it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.46it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.98it/s] 30%|███       | 39/128 [00:03<00:09,  9.86it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.75it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.10it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.14it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.84it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.76it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.82it/s] 40%|███▉      | 51/128 [00:04<00:07,  9.93it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.22it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.11it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.70it/s] 46%|████▌     | 59/128 [00:05<00:06,  9.99it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.05it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.30it/s] 51%|█████     | 65/128 [00:06<00:05, 10.64it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.22it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.48it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.89it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.68it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.58it/s] 60%|██████    | 77/128 [00:07<00:04, 10.26it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.13it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.32it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.32it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.27it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.49it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.94it/s] 71%|███████   | 91/128 [00:08<00:03, 10.22it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.22it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.24it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.15it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.00it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.22it/s] 80%|████████  | 103/128 [00:10<00:02, 10.42it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.60it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.79it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.89it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.77it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.81it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.32it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.58it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.40it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.42it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.59it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.21it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.91it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]
[2024-01-18 14:26:09,459] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.71it/s]  3%|▎         | 4/128 [00:00<00:11, 10.35it/s]  5%|▍         | 6/128 [00:00<00:11, 10.56it/s]  6%|▋         | 8/128 [00:00<00:11, 10.79it/s]  8%|▊         | 10/128 [00:00<00:11, 10.70it/s]  9%|▉         | 12/128 [00:01<00:10, 10.72it/s] 11%|█         | 14/128 [00:01<00:11, 10.15it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.51it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.73it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.90it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.42it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.31it/s] 20%|██        | 26/128 [00:02<00:09, 10.52it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.63it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.77it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.51it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.70it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.24it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.89it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.93it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.07it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.04it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.10it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.08it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.09it/s] 41%|████      | 52/128 [00:05<00:07, 10.08it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.82it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.98it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.97it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.04it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.33it/s] 50%|█████     | 64/128 [00:06<00:06, 10.35it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.21it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.40it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.56it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.87it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.42it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.60it/s] 61%|██████    | 78/128 [00:07<00:04, 10.31it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.24it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.25it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.48it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.13it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.06it/s] 70%|███████   | 90/128 [00:08<00:03,  9.98it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.05it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.15it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.83it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.93it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.14it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.36it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.60it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.47it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.70it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.72it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.75it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.57it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.36it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.16it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.32it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.47it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.38it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.00it/s]100%|██████████| 128/128 [00:12<00:00,  9.80it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]
[2024-01-18 14:26:21,908] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.84it/s]  3%|▎         | 4/128 [00:00<00:11, 10.42it/s]  5%|▍         | 6/128 [00:00<00:11, 10.64it/s]  6%|▋         | 8/128 [00:00<00:11, 10.83it/s]  8%|▊         | 10/128 [00:00<00:11, 10.41it/s]  9%|▉         | 12/128 [00:01<00:10, 10.64it/s] 11%|█         | 14/128 [00:01<00:11, 10.08it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.47it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.72it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.61it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.29it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.19it/s] 20%|██        | 26/128 [00:02<00:09, 10.46it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.65it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.60it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.36it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.61it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.16it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.86it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.71it/s] 32%|███▏      | 41/128 [00:03<00:08,  9.72it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.10it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.07it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.83it/s] 38%|███▊      | 49/128 [00:04<00:07,  9.95it/s] 40%|███▉      | 51/128 [00:04<00:07,  9.68it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.93it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.73it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.89it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.82it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.20it/s] 48%|████▊     | 61/128 [00:05<00:06,  9.98it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.98it/s] 50%|█████     | 64/128 [00:06<00:06, 10.40it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.15it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.52it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.65it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.66it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.41it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.55it/s] 61%|██████    | 78/128 [00:07<00:04, 10.39it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.32it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.16it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.28it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.21it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.10it/s] 70%|███████   | 90/128 [00:08<00:03, 10.08it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.09it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.90it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.88it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.94it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.22it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.41it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.32it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.53it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.66it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.79it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.82it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.37it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.24it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.12it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.36it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.54it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.41it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.79it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.65it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]
[2024-01-18 14:26:34,436] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.82it/s]  3%|▎         | 4/128 [00:00<00:11, 10.45it/s]  5%|▍         | 6/128 [00:00<00:11, 10.61it/s]  6%|▋         | 8/128 [00:00<00:11, 10.66it/s]  8%|▊         | 10/128 [00:00<00:11, 10.47it/s]  9%|▉         | 12/128 [00:01<00:10, 10.65it/s] 11%|█         | 14/128 [00:01<00:11, 10.18it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.54it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.62it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.70it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.36it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.29it/s] 20%|██        | 26/128 [00:02<00:09, 10.53it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.58it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.64it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.41it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.67it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.24it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.77it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.79it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.98it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.04it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.11it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.96it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.80it/s] 40%|███▉      | 51/128 [00:04<00:07,  9.83it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.05it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.09it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.84it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.00it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.05it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.24it/s] 51%|█████     | 65/128 [00:06<00:05, 10.56it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.40it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.44it/s] 55%|█████▌    | 71/128 [00:06<00:05, 11.01it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.70it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.58it/s] 60%|██████    | 77/128 [00:07<00:04, 10.46it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.20it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.45it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.37it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.31it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.54it/s] 70%|██████▉   | 89/128 [00:08<00:03,  9.95it/s] 71%|███████   | 91/128 [00:08<00:03, 10.25it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.25it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.23it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.18it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.05it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.25it/s] 80%|████████  | 103/128 [00:09<00:02, 10.47it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.60it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.76it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.90it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.81it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.82it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.28it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.51it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.45it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.48it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.59it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.18it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.86it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:26:46,844] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.09it/s]  3%|▎         | 4/128 [00:00<00:12, 10.30it/s]  5%|▍         | 6/128 [00:00<00:11, 10.55it/s]  6%|▋         | 8/128 [00:00<00:11, 10.74it/s]  8%|▊         | 10/128 [00:00<00:11, 10.62it/s]  9%|▉         | 12/128 [00:01<00:10, 10.79it/s] 11%|█         | 14/128 [00:01<00:11, 10.14it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.51it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.68it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.83it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.49it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.30it/s] 20%|██        | 26/128 [00:02<00:09, 10.51it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.63it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.75it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.58it/s] 27%|██▋       | 34/128 [00:03<00:08, 10.79it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.26it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.86it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.87it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.13it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.04it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.97it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.64it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.56it/s] 40%|███▉      | 51/128 [00:04<00:08,  9.46it/s] 41%|████      | 52/128 [00:05<00:07,  9.52it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.55it/s] 42%|████▏     | 54/128 [00:05<00:08,  9.15it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.59it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.55it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.04it/s] 47%|████▋     | 60/128 [00:05<00:06,  9.94it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.27it/s] 50%|█████     | 64/128 [00:06<00:06, 10.27it/s] 52%|█████▏    | 66/128 [00:06<00:06,  9.91it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.15it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.20it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.60it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.44it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.58it/s] 61%|██████    | 78/128 [00:07<00:04, 10.37it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.22it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.22it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.48it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.14it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.09it/s] 70%|███████   | 90/128 [00:08<00:03,  9.98it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.05it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.14it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.84it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.94it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.12it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.31it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.50it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.41it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.68it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.69it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.72it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.53it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.30it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.12it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.29it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.43it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.37it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.98it/s]100%|██████████| 128/128 [00:12<00:00,  9.78it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 14:27:14,845] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 19%|█▉        | 24/128 [00:00<00:00, 234.78it/s] 40%|███▉      | 51/128 [00:00<00:00, 253.11it/s] 62%|██████▎   | 80/128 [00:00<00:00, 266.23it/s] 87%|████████▋ | 111/128 [00:00<00:00, 281.74it/s]100%|██████████| 128/128 [00:00<00:00, 262.94it/s]
[2024-01-18 14:27:15,460] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.65it/s]  2%|▏         | 3/128 [00:00<00:11, 10.53it/s]  4%|▍         | 5/128 [00:00<00:11, 10.81it/s]  5%|▌         | 7/128 [00:00<00:11, 10.79it/s]  7%|▋         | 9/128 [00:00<00:11, 10.76it/s]  9%|▊         | 11/128 [00:01<00:10, 11.29it/s] 10%|█         | 13/128 [00:01<00:10, 10.80it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.21it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.05it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.35it/s] 16%|█▋        | 21/128 [00:01<00:10, 10.49it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.36it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.67it/s] 21%|██        | 27/128 [00:02<00:09, 10.81it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.29it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.54it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.64it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.44it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.16it/s] 30%|███       | 39/128 [00:03<00:09,  9.64it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.61it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.96it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.26it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.29it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.31it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.03it/s] 41%|████      | 52/128 [00:05<00:07, 10.35it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.39it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.30it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.64it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.27it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.95it/s] 50%|█████     | 64/128 [00:06<00:06, 10.16it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.15it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.48it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.27it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.27it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.20it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.13it/s] 61%|██████    | 78/128 [00:07<00:04, 10.39it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.39it/s] 64%|██████▍   | 82/128 [00:07<00:04,  9.94it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.87it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.47it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.75it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.82it/s] 71%|███████   | 91/128 [00:08<00:03, 11.37it/s] 73%|███████▎  | 93/128 [00:08<00:03, 11.40it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.64it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.38it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.36it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.62it/s] 80%|████████  | 103/128 [00:09<00:02, 10.58it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.57it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.68it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.53it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.79it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.98it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.67it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.76it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.52it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.29it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.05it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.91it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.83it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.71it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]
[2024-01-18 14:27:27,807] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.58it/s]  2%|▏         | 3/128 [00:00<00:11, 10.52it/s]  4%|▍         | 5/128 [00:00<00:11, 10.92it/s]  5%|▌         | 7/128 [00:00<00:11, 10.72it/s]  7%|▋         | 9/128 [00:00<00:11, 10.80it/s]  9%|▊         | 11/128 [00:01<00:10, 11.19it/s] 10%|█         | 13/128 [00:01<00:10, 10.76it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.20it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.03it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.33it/s] 16%|█▋        | 21/128 [00:01<00:10, 10.43it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.31it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.65it/s] 21%|██        | 27/128 [00:02<00:09, 10.79it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.29it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.56it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.63it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.44it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.15it/s] 30%|███       | 39/128 [00:03<00:09,  9.66it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.66it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.88it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.25it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.27it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.16it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.08it/s] 41%|████      | 52/128 [00:05<00:07, 10.32it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.41it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.31it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.64it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.19it/s] 48%|████▊     | 62/128 [00:06<00:06,  9.97it/s] 50%|█████     | 64/128 [00:06<00:06, 10.19it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.19it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.49it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.16it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.34it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.16it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.15it/s] 61%|██████    | 78/128 [00:07<00:04, 10.40it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.16it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.09it/s] 66%|██████▌   | 84/128 [00:08<00:04,  9.95it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.95it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.67it/s] 70%|███████   | 90/128 [00:08<00:03, 11.20it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.24it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.83it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.24it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.21it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.53it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.38it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.54it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.62it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.46it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.70it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.88it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.67it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.76it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.81it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.54it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.13it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.93it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.87it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.75it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.55it/s]100%|██████████| 128/128 [00:12<00:00, 10.36it/s]
[2024-01-18 14:27:40,175] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.45it/s]  2%|▏         | 3/128 [00:00<00:11, 10.47it/s]  4%|▍         | 5/128 [00:00<00:11, 10.55it/s]  5%|▌         | 7/128 [00:00<00:11, 10.64it/s]  7%|▋         | 9/128 [00:00<00:11, 10.70it/s]  9%|▊         | 11/128 [00:01<00:10, 11.24it/s] 10%|█         | 13/128 [00:01<00:10, 10.77it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.09it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.94it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.28it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.39it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.31it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.63it/s] 21%|██        | 27/128 [00:02<00:09, 10.44it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.34it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.46it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.66it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.43it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.87it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.73it/s] 30%|███       | 39/128 [00:03<00:09,  9.69it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.53it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.99it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.35it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.26it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.04it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.08it/s] 41%|████      | 52/128 [00:05<00:07, 10.32it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.46it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.32it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.54it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.32it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.04it/s] 50%|█████     | 64/128 [00:06<00:06, 10.33it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.25it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.40it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.26it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.41it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.30it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.24it/s] 61%|██████    | 78/128 [00:07<00:04, 10.34it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.22it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.16it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.10it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.10it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.62it/s] 70%|███████   | 90/128 [00:08<00:03, 11.10it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.47it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.97it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.42it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.32it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.42it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.53it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.64it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.78it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.58it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.64it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.66it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.77it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.79it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.93it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.62it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.92it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.02it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.79it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.71it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]
[2024-01-18 14:27:52,530] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.60it/s]  2%|▏         | 3/128 [00:00<00:12,  9.84it/s]  4%|▍         | 5/128 [00:00<00:11, 10.38it/s]  5%|▌         | 7/128 [00:00<00:11, 10.60it/s]  7%|▋         | 9/128 [00:00<00:11, 10.75it/s]  9%|▊         | 11/128 [00:01<00:10, 11.32it/s] 10%|█         | 13/128 [00:01<00:10, 10.78it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.94it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.94it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.30it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.47it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.34it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.36it/s] 21%|██        | 27/128 [00:02<00:09, 10.58it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.33it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.57it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.74it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.25it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.96it/s] 30%|███       | 39/128 [00:03<00:09,  9.67it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.64it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.02it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.29it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.97it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.98it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.03it/s] 41%|████      | 52/128 [00:05<00:07, 10.34it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.50it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.07it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.44it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.03it/s] 50%|█████     | 64/128 [00:06<00:06, 10.34it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.01it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.32it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.20it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.38it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.31it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.02it/s] 61%|██████    | 78/128 [00:07<00:04, 10.23it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.14it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.12it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.11it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.01it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.42it/s] 70%|███████   | 90/128 [00:08<00:03, 10.96it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.32it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.89it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.41it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.03it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.38it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.45it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.66it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.81it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.38it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.53it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.74it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.80it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.88it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.95it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.38it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.97it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.00it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.85it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:28:04,939] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.49it/s]  2%|▏         | 3/128 [00:00<00:12, 10.04it/s]  4%|▍         | 5/128 [00:00<00:11, 10.47it/s]  5%|▌         | 7/128 [00:00<00:11, 10.75it/s]  7%|▋         | 9/128 [00:00<00:10, 10.87it/s]  9%|▊         | 11/128 [00:01<00:10, 11.32it/s] 10%|█         | 13/128 [00:01<00:10, 10.54it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.99it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.97it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.37it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.51it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.10it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.48it/s] 21%|██        | 27/128 [00:02<00:09, 10.52it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.39it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.59it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.50it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.20it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.86it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.74it/s] 30%|███       | 39/128 [00:03<00:09,  9.70it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.65it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.03it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.83it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.30it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.12it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.19it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.16it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.29it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.02it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.60it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.12it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.17it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.16it/s] 51%|█████     | 65/128 [00:06<00:06, 10.16it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.84it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.45it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.34it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.49it/s] 59%|█████▊    | 75/128 [00:07<00:05,  9.83it/s] 60%|██████    | 77/128 [00:07<00:05, 10.12it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.29it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.19it/s] 65%|██████▍   | 83/128 [00:08<00:04,  9.98it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.36it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.57it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.56it/s] 71%|███████   | 91/128 [00:08<00:03, 11.11it/s] 73%|███████▎  | 93/128 [00:08<00:03, 11.51it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.72it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.24it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.22it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.39it/s] 80%|████████  | 103/128 [00:09<00:02, 10.61it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.74it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.60it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.35it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.52it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.75it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.80it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.87it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.35it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.11it/s] 96%|█████████▌| 123/128 [00:11<00:00,  9.81it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.97it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.75it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]
[2024-01-18 14:28:33,131] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 26%|██▌       | 33/128 [00:00<00:00, 322.32it/s] 52%|█████▏    | 66/128 [00:00<00:00, 311.89it/s] 77%|███████▋  | 98/128 [00:00<00:00, 306.20it/s]100%|██████████| 128/128 [00:00<00:00, 313.02it/s]
[2024-01-18 14:28:33,667] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.80it/s]  2%|▏         | 3/128 [00:00<00:11, 10.66it/s]  4%|▍         | 5/128 [00:00<00:11, 10.37it/s]  5%|▌         | 7/128 [00:00<00:11, 10.49it/s]  7%|▋         | 9/128 [00:00<00:11, 10.68it/s]  9%|▊         | 11/128 [00:01<00:11, 10.40it/s] 10%|█         | 13/128 [00:01<00:10, 10.55it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.14it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.03it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.24it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.88it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.92it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.20it/s] 21%|██        | 27/128 [00:02<00:09, 10.43it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.28it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.66it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.72it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.51it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.46it/s] 30%|███       | 39/128 [00:03<00:08, 10.39it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.15it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.04it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.05it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.83it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.31it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.75it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.03it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.84it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.17it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.03it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.92it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.03it/s] 51%|█████     | 65/128 [00:06<00:06, 10.32it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.98it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.21it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.32it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.97it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.91it/s] 60%|██████    | 77/128 [00:07<00:04, 10.44it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.08it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.10it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.13it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.27it/s] 68%|██████▊   | 87/128 [00:08<00:04, 10.03it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.30it/s] 71%|███████   | 91/128 [00:08<00:03, 10.09it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.03it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.59it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.59it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.03it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.91it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.63it/s] 80%|████████  | 103/128 [00:10<00:02, 10.55it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.60it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.78it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.79it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.66it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.68it/s] 88%|████████▊ | 112/128 [00:11<00:01,  9.53it/s] 88%|████████▊ | 113/128 [00:11<00:01,  9.53it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.76it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.13it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.48it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.50it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.23it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.90it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.26it/s]100%|██████████| 128/128 [00:12<00:00, 10.16it/s]
[2024-01-18 14:28:46,280] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.14it/s]  2%|▏         | 3/128 [00:00<00:11, 10.43it/s]  4%|▍         | 5/128 [00:00<00:12, 10.03it/s]  5%|▌         | 7/128 [00:00<00:11, 10.37it/s]  7%|▋         | 9/128 [00:00<00:11, 10.70it/s]  9%|▊         | 11/128 [00:01<00:11, 10.52it/s] 10%|█         | 13/128 [00:01<00:10, 10.65it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.93it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.94it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.30it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.98it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.04it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.97it/s] 21%|██        | 27/128 [00:02<00:09, 10.25it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.41it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.70it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.87it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.51it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.33it/s] 30%|███       | 39/128 [00:03<00:08, 10.50it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.30it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.24it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.10it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.75it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.40it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.85it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.19it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.92it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.93it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.04it/s] 48%|████▊     | 61/128 [00:06<00:06,  9.94it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.12it/s] 51%|█████     | 65/128 [00:06<00:06, 10.40it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.76it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.10it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.36it/s] 57%|█████▋    | 73/128 [00:07<00:04, 11.00it/s] 59%|█████▊    | 75/128 [00:07<00:04, 11.04it/s] 60%|██████    | 77/128 [00:07<00:04, 10.31it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.89it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.15it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.14it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.39it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.96it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.07it/s] 71%|███████   | 91/128 [00:08<00:03, 10.10it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.01it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.68it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.66it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.78it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.82it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.65it/s] 80%|████████  | 103/128 [00:10<00:02, 10.49it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.67it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.85it/s] 85%|████████▌ | 109/128 [00:10<00:02,  9.49it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.49it/s] 88%|████████▊ | 112/128 [00:11<00:01,  9.54it/s] 88%|████████▊ | 113/128 [00:11<00:01,  9.53it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.83it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.13it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.14it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.43it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.15it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.93it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.29it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]
[2024-01-18 14:28:58,912] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:15,  8.00it/s]  2%|▏         | 3/128 [00:00<00:12, 10.27it/s]  4%|▍         | 5/128 [00:00<00:12,  9.98it/s]  5%|▌         | 7/128 [00:00<00:11, 10.43it/s]  7%|▋         | 9/128 [00:00<00:11, 10.80it/s]  9%|▊         | 11/128 [00:01<00:11, 10.35it/s] 10%|█         | 13/128 [00:01<00:11, 10.36it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.90it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.95it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.38it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.86it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.87it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.78it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.06it/s] 21%|██        | 27/128 [00:02<00:09, 10.28it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.56it/s] 24%|██▍       | 31/128 [00:03<00:08, 10.87it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.70it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.44it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.27it/s] 30%|███       | 39/128 [00:03<00:08, 10.48it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.28it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.93it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.96it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.78it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.60it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.27it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.82it/s] 41%|████      | 52/128 [00:05<00:07,  9.80it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.83it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.66it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.99it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.09it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.05it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.86it/s] 51%|█████     | 65/128 [00:06<00:06, 10.17it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.78it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.12it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.49it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.90it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.74it/s] 60%|██████    | 77/128 [00:07<00:04, 10.22it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.90it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.26it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.07it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.17it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.89it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.16it/s] 71%|███████   | 91/128 [00:08<00:03, 10.21it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.11it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.54it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.56it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.87it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.93it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.83it/s] 80%|████████  | 103/128 [00:10<00:02, 10.65it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.42it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.68it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.63it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.61it/s] 88%|████████▊ | 112/128 [00:11<00:01,  9.73it/s] 88%|████████▊ | 113/128 [00:11<00:01,  9.66it/s] 89%|████████▉ | 114/128 [00:11<00:01,  9.70it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.44it/s] 91%|█████████▏| 117/128 [00:11<00:01,  9.90it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.23it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.50it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.33it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.69it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.13it/s]100%|██████████| 128/128 [00:12<00:00, 10.08it/s]
[2024-01-18 14:29:11,623] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.91it/s]  2%|▏         | 3/128 [00:00<00:11, 10.65it/s]  4%|▍         | 5/128 [00:00<00:11, 10.36it/s]  5%|▌         | 7/128 [00:00<00:11, 10.30it/s]  7%|▋         | 9/128 [00:00<00:11, 10.54it/s]  9%|▊         | 11/128 [00:01<00:11, 10.24it/s] 10%|█         | 13/128 [00:01<00:11, 10.41it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.03it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.83it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.17it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.77it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.87it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.13it/s] 21%|██        | 27/128 [00:02<00:09, 10.20it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.30it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.59it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.71it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.47it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.39it/s] 30%|███       | 39/128 [00:03<00:08, 10.26it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.15it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.02it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.02it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.77it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.76it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.02it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.65it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.00it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.90it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.75it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.18it/s] 46%|████▌     | 59/128 [00:05<00:07,  9.81it/s] 47%|████▋     | 60/128 [00:05<00:07,  9.71it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.09it/s] 49%|████▉     | 63/128 [00:06<00:06,  9.93it/s] 51%|█████     | 65/128 [00:06<00:06, 10.33it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.94it/s] 54%|█████▍    | 69/128 [00:06<00:05,  9.98it/s] 55%|█████▍    | 70/128 [00:06<00:05,  9.83it/s] 56%|█████▋    | 72/128 [00:07<00:05, 11.05it/s] 58%|█████▊    | 74/128 [00:07<00:04, 11.05it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.73it/s] 61%|██████    | 78/128 [00:07<00:04, 10.20it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.03it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.29it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.18it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.19it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.11it/s] 70%|███████   | 90/128 [00:08<00:03, 10.29it/s] 72%|███████▏  | 92/128 [00:09<00:03,  9.94it/s] 73%|███████▎  | 94/128 [00:09<00:03,  9.56it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.74it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.06it/s] 78%|███████▊  | 100/128 [00:09<00:02,  9.92it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.70it/s] 80%|████████  | 103/128 [00:10<00:02, 10.51it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.65it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.83it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.72it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.63it/s] 88%|████████▊ | 112/128 [00:11<00:01,  9.64it/s] 88%|████████▊ | 113/128 [00:11<00:01,  9.58it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.74it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.06it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.39it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.38it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.13it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.80it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.15it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]
[2024-01-18 14:29:24,302] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.08it/s]  2%|▏         | 3/128 [00:00<00:11, 10.47it/s]  4%|▍         | 5/128 [00:00<00:17,  6.93it/s]  5%|▌         | 7/128 [00:00<00:14,  8.17it/s]  7%|▋         | 9/128 [00:01<00:13,  9.14it/s]  8%|▊         | 10/128 [00:01<00:12,  9.22it/s]  9%|▉         | 12/128 [00:01<00:11,  9.67it/s] 11%|█         | 14/128 [00:01<00:11,  9.59it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.47it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.51it/s] 15%|█▍        | 19/128 [00:02<00:10, 10.08it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.79it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.63it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.85it/s] 21%|██        | 27/128 [00:02<00:10, 10.04it/s] 23%|██▎       | 29/128 [00:03<00:09, 10.35it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.69it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.84it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.20it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.17it/s] 30%|███       | 39/128 [00:03<00:08, 10.30it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.18it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.13it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.75it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.70it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.54it/s] 38%|███▊      | 49/128 [00:05<00:08,  9.11it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.70it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.12it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.56it/s] 45%|████▍     | 57/128 [00:05<00:07,  9.94it/s] 46%|████▌     | 59/128 [00:06<00:06,  9.89it/s] 47%|████▋     | 60/128 [00:06<00:06,  9.78it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.21it/s] 50%|█████     | 64/128 [00:06<00:06, 10.00it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.00it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.80it/s] 54%|█████▍    | 69/128 [00:07<00:05, 10.02it/s] 55%|█████▍    | 70/128 [00:07<00:05,  9.91it/s] 56%|█████▋    | 72/128 [00:07<00:05, 11.12it/s] 58%|█████▊    | 74/128 [00:07<00:04, 11.21it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.43it/s] 61%|██████    | 78/128 [00:07<00:04, 10.02it/s] 62%|██████▎   | 80/128 [00:08<00:04,  9.94it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.29it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.17it/s] 67%|██████▋   | 86/128 [00:08<00:04,  9.91it/s] 68%|██████▊   | 87/128 [00:08<00:04,  9.76it/s] 70%|██████▉   | 89/128 [00:09<00:03, 10.04it/s] 71%|███████   | 91/128 [00:09<00:03, 10.09it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.09it/s] 74%|███████▍  | 95/128 [00:09<00:03,  9.56it/s] 75%|███████▌  | 96/128 [00:09<00:03,  9.34it/s] 77%|███████▋  | 98/128 [00:09<00:03,  9.85it/s] 78%|███████▊  | 100/128 [00:10<00:02,  9.79it/s] 79%|███████▉  | 101/128 [00:10<00:02,  9.70it/s] 80%|████████  | 103/128 [00:10<00:02, 10.58it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.74it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.49it/s] 85%|████████▌ | 109/128 [00:11<00:01,  9.51it/s] 86%|████████▌ | 110/128 [00:11<00:01,  9.42it/s] 88%|████████▊ | 112/128 [00:11<00:01,  9.59it/s] 88%|████████▊ | 113/128 [00:11<00:01,  9.57it/s] 90%|████████▉ | 115/128 [00:11<00:01,  9.82it/s] 91%|█████████ | 116/128 [00:11<00:01,  9.68it/s] 92%|█████████▏| 118/128 [00:11<00:01,  9.97it/s] 94%|█████████▍| 120/128 [00:12<00:00, 10.30it/s] 95%|█████████▌| 122/128 [00:12<00:00, 10.13it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.13it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.00it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]100%|██████████| 128/128 [00:12<00:00,  9.90it/s]
[2024-01-18 14:29:53,860] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 18%|█▊        | 23/128 [00:00<00:00, 220.31it/s] 37%|███▋      | 47/128 [00:00<00:00, 231.04it/s] 55%|█████▌    | 71/128 [00:00<00:00, 225.16it/s] 74%|███████▍  | 95/128 [00:00<00:00, 226.67it/s] 92%|█████████▏| 118/128 [00:00<00:00, 219.13it/s]100%|██████████| 128/128 [00:00<00:00, 223.93it/s]
[2024-01-18 14:29:54,562] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.16it/s]  3%|▎         | 4/128 [00:00<00:11, 10.53it/s]  5%|▍         | 6/128 [00:00<00:10, 11.49it/s]  6%|▋         | 8/128 [00:00<00:10, 11.15it/s]  8%|▊         | 10/128 [00:00<00:10, 11.57it/s]  9%|▉         | 12/128 [00:01<00:10, 11.26it/s] 11%|█         | 14/128 [00:01<00:10, 10.38it/s] 12%|█▎        | 16/128 [00:01<00:10, 11.05it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.85it/s] 16%|█▌        | 20/128 [00:01<00:09, 10.80it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.50it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.59it/s] 20%|██        | 26/128 [00:02<00:09, 10.20it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.21it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.65it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.96it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.01it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.07it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.17it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.14it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.18it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.01it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.04it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.40it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.06it/s] 41%|████      | 52/128 [00:04<00:07, 10.46it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.21it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.22it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.53it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.41it/s] 50%|█████     | 64/128 [00:06<00:06, 10.57it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.41it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.41it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.48it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.89it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.74it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.70it/s] 61%|██████    | 78/128 [00:07<00:04, 10.53it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.70it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.60it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.43it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.56it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.51it/s] 70%|███████   | 90/128 [00:08<00:03, 11.04it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.17it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.56it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.44it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.55it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.23it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.15it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.09it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.12it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.06it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.15it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.14it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.21it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.41it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.27it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.54it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.62it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.01it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.94it/s]100%|██████████| 128/128 [00:12<00:00, 10.11it/s]100%|██████████| 128/128 [00:12<00:00, 10.40it/s]
[2024-01-18 14:30:06,875] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.20it/s]  3%|▎         | 4/128 [00:00<00:11, 10.59it/s]  5%|▍         | 6/128 [00:00<00:10, 11.48it/s]  6%|▋         | 8/128 [00:00<00:10, 11.09it/s]  8%|▊         | 10/128 [00:00<00:10, 11.57it/s]  9%|▉         | 12/128 [00:01<00:10, 11.22it/s] 11%|█         | 14/128 [00:01<00:11, 10.36it/s] 12%|█▎        | 16/128 [00:01<00:10, 11.03it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.81it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.77it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.48it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.57it/s] 20%|██        | 26/128 [00:02<00:09, 10.23it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.21it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.70it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.94it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.02it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.08it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.16it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.13it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.15it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.01it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.04it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.40it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.01it/s] 41%|████      | 52/128 [00:04<00:07, 10.43it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.19it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.20it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.50it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.24it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.37it/s] 50%|█████     | 64/128 [00:06<00:06, 10.55it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.37it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.39it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.48it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.76it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.65it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.62it/s] 61%|██████    | 78/128 [00:07<00:04, 10.48it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.66it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.53it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.29it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.43it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.43it/s] 70%|███████   | 90/128 [00:08<00:03, 10.98it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.02it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.46it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.36it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.49it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.18it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.06it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.08it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.11it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.10it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.15it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.13it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.18it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.43it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.29it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.55it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.65it/s] 97%|█████████▋| 124/128 [00:11<00:00,  9.99it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.93it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]100%|██████████| 128/128 [00:12<00:00, 10.38it/s]
[2024-01-18 14:30:19,220] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 11.15it/s]  3%|▎         | 4/128 [00:00<00:11, 10.54it/s]  5%|▍         | 6/128 [00:00<00:10, 11.30it/s]  6%|▋         | 8/128 [00:00<00:10, 11.04it/s]  8%|▊         | 10/128 [00:00<00:10, 11.50it/s]  9%|▉         | 12/128 [00:01<00:10, 11.23it/s] 11%|█         | 14/128 [00:01<00:11, 10.36it/s] 12%|█▎        | 16/128 [00:01<00:10, 11.02it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.75it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.76it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.42it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.58it/s] 20%|██        | 26/128 [00:02<00:09, 10.20it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.12it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.77it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.06it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.09it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.12it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.09it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.26it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.22it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.12it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.11it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.40it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.11it/s] 41%|████      | 52/128 [00:04<00:07, 10.39it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.16it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.15it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.47it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.33it/s] 48%|████▊     | 62/128 [00:05<00:06, 10.22it/s] 50%|█████     | 64/128 [00:06<00:06, 10.50it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.27it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.29it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.48it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.80it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.57it/s] 59%|█████▉    | 76/128 [00:07<00:04, 10.56it/s] 61%|██████    | 78/128 [00:07<00:04, 10.41it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.60it/s] 64%|██████▍   | 82/128 [00:07<00:04, 10.65it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.27it/s] 67%|██████▋   | 86/128 [00:08<00:04, 10.46it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.39it/s] 70%|███████   | 90/128 [00:08<00:03, 10.94it/s] 72%|███████▏  | 92/128 [00:08<00:03, 11.07it/s] 73%|███████▎  | 94/128 [00:08<00:03, 10.49it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.40it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.45it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.14it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.08it/s] 81%|████████▏ | 104/128 [00:09<00:02, 10.04it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.02it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.00it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.09it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.08it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.24it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.37it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.26it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.50it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.61it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.10it/s] 98%|█████████▊| 126/128 [00:12<00:00,  9.90it/s]100%|██████████| 128/128 [00:12<00:00, 10.12it/s]100%|██████████| 128/128 [00:12<00:00, 10.37it/s]
[2024-01-18 14:30:31,576] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.99it/s]  3%|▎         | 4/128 [00:00<00:11, 10.49it/s]  5%|▍         | 6/128 [00:00<00:10, 11.45it/s]  6%|▋         | 8/128 [00:00<00:10, 11.07it/s]  8%|▊         | 10/128 [00:00<00:10, 11.44it/s]  9%|▉         | 12/128 [00:01<00:10, 11.14it/s] 11%|█         | 14/128 [00:01<00:11, 10.29it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.97it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.82it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.72it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.43it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.48it/s] 20%|██        | 26/128 [00:02<00:10, 10.16it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.13it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.63it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.90it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.95it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.98it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.08it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.01it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.04it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.92it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.81it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.25it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.35it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.10it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.09it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.27it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.23it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.27it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.13it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.46it/s] 51%|█████     | 65/128 [00:06<00:06, 10.21it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.21it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.50it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.81it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.54it/s] 59%|█████▊    | 75/128 [00:07<00:04, 10.60it/s] 60%|██████    | 77/128 [00:07<00:04, 10.41it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.61it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.77it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.22it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.43it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.27it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.52it/s] 71%|███████   | 91/128 [00:08<00:03, 11.13it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.94it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.54it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.28it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.30it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.26it/s] 80%|████████  | 103/128 [00:09<00:02, 10.00it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.07it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.09it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.11it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.93it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.15it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.17it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.50it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.26it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.52it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.35it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.00it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.96it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:30:43,985] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:11, 10.98it/s]  3%|▎         | 4/128 [00:00<00:11, 10.47it/s]  5%|▍         | 6/128 [00:00<00:10, 11.44it/s]  6%|▋         | 8/128 [00:00<00:10, 11.07it/s]  8%|▊         | 10/128 [00:00<00:10, 11.49it/s]  9%|▉         | 12/128 [00:01<00:10, 11.17it/s] 11%|█         | 14/128 [00:01<00:11, 10.32it/s] 12%|█▎        | 16/128 [00:01<00:10, 10.98it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.76it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.72it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.39it/s] 19%|█▉        | 24/128 [00:02<00:09, 10.48it/s] 20%|██        | 26/128 [00:02<00:10, 10.16it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.04it/s] 23%|██▎       | 30/128 [00:02<00:10,  9.64it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.90it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.98it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.01it/s] 30%|██▉       | 38/128 [00:03<00:08, 10.08it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.06it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.06it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.96it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.84it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.26it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.25it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.11it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.02it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.24it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.22it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.21it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.16it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.47it/s] 51%|█████     | 65/128 [00:06<00:06, 10.20it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.20it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.49it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.78it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.59it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.60it/s] 60%|██████    | 77/128 [00:07<00:04, 10.44it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.62it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.71it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.38it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.51it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.42it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.58it/s] 71%|███████   | 91/128 [00:08<00:03, 11.18it/s] 73%|███████▎  | 93/128 [00:08<00:03, 11.10it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.66it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.47it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.41it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.30it/s] 80%|████████  | 103/128 [00:09<00:02, 10.09it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.22it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.23it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.22it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.99it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.09it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.31it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.57it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.38it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.59it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.40it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.99it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.95it/s]100%|██████████| 128/128 [00:12<00:00, 10.35it/s]
[2024-01-18 14:31:11,868] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|█▉        | 25/128 [00:00<00:00, 248.89it/s] 39%|███▉      | 50/128 [00:00<00:00, 246.19it/s] 62%|██████▎   | 80/128 [00:00<00:00, 267.03it/s] 84%|████████▍ | 108/128 [00:00<00:00, 271.05it/s]100%|██████████| 128/128 [00:00<00:00, 266.17it/s]
[2024-01-18 14:31:12,479] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.16it/s]  3%|▎         | 4/128 [00:00<00:11, 10.55it/s]  5%|▍         | 6/128 [00:00<00:11, 10.31it/s]  6%|▋         | 8/128 [00:00<00:11, 10.53it/s]  8%|▊         | 10/128 [00:00<00:11, 10.28it/s]  9%|▉         | 12/128 [00:01<00:11, 10.02it/s] 11%|█         | 14/128 [00:01<00:11, 10.05it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.86it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.70it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.18it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.95it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.87it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.80it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.20it/s] 21%|██        | 27/128 [00:02<00:10,  9.95it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.27it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.13it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.49it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.07it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.61it/s] 30%|███       | 39/128 [00:03<00:09,  9.78it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.99it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.36it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.68it/s] 37%|███▋      | 47/128 [00:04<00:08,  9.97it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.79it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.68it/s] 41%|████      | 52/128 [00:05<00:07,  9.97it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.78it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.93it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.10it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.02it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.31it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.16it/s] 51%|█████     | 65/128 [00:06<00:05, 10.57it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.11it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.32it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.21it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.29it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.49it/s] 60%|██████    | 77/128 [00:07<00:04, 10.64it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.47it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.98it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.66it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.81it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.92it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.26it/s] 71%|███████   | 91/128 [00:08<00:03, 10.45it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.64it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.65it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.16it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.34it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.95it/s] 80%|████████  | 103/128 [00:10<00:02,  9.98it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.18it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.53it/s] 85%|████████▌ | 109/128 [00:10<00:01, 11.12it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.62it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.74it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.49it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.34it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.30it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.53it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.59it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.69it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.00it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]
[2024-01-18 14:31:25,022] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.94it/s]  3%|▎         | 4/128 [00:00<00:12, 10.32it/s]  5%|▍         | 6/128 [00:00<00:11, 10.40it/s]  6%|▋         | 8/128 [00:00<00:11, 10.69it/s]  8%|▊         | 10/128 [00:00<00:11, 10.44it/s]  9%|▉         | 12/128 [00:01<00:11, 10.06it/s] 11%|█         | 14/128 [00:01<00:11,  9.96it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.84it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.76it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.19it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.00it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.84it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.67it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.05it/s] 20%|██        | 26/128 [00:02<00:10,  9.75it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.23it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.16it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.50it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.29it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.86it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.77it/s] 30%|███       | 39/128 [00:03<00:09,  9.87it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.17it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.53it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.66it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.08it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.86it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.76it/s] 41%|████      | 52/128 [00:05<00:07, 10.09it/s] 42%|████▏     | 54/128 [00:05<00:07,  9.90it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.78it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.13it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.12it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.47it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.28it/s] 51%|█████     | 65/128 [00:06<00:05, 10.52it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.07it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.45it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.30it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.44it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.45it/s] 60%|██████    | 77/128 [00:07<00:04, 10.52it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.66it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.07it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.82it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.85it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.80it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.31it/s] 71%|███████   | 91/128 [00:08<00:03, 10.53it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.77it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.80it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.07it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.21it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.12it/s] 80%|████████  | 103/128 [00:10<00:02, 10.13it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.34it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.54it/s] 85%|████████▌ | 109/128 [00:10<00:01, 11.04it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.76it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.85it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.66it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.34it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.21it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.53it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.67it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.76it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.99it/s]100%|██████████| 128/128 [00:12<00:00, 10.25it/s]
[2024-01-18 14:31:37,521] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.99it/s]  3%|▎         | 4/128 [00:00<00:11, 10.38it/s]  5%|▍         | 6/128 [00:00<00:11, 10.67it/s]  6%|▋         | 8/128 [00:00<00:11, 10.67it/s]  8%|▊         | 10/128 [00:00<00:11, 10.35it/s]  9%|▉         | 12/128 [00:01<00:11,  9.97it/s] 11%|█         | 14/128 [00:01<00:11,  9.96it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.01it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.99it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.91it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.89it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.79it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.13it/s] 21%|██        | 27/128 [00:02<00:09, 10.14it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.27it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.15it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.50it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.05it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.77it/s] 30%|███       | 39/128 [00:03<00:09,  9.81it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.02it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.36it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.63it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.12it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.83it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.65it/s] 41%|████      | 52/128 [00:05<00:07,  9.96it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.75it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.87it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.23it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.09it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.33it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.16it/s] 51%|█████     | 65/128 [00:06<00:05, 10.53it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.18it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.44it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.20it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.33it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.47it/s] 60%|██████    | 77/128 [00:07<00:04, 10.61it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.61it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.00it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.72it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.80it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.90it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.32it/s] 71%|███████   | 91/128 [00:08<00:03, 10.48it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.67it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.68it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.16it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.23it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.10it/s] 80%|████████  | 103/128 [00:10<00:02, 10.01it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.25it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.56it/s] 85%|████████▌ | 109/128 [00:10<00:01, 11.09it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.73it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.71it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.52it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.34it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.29it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.50it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.53it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.65it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.97it/s]100%|██████████| 128/128 [00:12<00:00, 10.23it/s]
[2024-01-18 14:31:50,038] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.66it/s]  3%|▎         | 4/128 [00:00<00:12, 10.17it/s]  5%|▍         | 6/128 [00:00<00:11, 10.37it/s]  6%|▋         | 8/128 [00:00<00:11, 10.63it/s]  8%|▊         | 10/128 [00:00<00:11, 10.41it/s]  9%|▉         | 12/128 [00:01<00:11,  9.95it/s] 11%|█         | 14/128 [00:01<00:11,  9.90it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.85it/s] 13%|█▎        | 17/128 [00:01<00:11,  9.76it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.20it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.03it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.75it/s] 20%|█▉        | 25/128 [00:02<00:10,  9.93it/s] 20%|██        | 26/128 [00:02<00:10,  9.84it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.21it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.19it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.39it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.22it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.83it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.73it/s] 30%|███       | 39/128 [00:03<00:09,  9.84it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.16it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.36it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.55it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.00it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.79it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.70it/s] 41%|████      | 52/128 [00:05<00:07,  9.94it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.72it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.84it/s] 44%|████▍     | 56/128 [00:05<00:07,  9.84it/s] 45%|████▌     | 58/128 [00:05<00:07,  9.98it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.35it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.14it/s] 50%|█████     | 64/128 [00:06<00:06, 10.43it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.22it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.22it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.39it/s] 56%|█████▋    | 72/128 [00:07<00:05, 10.21it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.35it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.38it/s] 61%|██████    | 78/128 [00:07<00:04, 10.49it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.57it/s] 64%|██████▍   | 82/128 [00:08<00:04, 10.83it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.89it/s] 67%|██████▋   | 86/128 [00:08<00:03, 10.89it/s] 69%|██████▉   | 88/128 [00:08<00:03, 10.55it/s] 70%|███████   | 90/128 [00:08<00:03, 10.44it/s] 72%|███████▏  | 92/128 [00:09<00:03, 10.64it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.77it/s] 75%|███████▌  | 96/128 [00:09<00:03, 10.38it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.09it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.03it/s] 80%|███████▉  | 102/128 [00:10<00:02, 10.04it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.27it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.42it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.98it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.97it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.67it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.82it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.26it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.08it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.10it/s] 95%|█████████▌| 122/128 [00:11<00:00,  9.65it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.62it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.68it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.94it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 14:32:02,595] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12, 10.02it/s]  3%|▎         | 4/128 [00:00<00:11, 10.38it/s]  5%|▍         | 6/128 [00:00<00:11, 10.64it/s]  6%|▋         | 8/128 [00:00<00:11, 10.64it/s]  8%|▊         | 10/128 [00:00<00:11, 10.34it/s]  9%|▉         | 12/128 [00:01<00:11,  9.99it/s] 11%|█         | 14/128 [00:01<00:11,  9.95it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.98it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.96it/s] 16%|█▌        | 20/128 [00:01<00:10,  9.87it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.90it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.78it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.12it/s] 21%|██        | 27/128 [00:02<00:10, 10.09it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.27it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.13it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.47it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.04it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.74it/s] 30%|███       | 39/128 [00:03<00:09,  9.75it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.02it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.33it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.58it/s] 37%|███▋      | 47/128 [00:04<00:08, 10.03it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.76it/s] 39%|███▉      | 50/128 [00:04<00:08,  9.67it/s] 41%|████      | 52/128 [00:05<00:07,  9.98it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.76it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.88it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.11it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.02it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.35it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.16it/s] 51%|█████     | 65/128 [00:06<00:05, 10.55it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.06it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.37it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.19it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.31it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.48it/s] 60%|██████    | 77/128 [00:07<00:04, 10.52it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.65it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.95it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.69it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.82it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.90it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.29it/s] 71%|███████   | 91/128 [00:08<00:03, 10.40it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.64it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.67it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.16it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.20it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.03it/s] 80%|████████  | 103/128 [00:10<00:02, 10.01it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.25it/s] 84%|████████▎ | 107/128 [00:10<00:01, 10.57it/s] 85%|████████▌ | 109/128 [00:10<00:01, 11.00it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.67it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.68it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.50it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.34it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.20it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.49it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.55it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.67it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.00it/s]100%|██████████| 128/128 [00:12<00:00, 10.21it/s]
[2024-01-18 14:32:30,741] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 23%|██▎       | 30/128 [00:00<00:00, 288.74it/s] 46%|████▌     | 59/128 [00:00<00:00, 274.90it/s] 69%|██████▉   | 88/128 [00:00<00:00, 278.59it/s] 93%|█████████▎| 119/128 [00:00<00:00, 287.18it/s]100%|██████████| 128/128 [00:00<00:00, 280.00it/s]
[2024-01-18 14:32:31,327] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.70it/s]  2%|▏         | 2/128 [00:00<00:13,  9.59it/s]  3%|▎         | 4/128 [00:00<00:11, 10.37it/s]  5%|▍         | 6/128 [00:00<00:12,  9.75it/s]  5%|▌         | 7/128 [00:00<00:12,  9.67it/s]  7%|▋         | 9/128 [00:00<00:11, 10.04it/s]  8%|▊         | 10/128 [00:01<00:12,  9.78it/s]  9%|▊         | 11/128 [00:01<00:12,  9.66it/s]  9%|▉         | 12/128 [00:01<00:12,  9.58it/s] 11%|█         | 14/128 [00:01<00:11, 10.19it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.81it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.20it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.01it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.96it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.81it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.25it/s] 21%|██        | 27/128 [00:02<00:09, 10.12it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.20it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.11it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.80it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.25it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.87it/s] 30%|███       | 39/128 [00:03<00:08, 10.13it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.00it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.02it/s] 35%|███▌      | 45/128 [00:04<00:08, 10.04it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.22it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.13it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.60it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.47it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.14it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.30it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.48it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.18it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.21it/s] 51%|█████     | 65/128 [00:06<00:05, 10.55it/s] 52%|█████▏    | 67/128 [00:06<00:06, 10.02it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.78it/s] 55%|█████▌    | 71/128 [00:07<00:05,  9.96it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.04it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.28it/s] 60%|██████    | 77/128 [00:07<00:05, 10.13it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.38it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.40it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.49it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.31it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.58it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.30it/s] 71%|███████   | 91/128 [00:08<00:03, 10.17it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.39it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.54it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.42it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.19it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.30it/s] 80%|████████  | 103/128 [00:10<00:02,  9.86it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.77it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.69it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.65it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.75it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.65it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.93it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.28it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.54it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.63it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.68it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.52it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.91it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.16it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.85it/s]100%|██████████| 128/128 [00:12<00:00, 10.14it/s]
[2024-01-18 14:32:43,957] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.29it/s]  2%|▏         | 2/128 [00:00<00:13,  9.46it/s]  3%|▎         | 4/128 [00:00<00:12,  9.92it/s]  4%|▍         | 5/128 [00:00<00:12,  9.71it/s]  5%|▍         | 6/128 [00:00<00:12,  9.62it/s]  5%|▌         | 7/128 [00:00<00:12,  9.54it/s]  7%|▋         | 9/128 [00:00<00:11, 10.21it/s]  9%|▊         | 11/128 [00:01<00:12,  9.68it/s]  9%|▉         | 12/128 [00:01<00:12,  9.60it/s] 11%|█         | 14/128 [00:01<00:11,  9.95it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.86it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.70it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.21it/s] 16%|█▌        | 20/128 [00:02<00:10, 10.05it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.93it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.64it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.13it/s] 20%|██        | 26/128 [00:02<00:10,  9.99it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.37it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.43it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.93it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.68it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.15it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.86it/s] 30%|███       | 39/128 [00:03<00:08, 10.24it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.03it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.95it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.74it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.12it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.13it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.25it/s] 41%|████      | 52/128 [00:05<00:07, 10.82it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.18it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.15it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.40it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.56it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.65it/s] 50%|█████     | 64/128 [00:06<00:05, 10.74it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.22it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.83it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.76it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.06it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.08it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.14it/s] 60%|██████    | 77/128 [00:07<00:05, 10.11it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.37it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.47it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.59it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.16it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.47it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.33it/s] 71%|███████   | 91/128 [00:08<00:03, 10.25it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.44it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.49it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.32it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.20it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.40it/s] 80%|████████  | 103/128 [00:10<00:02,  9.91it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.81it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.69it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.51it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.78it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.71it/s] 87%|████████▋ | 111/128 [00:10<00:01,  9.97it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.36it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.60it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.52it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.69it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.55it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.98it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.22it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.76it/s]100%|██████████| 128/128 [00:12<00:00, 10.12it/s]
[2024-01-18 14:32:56,612] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.52it/s]  2%|▏         | 2/128 [00:00<00:13,  9.40it/s]  3%|▎         | 4/128 [00:00<00:12,  9.86it/s]  4%|▍         | 5/128 [00:00<00:12,  9.69it/s]  5%|▍         | 6/128 [00:00<00:12,  9.61it/s]  5%|▌         | 7/128 [00:00<00:12,  9.46it/s]  7%|▋         | 9/128 [00:00<00:11, 10.01it/s]  8%|▊         | 10/128 [00:01<00:12,  9.82it/s]  9%|▊         | 11/128 [00:01<00:12,  9.55it/s]  9%|▉         | 12/128 [00:01<00:12,  9.52it/s] 11%|█         | 14/128 [00:01<00:11, 10.05it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.81it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.70it/s] 14%|█▍        | 18/128 [00:01<00:11,  9.99it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.83it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.17it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.88it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.71it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.07it/s] 20%|██        | 26/128 [00:02<00:10,  9.93it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.15it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.40it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.91it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.81it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.16it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.80it/s] 30%|███       | 39/128 [00:03<00:08, 10.10it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.03it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.07it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.93it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.21it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.01it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.62it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.42it/s] 43%|████▎     | 55/128 [00:05<00:07,  9.99it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.30it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.25it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.19it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.18it/s] 51%|█████     | 65/128 [00:06<00:06, 10.40it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.99it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.58it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.00it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.04it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.20it/s] 60%|██████    | 77/128 [00:07<00:05, 10.13it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.18it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.45it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.56it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.33it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.46it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.23it/s] 71%|███████   | 91/128 [00:09<00:03, 10.18it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.43it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.62it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.33it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.15it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.29it/s] 80%|████████  | 103/128 [00:10<00:02,  9.93it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.84it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.77it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.55it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.76it/s] 85%|████████▌ | 109/128 [00:10<00:02,  9.50it/s] 87%|████████▋ | 111/128 [00:11<00:01,  9.95it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.34it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.60it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.53it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.67it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.45it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.03it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.26it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.79it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]
[2024-01-18 14:33:09,294] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:14,  8.92it/s]  2%|▏         | 2/128 [00:00<00:14,  8.99it/s]  3%|▎         | 4/128 [00:00<00:12, 10.09it/s]  4%|▍         | 5/128 [00:00<00:12,  9.79it/s]  5%|▍         | 6/128 [00:00<00:12,  9.69it/s]  5%|▌         | 7/128 [00:00<00:12,  9.61it/s]  7%|▋         | 9/128 [00:00<00:11, 10.06it/s]  8%|▊         | 10/128 [00:01<00:11,  9.86it/s]  9%|▊         | 11/128 [00:01<00:12,  9.49it/s]  9%|▉         | 12/128 [00:01<00:12,  9.26it/s] 11%|█         | 14/128 [00:01<00:11,  9.97it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.85it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.72it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.13it/s] 15%|█▍        | 19/128 [00:01<00:11,  9.89it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.07it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.72it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.58it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.08it/s] 20%|██        | 26/128 [00:02<00:10,  9.97it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.28it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.42it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.80it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.73it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.21it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.93it/s] 30%|███       | 39/128 [00:03<00:08, 10.14it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.94it/s] 33%|███▎      | 42/128 [00:04<00:08,  9.77it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.87it/s] 36%|███▌      | 46/128 [00:04<00:08, 10.20it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.09it/s] 39%|███▉      | 50/128 [00:05<00:07, 10.24it/s] 41%|████      | 52/128 [00:05<00:07, 10.64it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.25it/s] 44%|████▍     | 56/128 [00:05<00:07, 10.18it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.36it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.51it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.53it/s] 50%|█████     | 64/128 [00:06<00:05, 10.80it/s] 52%|█████▏    | 66/128 [00:06<00:06, 10.29it/s] 53%|█████▎    | 68/128 [00:06<00:06,  9.85it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.69it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.06it/s] 57%|█████▋    | 73/128 [00:07<00:05,  9.99it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.24it/s] 60%|██████    | 77/128 [00:07<00:05, 10.16it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.31it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.51it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.44it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.27it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.52it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.27it/s] 71%|███████   | 91/128 [00:09<00:03, 10.24it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.35it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.54it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.38it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.23it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.30it/s] 80%|████████  | 103/128 [00:10<00:02,  9.82it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.75it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.68it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.60it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.85it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.62it/s] 87%|████████▋ | 111/128 [00:11<00:01, 10.02it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.24it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.50it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.57it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.76it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.50it/s] 96%|█████████▌| 123/128 [00:12<00:00,  9.93it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.17it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.81it/s]100%|██████████| 128/128 [00:12<00:00, 10.10it/s]
[2024-01-18 14:33:21,975] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.49it/s]  2%|▏         | 2/128 [00:00<00:13,  9.17it/s]  3%|▎         | 4/128 [00:00<00:12, 10.04it/s]  4%|▍         | 5/128 [00:00<00:12,  9.62it/s]  5%|▍         | 6/128 [00:00<00:12,  9.57it/s]  5%|▌         | 7/128 [00:00<00:12,  9.52it/s]  7%|▋         | 9/128 [00:00<00:11, 10.15it/s]  8%|▊         | 10/128 [00:01<00:11,  9.92it/s]  9%|▊         | 11/128 [00:01<00:12,  9.53it/s]  9%|▉         | 12/128 [00:01<00:12,  9.47it/s] 11%|█         | 14/128 [00:01<00:11,  9.98it/s] 12%|█▏        | 15/128 [00:01<00:11,  9.74it/s] 12%|█▎        | 16/128 [00:01<00:11,  9.64it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.17it/s] 15%|█▍        | 19/128 [00:01<00:10,  9.95it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.14it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.84it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.65it/s] 19%|█▉        | 24/128 [00:02<00:10,  9.72it/s] 20%|██        | 26/128 [00:02<00:10,  9.91it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.29it/s] 23%|██▎       | 30/128 [00:03<00:09, 10.47it/s] 25%|██▌       | 32/128 [00:03<00:09,  9.83it/s] 26%|██▌       | 33/128 [00:03<00:09,  9.74it/s] 27%|██▋       | 35/128 [00:03<00:09, 10.21it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.76it/s] 30%|███       | 39/128 [00:03<00:08, 10.17it/s] 32%|███▏      | 41/128 [00:04<00:08,  9.97it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.98it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.96it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.13it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.08it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.56it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.34it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.04it/s] 45%|████▍     | 57/128 [00:05<00:07, 10.12it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.34it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.15it/s] 49%|████▉     | 63/128 [00:06<00:05, 11.13it/s] 51%|█████     | 65/128 [00:06<00:06, 10.40it/s] 52%|█████▏    | 67/128 [00:06<00:06,  9.86it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.66it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.04it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.00it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.19it/s] 60%|██████    | 77/128 [00:07<00:05, 10.00it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.24it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.46it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.59it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.26it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.48it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.12it/s] 71%|███████   | 91/128 [00:09<00:03, 10.15it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.43it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.52it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.37it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.04it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.27it/s] 80%|████████  | 103/128 [00:10<00:02,  9.89it/s] 81%|████████▏ | 104/128 [00:10<00:02,  9.79it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.61it/s] 83%|████████▎ | 106/128 [00:10<00:02,  9.55it/s] 84%|████████▍ | 108/128 [00:10<00:02,  9.61it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.56it/s] 87%|████████▋ | 111/128 [00:11<00:01,  9.96it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.37it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.47it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.55it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.55it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.47it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.02it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.17it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.80it/s]100%|██████████| 128/128 [00:12<00:00,  9.80it/s]100%|██████████| 128/128 [00:12<00:00, 10.07it/s]
[2024-01-18 14:33:50,574] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 24%|██▍       | 31/128 [00:00<00:00, 306.11it/s] 48%|████▊     | 62/128 [00:00<00:00, 287.29it/s] 72%|███████▏  | 92/128 [00:00<00:00, 290.76it/s] 95%|█████████▌| 122/128 [00:00<00:00, 286.11it/s]100%|██████████| 128/128 [00:00<00:00, 288.30it/s]
[2024-01-18 14:33:51,145] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.91it/s]  2%|▏         | 3/128 [00:00<00:12,  9.74it/s]  4%|▍         | 5/128 [00:00<00:11, 10.25it/s]  5%|▌         | 7/128 [00:00<00:12, 10.02it/s]  7%|▋         | 9/128 [00:00<00:11, 10.15it/s]  9%|▊         | 11/128 [00:01<00:11,  9.85it/s] 10%|█         | 13/128 [00:01<00:11, 10.27it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.43it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.25it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.04it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.08it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.07it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.14it/s] 21%|██        | 27/128 [00:02<00:09, 10.31it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.14it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.26it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.45it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.57it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.31it/s] 30%|███       | 39/128 [00:03<00:09,  9.82it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.62it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.53it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.79it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.74it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.69it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.21it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.00it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.90it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.98it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.38it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.45it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.51it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.52it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.66it/s] 51%|█████     | 65/128 [00:06<00:05, 10.82it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.56it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.69it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.35it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.63it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.32it/s] 60%|██████    | 77/128 [00:07<00:04, 10.21it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.04it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.03it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.19it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.36it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.51it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.45it/s] 71%|███████   | 91/128 [00:08<00:03, 10.30it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.22it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.50it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.31it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.56it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.63it/s] 80%|████████  | 103/128 [00:10<00:02, 10.60it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.17it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.86it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.94it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.13it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.73it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.84it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.91it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.95it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.71it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.31it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.84it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.52it/s]100%|██████████| 128/128 [00:12<00:00, 10.29it/s]
[2024-01-18 14:34:03,592] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.92it/s]  2%|▏         | 3/128 [00:00<00:12,  9.73it/s]  4%|▍         | 5/128 [00:00<00:12, 10.10it/s]  5%|▌         | 7/128 [00:00<00:12,  9.90it/s]  7%|▋         | 9/128 [00:00<00:11, 10.28it/s]  9%|▊         | 11/128 [00:01<00:11,  9.90it/s] 10%|█         | 13/128 [00:01<00:11, 10.35it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.36it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.20it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.13it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.16it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.15it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.02it/s] 21%|██        | 27/128 [00:02<00:09, 10.30it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.21it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.37it/s] 26%|██▌       | 33/128 [00:03<00:08, 10.56it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.52it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.31it/s] 30%|███       | 39/128 [00:03<00:09,  9.87it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.73it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.62it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.87it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.67it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.68it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.49it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.15it/s] 38%|███▊      | 49/128 [00:04<00:07,  9.92it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.03it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.08it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.27it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.48it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.57it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.70it/s] 49%|████▉     | 63/128 [00:06<00:05, 10.84it/s] 51%|█████     | 65/128 [00:06<00:05, 10.83it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.49it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.71it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.52it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.76it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.39it/s] 60%|██████    | 77/128 [00:07<00:05, 10.15it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.02it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.06it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.37it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.43it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.42it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.38it/s] 71%|███████   | 91/128 [00:08<00:03, 10.29it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.33it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.58it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.18it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.39it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.51it/s] 80%|████████  | 103/128 [00:10<00:02, 10.62it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.23it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.70it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.83it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.02it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.73it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.90it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.91it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.70it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.47it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.29it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.85it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.56it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]
[2024-01-18 14:34:16,047] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:13,  9.65it/s]  2%|▏         | 3/128 [00:00<00:13,  9.47it/s]  4%|▍         | 5/128 [00:00<00:12, 10.14it/s]  5%|▌         | 7/128 [00:00<00:12, 10.00it/s]  7%|▋         | 9/128 [00:00<00:11, 10.38it/s]  9%|▊         | 11/128 [00:01<00:12,  9.68it/s] 10%|█         | 13/128 [00:01<00:11, 10.17it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.27it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.21it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.20it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.92it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.78it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.13it/s] 20%|██        | 26/128 [00:02<00:10, 10.06it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.32it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.26it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.11it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.38it/s] 28%|██▊       | 36/128 [00:03<00:09, 10.17it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.74it/s] 31%|███▏      | 40/128 [00:03<00:08,  9.86it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.50it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.68it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.63it/s] 35%|███▌      | 45/128 [00:04<00:08,  9.68it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.54it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.19it/s] 39%|███▉      | 50/128 [00:04<00:07, 10.18it/s] 41%|████      | 52/128 [00:05<00:07,  9.87it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.78it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.17it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.43it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.57it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.73it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.54it/s] 51%|█████     | 65/128 [00:06<00:05, 10.73it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.40it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.66it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.53it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.61it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.23it/s] 60%|██████    | 77/128 [00:07<00:05, 10.08it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.98it/s] 63%|██████▎   | 81/128 [00:07<00:04, 10.08it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.32it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.23it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.42it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.31it/s] 71%|███████   | 91/128 [00:08<00:03, 10.32it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.33it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.31it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.21it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.37it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.58it/s] 80%|████████  | 103/128 [00:10<00:02, 10.67it/s] 82%|████████▏ | 105/128 [00:10<00:02,  9.99it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.77it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.78it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.04it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.73it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.77it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.80it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.82it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.56it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.39it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.92it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.41it/s]100%|██████████| 128/128 [00:12<00:00, 10.22it/s]
[2024-01-18 14:34:28,577] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.81it/s]  2%|▏         | 3/128 [00:00<00:13,  9.59it/s]  4%|▍         | 5/128 [00:00<00:11, 10.32it/s]  5%|▌         | 7/128 [00:00<00:12,  9.91it/s]  7%|▋         | 9/128 [00:00<00:11, 10.16it/s]  9%|▊         | 11/128 [00:01<00:11,  9.81it/s] 10%|█         | 13/128 [00:01<00:11, 10.17it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.39it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.28it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.06it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.03it/s] 18%|█▊        | 23/128 [00:02<00:10,  9.95it/s] 20%|█▉        | 25/128 [00:02<00:10, 10.03it/s] 21%|██        | 27/128 [00:02<00:09, 10.36it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.16it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.15it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.33it/s] 27%|██▋       | 35/128 [00:03<00:08, 10.39it/s] 29%|██▉       | 37/128 [00:03<00:08, 10.30it/s] 30%|███       | 39/128 [00:03<00:09,  9.80it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.50it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.40it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.64it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.55it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.65it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.15it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.91it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.76it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.84it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.20it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.48it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.58it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.44it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.63it/s] 51%|█████     | 65/128 [00:06<00:05, 10.67it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.45it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.70it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.39it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.48it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.20it/s] 60%|██████    | 77/128 [00:07<00:05, 10.09it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.02it/s] 63%|██████▎   | 81/128 [00:08<00:04, 10.01it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.13it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.29it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.39it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.38it/s] 71%|███████   | 91/128 [00:08<00:03, 10.35it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.05it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.35it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.18it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.42it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.62it/s] 80%|████████  | 103/128 [00:10<00:02, 10.46it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.03it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.70it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.83it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.14it/s] 88%|████████▊ | 113/128 [00:11<00:01, 10.63it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.63it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.73it/s] 93%|█████████▎| 119/128 [00:11<00:00, 10.75it/s] 95%|█████████▍| 121/128 [00:11<00:00, 10.57it/s] 96%|█████████▌| 123/128 [00:12<00:00, 10.42it/s] 98%|█████████▊| 125/128 [00:12<00:00, 10.58it/s] 99%|█████████▉| 127/128 [00:12<00:00, 10.35it/s]100%|██████████| 128/128 [00:12<00:00, 10.20it/s]
[2024-01-18 14:34:41,135] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  2%|▏         | 2/128 [00:00<00:12,  9.78it/s]  2%|▏         | 3/128 [00:00<00:12,  9.66it/s]  4%|▍         | 5/128 [00:00<00:11, 10.36it/s]  5%|▌         | 7/128 [00:00<00:12,  9.72it/s]  7%|▋         | 9/128 [00:00<00:11, 10.18it/s]  9%|▊         | 11/128 [00:01<00:12,  9.72it/s] 10%|█         | 13/128 [00:01<00:11, 10.19it/s] 12%|█▏        | 15/128 [00:01<00:10, 10.41it/s] 13%|█▎        | 17/128 [00:01<00:11, 10.08it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.00it/s] 16%|█▋        | 21/128 [00:02<00:10,  9.93it/s] 17%|█▋        | 22/128 [00:02<00:10,  9.82it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.21it/s] 20%|██        | 26/128 [00:02<00:09, 10.22it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.13it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.12it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.19it/s] 27%|██▋       | 34/128 [00:03<00:09, 10.43it/s] 28%|██▊       | 36/128 [00:03<00:08, 10.33it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.57it/s] 31%|███▏      | 40/128 [00:03<00:09,  9.74it/s] 32%|███▏      | 41/128 [00:04<00:09,  9.53it/s] 34%|███▎      | 43/128 [00:04<00:08,  9.76it/s] 34%|███▍      | 44/128 [00:04<00:08,  9.71it/s] 36%|███▌      | 46/128 [00:04<00:08,  9.72it/s] 38%|███▊      | 48/128 [00:04<00:08,  9.97it/s] 38%|███▊      | 49/128 [00:04<00:08,  9.77it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.84it/s] 41%|████▏     | 53/128 [00:05<00:07,  9.88it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.27it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.53it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.30it/s] 48%|████▊     | 61/128 [00:06<00:06, 10.51it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.55it/s] 51%|█████     | 65/128 [00:06<00:05, 10.74it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.51it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.53it/s] 55%|█████▌    | 71/128 [00:07<00:05, 10.32it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.52it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.27it/s] 60%|██████    | 77/128 [00:07<00:05, 10.19it/s] 62%|██████▏   | 79/128 [00:07<00:04,  9.93it/s] 63%|██████▎   | 81/128 [00:08<00:04,  9.88it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.15it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.24it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.47it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.40it/s] 71%|███████   | 91/128 [00:08<00:03, 10.11it/s] 73%|███████▎  | 93/128 [00:09<00:03, 10.13it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.35it/s] 76%|███████▌  | 97/128 [00:09<00:03, 10.27it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.51it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.37it/s] 80%|████████  | 103/128 [00:10<00:02, 10.50it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.02it/s] 84%|████████▎ | 107/128 [00:10<00:02,  9.80it/s] 85%|████████▌ | 109/128 [00:10<00:01,  9.88it/s] 86%|████████▌ | 110/128 [00:10<00:01,  9.84it/s] 88%|████████▊ | 112/128 [00:11<00:01, 10.18it/s] 89%|████████▉ | 114/128 [00:11<00:01, 10.87it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.82it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.94it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.68it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.18it/s] 97%|█████████▋| 124/128 [00:12<00:00, 10.71it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.35it/s]100%|██████████| 128/128 [00:12<00:00, 10.28it/s]100%|██████████| 128/128 [00:12<00:00, 10.19it/s]
[2024-01-18 14:35:09,187] [openicl.icl_retriever.icl_random_retriever] [INFO] Retrieving data for test set...
  0%|          | 0/128 [00:00<?, ?it/s] 20%|█▉        | 25/128 [00:00<00:00, 244.55it/s] 40%|███▉      | 51/128 [00:00<00:00, 253.38it/s] 61%|██████    | 78/128 [00:00<00:00, 256.06it/s] 84%|████████▎ | 107/128 [00:00<00:00, 265.14it/s]100%|██████████| 128/128 [00:00<00:00, 253.77it/s]
[2024-01-18 14:35:09,818] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '0'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.69it/s]  2%|▏         | 2/128 [00:00<00:13,  9.65it/s]  3%|▎         | 4/128 [00:00<00:12,  9.78it/s]  5%|▍         | 6/128 [00:00<00:11, 10.18it/s]  6%|▋         | 8/128 [00:00<00:11, 10.13it/s]  8%|▊         | 10/128 [00:00<00:11, 10.59it/s]  9%|▉         | 12/128 [00:01<00:10, 10.81it/s] 11%|█         | 14/128 [00:01<00:11, 10.21it/s] 12%|█▎        | 16/128 [00:01<00:11, 10.09it/s] 14%|█▍        | 18/128 [00:01<00:10, 10.72it/s] 16%|█▌        | 20/128 [00:01<00:10, 10.46it/s] 17%|█▋        | 22/128 [00:02<00:10, 10.16it/s] 19%|█▉        | 24/128 [00:02<00:10, 10.08it/s] 20%|██        | 26/128 [00:02<00:10, 10.09it/s] 22%|██▏       | 28/128 [00:02<00:09, 10.22it/s] 23%|██▎       | 30/128 [00:02<00:09, 10.24it/s] 25%|██▌       | 32/128 [00:03<00:09, 10.19it/s] 27%|██▋       | 34/128 [00:03<00:09,  9.98it/s] 28%|██▊       | 36/128 [00:03<00:09,  9.63it/s] 30%|██▉       | 38/128 [00:03<00:09,  9.75it/s] 31%|███▏      | 40/128 [00:03<00:08, 10.15it/s] 33%|███▎      | 42/128 [00:04<00:08, 10.38it/s] 34%|███▍      | 44/128 [00:04<00:08, 10.35it/s] 36%|███▌      | 46/128 [00:04<00:07, 10.40it/s] 38%|███▊      | 48/128 [00:04<00:07, 10.27it/s] 39%|███▉      | 50/128 [00:04<00:07,  9.97it/s] 41%|████      | 52/128 [00:05<00:07, 10.31it/s] 42%|████▏     | 54/128 [00:05<00:07, 10.46it/s] 44%|████▍     | 56/128 [00:05<00:06, 10.42it/s] 45%|████▌     | 58/128 [00:05<00:06, 10.38it/s] 47%|████▋     | 60/128 [00:05<00:06, 10.26it/s] 48%|████▊     | 62/128 [00:06<00:06, 10.81it/s] 50%|█████     | 64/128 [00:06<00:05, 10.89it/s] 52%|█████▏    | 66/128 [00:06<00:05, 10.79it/s] 53%|█████▎    | 68/128 [00:06<00:05, 10.49it/s] 55%|█████▍    | 70/128 [00:06<00:05, 10.27it/s] 56%|█████▋    | 72/128 [00:06<00:05, 10.50it/s] 58%|█████▊    | 74/128 [00:07<00:05, 10.64it/s] 59%|█████▉    | 76/128 [00:07<00:05, 10.34it/s] 61%|██████    | 78/128 [00:07<00:04, 10.50it/s] 62%|██████▎   | 80/128 [00:07<00:04, 10.72it/s] 64%|██████▍   | 82/128 [00:07<00:04, 11.22it/s] 66%|██████▌   | 84/128 [00:08<00:04, 10.91it/s] 67%|██████▋   | 86/128 [00:08<00:03, 11.10it/s] 69%|██████▉   | 88/128 [00:08<00:03, 11.10it/s] 70%|███████   | 90/128 [00:08<00:03, 10.47it/s] 72%|███████▏  | 92/128 [00:08<00:03, 10.68it/s] 73%|███████▎  | 94/128 [00:09<00:03, 10.52it/s] 75%|███████▌  | 96/128 [00:09<00:02, 10.79it/s] 77%|███████▋  | 98/128 [00:09<00:02, 10.53it/s] 78%|███████▊  | 100/128 [00:09<00:02, 10.42it/s] 80%|███████▉  | 102/128 [00:09<00:02, 10.28it/s] 81%|████████▏ | 104/128 [00:10<00:02, 10.27it/s] 83%|████████▎ | 106/128 [00:10<00:02, 10.53it/s] 84%|████████▍ | 108/128 [00:10<00:01, 10.29it/s] 86%|████████▌ | 110/128 [00:10<00:01, 10.45it/s] 88%|████████▊ | 112/128 [00:10<00:01, 10.64it/s] 89%|████████▉ | 114/128 [00:10<00:01, 10.73it/s] 91%|█████████ | 116/128 [00:11<00:01, 10.32it/s] 92%|█████████▏| 118/128 [00:11<00:00, 10.20it/s] 94%|█████████▍| 120/128 [00:11<00:00, 10.20it/s] 95%|█████████▌| 122/128 [00:11<00:00, 10.20it/s] 97%|█████████▋| 124/128 [00:11<00:00, 10.09it/s] 98%|█████████▊| 126/128 [00:12<00:00, 10.04it/s]100%|██████████| 128/128 [00:12<00:00, 10.30it/s]100%|██████████| 128/128 [00:12<00:00, 10.38it/s]
[2024-01-18 14:35:22,154] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '1'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.33it/s]  2%|▏         | 3/128 [00:00<00:11, 10.56it/s]  4%|▍         | 5/128 [00:00<00:11, 10.33it/s]  5%|▌         | 7/128 [00:00<00:11, 10.24it/s]  7%|▋         | 9/128 [00:00<00:11, 10.58it/s]  9%|▊         | 11/128 [00:01<00:10, 10.71it/s] 10%|█         | 13/128 [00:01<00:10, 10.51it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.24it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.53it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.74it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.42it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.28it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.44it/s] 21%|██        | 27/128 [00:02<00:09, 10.36it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.56it/s] 24%|██▍       | 31/128 [00:02<00:09, 10.08it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.31it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.59it/s] 29%|██▉       | 37/128 [00:03<00:09, 10.07it/s] 30%|███       | 39/128 [00:03<00:08, 10.13it/s] 32%|███▏      | 41/128 [00:03<00:08, 10.30it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.44it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.52it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.63it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.20it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.06it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.34it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.48it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.43it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.36it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.41it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.75it/s] 51%|█████     | 65/128 [00:06<00:05, 10.73it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.39it/s] 54%|█████▍    | 69/128 [00:06<00:06,  9.76it/s] 55%|█████▌    | 71/128 [00:06<00:05,  9.95it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.03it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.15it/s] 60%|██████    | 77/128 [00:07<00:04, 10.35it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.63it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.13it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.56it/s] 66%|██████▋   | 85/128 [00:08<00:04, 10.63it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.50it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.34it/s] 71%|███████   | 91/128 [00:08<00:03, 10.30it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.57it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.18it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.70it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.50it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.03it/s] 80%|████████  | 103/128 [00:09<00:02, 10.24it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.18it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.39it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.26it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.43it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.45it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.33it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.17it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.93it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.92it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.20it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.79it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.71it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:35:34,566] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '2'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.52it/s]  2%|▏         | 3/128 [00:00<00:12, 10.34it/s]  4%|▍         | 5/128 [00:00<00:12, 10.16it/s]  5%|▌         | 7/128 [00:00<00:11, 10.14it/s]  7%|▋         | 9/128 [00:00<00:11, 10.33it/s]  9%|▊         | 11/128 [00:01<00:10, 10.69it/s] 10%|█         | 13/128 [00:01<00:11, 10.34it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.12it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.41it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.51it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.39it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.14it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.33it/s] 21%|██        | 27/128 [00:02<00:09, 10.23it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.33it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.02it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.18it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.49it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.95it/s] 30%|███       | 39/128 [00:03<00:08,  9.91it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.24it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.30it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.42it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.58it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.00it/s] 40%|███▉      | 51/128 [00:05<00:07, 10.01it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.26it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.34it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.32it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.07it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.26it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.79it/s] 51%|█████     | 65/128 [00:06<00:05, 10.95it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.83it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.13it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.32it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.55it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.48it/s] 60%|██████    | 77/128 [00:07<00:04, 10.48it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.71it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.05it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.73it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.89it/s] 68%|██████▊   | 87/128 [00:08<00:03, 10.99it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.68it/s] 71%|███████   | 91/128 [00:08<00:03, 10.39it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.59it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.19it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.73it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.50it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.97it/s] 80%|████████  | 103/128 [00:09<00:02, 10.21it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.15it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.40it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.22it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.35it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.42it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.27it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.25it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.90it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.91it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.14it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.77it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.81it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
[2024-01-18 14:35:46,981] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '3'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.27it/s]  2%|▏         | 3/128 [00:00<00:12, 10.31it/s]  4%|▍         | 5/128 [00:00<00:12, 10.13it/s]  5%|▌         | 7/128 [00:00<00:11, 10.10it/s]  7%|▋         | 9/128 [00:00<00:11, 10.46it/s]  9%|▊         | 11/128 [00:01<00:11, 10.63it/s] 10%|█         | 13/128 [00:01<00:11, 10.37it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.08it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.36it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.61it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.37it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.15it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.30it/s] 21%|██        | 27/128 [00:02<00:09, 10.20it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.42it/s] 24%|██▍       | 31/128 [00:03<00:09, 10.01it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.19it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.51it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.96it/s] 30%|███       | 39/128 [00:03<00:08, 10.05it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.25it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.33it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.44it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.55it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.15it/s] 40%|███▉      | 51/128 [00:04<00:07, 10.07it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.27it/s] 43%|████▎     | 55/128 [00:05<00:07, 10.42it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.34it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.29it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.44it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.77it/s] 51%|█████     | 65/128 [00:06<00:05, 10.89it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.86it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.28it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.47it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.56it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.39it/s] 60%|██████    | 77/128 [00:07<00:04, 10.49it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.68it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.23it/s] 65%|██████▍   | 83/128 [00:07<00:04, 10.77it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.85it/s] 68%|██████▊   | 87/128 [00:08<00:03, 11.02it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.64it/s] 71%|███████   | 91/128 [00:08<00:03, 10.52it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.71it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.09it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.73it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.50it/s] 79%|███████▉  | 101/128 [00:09<00:02, 10.15it/s] 80%|████████  | 103/128 [00:09<00:02, 10.32it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.01it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.35it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.17it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.45it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.58it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.17it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.08it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.82it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.95it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.26it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.64it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.70it/s]100%|██████████| 128/128 [00:12<00:00, 10.33it/s]
[2024-01-18 14:35:59,379] [openicl.icl_inferencer.icl_ppl_inferencer] [INFO] Calculating PPL for prompts labeled '4'
  0%|          | 0/128 [00:00<?, ?it/s]  1%|          | 1/128 [00:00<00:13,  9.08it/s]  2%|▏         | 3/128 [00:00<00:11, 10.47it/s]  4%|▍         | 5/128 [00:00<00:11, 10.33it/s]  5%|▌         | 7/128 [00:00<00:12, 10.05it/s]  7%|▋         | 9/128 [00:00<00:11, 10.30it/s]  9%|▊         | 11/128 [00:01<00:11, 10.57it/s] 10%|█         | 13/128 [00:01<00:11, 10.35it/s] 12%|█▏        | 15/128 [00:01<00:11, 10.15it/s] 13%|█▎        | 17/128 [00:01<00:10, 10.38it/s] 15%|█▍        | 19/128 [00:01<00:10, 10.53it/s] 16%|█▋        | 21/128 [00:02<00:10, 10.32it/s] 18%|█▊        | 23/128 [00:02<00:10, 10.19it/s] 20%|█▉        | 25/128 [00:02<00:09, 10.40it/s] 21%|██        | 27/128 [00:02<00:09, 10.28it/s] 23%|██▎       | 29/128 [00:02<00:09, 10.36it/s] 24%|██▍       | 31/128 [00:03<00:09,  9.97it/s] 26%|██▌       | 33/128 [00:03<00:09, 10.19it/s] 27%|██▋       | 35/128 [00:03<00:09,  9.55it/s] 29%|██▉       | 37/128 [00:03<00:09,  9.96it/s] 30%|███       | 39/128 [00:03<00:08,  9.90it/s] 32%|███▏      | 41/128 [00:04<00:08, 10.19it/s] 34%|███▎      | 43/128 [00:04<00:08, 10.34it/s] 35%|███▌      | 45/128 [00:04<00:07, 10.47it/s] 37%|███▋      | 47/128 [00:04<00:07, 10.63it/s] 38%|███▊      | 49/128 [00:04<00:07, 10.04it/s] 40%|███▉      | 51/128 [00:05<00:07,  9.94it/s] 41%|████▏     | 53/128 [00:05<00:07, 10.24it/s] 43%|████▎     | 55/128 [00:05<00:06, 10.43it/s] 45%|████▍     | 57/128 [00:05<00:06, 10.40it/s] 46%|████▌     | 59/128 [00:05<00:06, 10.21it/s] 48%|████▊     | 61/128 [00:05<00:06, 10.29it/s] 49%|████▉     | 63/128 [00:06<00:06, 10.81it/s] 51%|█████     | 65/128 [00:06<00:05, 10.97it/s] 52%|█████▏    | 67/128 [00:06<00:05, 10.93it/s] 54%|█████▍    | 69/128 [00:06<00:05, 10.23it/s] 55%|█████▌    | 71/128 [00:06<00:05, 10.34it/s] 57%|█████▋    | 73/128 [00:07<00:05, 10.55it/s] 59%|█████▊    | 75/128 [00:07<00:05, 10.46it/s] 60%|██████    | 77/128 [00:07<00:04, 10.59it/s] 62%|██████▏   | 79/128 [00:07<00:04, 10.69it/s] 63%|██████▎   | 81/128 [00:07<00:04, 11.12it/s] 65%|██████▍   | 83/128 [00:08<00:04, 10.76it/s] 66%|██████▋   | 85/128 [00:08<00:03, 10.86it/s] 68%|██████▊   | 87/128 [00:08<00:03, 11.06it/s] 70%|██████▉   | 89/128 [00:08<00:03, 10.75it/s] 71%|███████   | 91/128 [00:08<00:03, 10.34it/s] 73%|███████▎  | 93/128 [00:08<00:03, 10.50it/s] 74%|███████▍  | 95/128 [00:09<00:03, 10.08it/s] 76%|███████▌  | 97/128 [00:09<00:02, 10.72it/s] 77%|███████▋  | 99/128 [00:09<00:02, 10.55it/s] 79%|███████▉  | 101/128 [00:09<00:02,  9.96it/s] 80%|████████  | 103/128 [00:09<00:02, 10.20it/s] 82%|████████▏ | 105/128 [00:10<00:02, 10.09it/s] 84%|████████▎ | 107/128 [00:10<00:02, 10.33it/s] 85%|████████▌ | 109/128 [00:10<00:01, 10.23it/s] 87%|████████▋ | 111/128 [00:10<00:01, 10.41it/s] 88%|████████▊ | 113/128 [00:10<00:01, 10.35it/s] 90%|████████▉ | 115/128 [00:11<00:01, 10.22it/s] 91%|█████████▏| 117/128 [00:11<00:01, 10.17it/s] 93%|█████████▎| 119/128 [00:11<00:00,  9.93it/s] 95%|█████████▍| 121/128 [00:11<00:00,  9.98it/s] 96%|█████████▌| 123/128 [00:11<00:00, 10.05it/s] 98%|█████████▊| 125/128 [00:12<00:00,  9.70it/s] 99%|█████████▉| 127/128 [00:12<00:00,  9.66it/s]100%|██████████| 128/128 [00:12<00:00, 10.32it/s]
it took 3939.1394391059875 seconds for gpt2-xlto sort 50 cases with 8 ices in sst5
